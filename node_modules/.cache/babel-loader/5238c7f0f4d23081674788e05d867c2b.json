{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, measureText, textElement, PathOption } from '@syncfusion/ej2-svg-base';\nimport { RectOption, CircleOption } from '../../common/utils/helper';\nimport { Animation, animationMode } from '@syncfusion/ej2-base';\nimport { getAnimationFunction } from '../../common/utils/helper';\n/**\n * class for Bullet chart Scale Group\n */\nvar ScaleGroup = /** @class */function () {\n  function ScaleGroup(bulletChart) {\n    this.comparative = [];\n    //super();\n    this.dataSource = bulletChart.dataSource;\n    this.isVertical = bulletChart.orientation === 'Vertical';\n    this.isTicksInside = bulletChart.tickPosition === 'Inside';\n    this.isLabelsInside = bulletChart.labelPosition === 'Inside';\n    this.isHorizontal = bulletChart.orientation === 'Horizontal';\n    this.isLeft = bulletChart.titlePosition === 'Left';\n    this.isRight = bulletChart.titlePosition === 'Right';\n    this.isTop = bulletChart.titlePosition === 'Top';\n    this.location = 10;\n    this.featureBarBounds = [];\n    this.majorTickSize = bulletChart.majorTickLines.height;\n    this.labelOffset = 15;\n    this.labelSize = 12;\n    this.bulletChart = bulletChart;\n    this.isLabelBelow = !this.bulletChart.opposedPosition;\n    this.scaleOrientation = this.bulletChart.orientation;\n    this.rangeColor = [];\n  }\n  /**\n   * To render range scale of the bulletChart graph.\n   *\n   * @param {Element} scaleGroup\n   */\n  ScaleGroup.prototype.drawScaleGroup = function (scaleGroup) {\n    var rangeGroup = this.bulletChart.renderer.createGroup({\n      'id': this.bulletChart.svgObject.id + '_rangeGroup'\n    });\n    var max = this.bulletChart.maximum;\n    var ranges = this.bulletChart.ranges;\n    this.scaleSettingsGroup = scaleGroup;\n    var rect;\n    var bullet = this.bulletChart;\n    var enableRtl = bullet.enableRtl;\n    var initialRect = bullet.initialClipRect;\n    var locX = initialRect.x + (enableRtl && bullet.orientation === 'Horizontal' ? initialRect.width : 0);\n    var locY = initialRect.y + (!enableRtl && bullet.orientation === 'Vertical' ? initialRect.height : 0);\n    var area = 0;\n    bullet.rangeCollection = [];\n    var start = 0;\n    var range = bullet.orientation === 'Horizontal' ? initialRect.width : initialRect.height;\n    var fillRange = bullet.orientation === 'Horizontal' ? initialRect.height : initialRect.width;\n    for (var i = 0; i < ranges.length; i++) {\n      area = range * ((ranges[i].end - start) / max);\n      if (bullet.orientation === 'Horizontal') {\n        locX -= enableRtl ? area : 0;\n      } else {\n        locY -= !enableRtl ? area : 0;\n      }\n      rect = new RectOption(bullet.svgObject.id + '_range_' + i,\n      // tslint:disable-next-line:no-string-literal\n      ranges[i].color || this.bulletChart.themeStyle.rangeStrokes[i]['color'], {\n        width: 1\n      }, ranges[i].opacity, new Rect(locX, locY, bullet.orientation === 'Horizontal' ? area : fillRange, bullet.orientation === 'Horizontal' ? fillRange : area));\n      var svgRect = bullet.renderer.drawRectangle(rect);\n      rangeGroup.appendChild(svgRect);\n      scaleGroup.appendChild(rangeGroup);\n      if (bullet.orientation === 'Horizontal') {\n        locX += enableRtl ? 0 : area;\n      } else {\n        locY += !enableRtl ? 0 : area;\n      }\n      bullet.rangeCollection.push(area);\n      start = ranges[i].end;\n    }\n    return this.bulletChart.rangeCollection;\n  };\n  ScaleGroup.prototype.sortRangeCollection = function (a, b) {\n    return a - b;\n  };\n  /**\n   * To render the feature bar of the bulletChart chart.\n   *\n   * @param {number} dataCount Count of the bar.\n   */\n  ScaleGroup.prototype.renderFeatureBar = function (dataCount) {\n    if (dataCount === 0) {\n      return;\n    }\n    this.renderCommonFeatureBar(dataCount, this.isHorizontal);\n  };\n  /**\n   * To render the horizontal feature bar of the bulletChart chart\n   *\n   * @param {number} dataCount Count of the bar.\n   */\n  ScaleGroup.prototype.renderCommonFeatureBar = function (dataCount, isHorizontal) {\n    var categoryValue;\n    var dotWidth = 6;\n    var padding = 5;\n    var bulletChart = this.bulletChart;\n    var initialBoundsStart = isHorizontal ? bulletChart.initialClipRect.y + bulletChart.initialClipRect.height : bulletChart.initialClipRect.x;\n    var lPoint;\n    var featueGroup = bulletChart.renderer.createGroup({\n      'id': bulletChart.svgObject.id + '_featureGroup'\n    });\n    var data;\n    var featureBarSize = (isHorizontal ? bulletChart.initialClipRect.height : bulletChart.initialClipRect.width) / dataCount;\n    var bounds;\n    for (var i = 0; i < dataCount; i++) {\n      data = bulletChart.dataSource[i];\n      categoryValue = data[bulletChart.categoryField];\n      if (isHorizontal) {\n        lPoint = initialBoundsStart - featureBarSize * i - (featureBarSize + bulletChart.valueHeight) / 2;\n      } else {\n        lPoint = initialBoundsStart + featureBarSize * i + featureBarSize / 2 - bulletChart.valueHeight / 2;\n      }\n      bounds = this.calculateFeatureMeasureBounds(data[bulletChart.valueField], categoryValue, isHorizontal);\n      if (data && bulletChart.type === 'Dot') {\n        var value = data[bulletChart.valueField];\n        if (isHorizontal) {\n          bounds.pointX = bounds.pointX + (value > 0 && !bulletChart.enableRtl || value < 0 && bulletChart.enableRtl ? bounds.width : 0) - dotWidth / 2;\n        } else {\n          bounds.pointX = bounds.pointX + (value > 0 && bulletChart.enableRtl || value < 0 && !bulletChart.enableRtl ? bounds.width : 0) - dotWidth / 2;\n        }\n        bounds.width = dotWidth;\n      }\n      // Drawing feature bar rect element\n      if (bounds) {\n        var svgRect = isHorizontal ? this.featureBar(bounds.pointX, lPoint, bounds.width, i) : this.verticalFeatureBar(lPoint, bounds.pointX, bounds.width, i);\n        featueGroup.appendChild(svgRect);\n        this.feature = svgRect;\n        this.scaleSettingsGroup.appendChild(featueGroup);\n        this.featureBarBounds[i] = {\n          x: bounds.pointX,\n          y: lPoint,\n          width: bounds.width,\n          height: bulletChart.valueHeight\n        };\n        // Drawing category text element\n        if (!isNullOrUndefined(categoryValue)) {\n          var categoryTextSize = measureText(categoryValue, bulletChart.categoryLabelStyle, bulletChart.themeStyle.axisLabelFont);\n          var categorySize = isHorizontal ? categoryTextSize.width : categoryTextSize.height;\n          var initialRect = bulletChart.initialClipRect;\n          var x = void 0;\n          var categoryOptions = void 0;\n          if (isHorizontal) {\n            x = bulletChart.enableRtl ? initialRect.x + initialRect.width + padding + categorySize / 2 : initialRect.x - padding - categorySize / 2;\n            categoryOptions = this.drawcategory(x, lPoint, categoryValue);\n          } else {\n            x = bulletChart.enableRtl ? initialRect.y - padding - categorySize / 2 : initialRect.y + initialRect.height + padding + categorySize / 2;\n            categoryOptions = this.drawcategory(lPoint + bulletChart.valueHeight / 2, x, categoryValue);\n          }\n          bulletChart.categoryLabelStyle.fontFamily = bulletChart.categoryLabelStyle.fontFamily || bulletChart.themeStyle.axisLabelFont.fontFamily;\n          textElement(categoryOptions, bulletChart.categoryLabelStyle, bulletChart.categoryLabelStyle.color || bulletChart.themeStyle.axisLabelFont.color, this.scaleSettingsGroup);\n        }\n      }\n      if (bulletChart.animation.enable && animationMode != 'Disable' || animationMode === 'Enable') {\n        this.doValueBarAnimation();\n      }\n    }\n  };\n  ScaleGroup.prototype.featureBar = function (pointX, pointY, width, i) {\n    var featureBarOptions = new RectOption(this.bulletChart.svgObject.id + '_FeatureMeasure_' + i, this.bulletChart.dataSource[i][this.bulletChart.valueFill] || this.bulletChart.valueFill, this.bulletChart.valueBorder, 1, new Rect(pointX, pointY, width, this.bulletChart.valueHeight), 0, 0, '', this.bulletChart.valueBorder.dashArray);\n    var svgRect = this.bulletChart.renderer.drawRectangle(featureBarOptions);\n    svgRect.setAttribute('class', this.bulletChart.svgObject.id + '_FeatureMeasure');\n    svgRect.id = this.bulletChart.svgObject.id + '_FeatureMeasure_' + i;\n    svgRect.setAttribute('role', 'img');\n    svgRect.setAttribute('tabindex', '0');\n    svgRect.setAttribute('aria-label', this.bulletChart.title + ', value: ' + this.bulletChart.dataSource[i].value + ', target: ' + this.bulletChart.dataSource[i].target);\n    return svgRect;\n  };\n  ScaleGroup.prototype.verticalFeatureBar = function (pointX, pointY, width, i) {\n    var featureBarOptions = new RectOption(this.bulletChart.svgObject.id + '_FeatureMeasure_' + i, this.bulletChart.dataSource[i][this.bulletChart.valueFill] || this.bulletChart.valueFill, this.bulletChart.valueBorder, 1, new Rect(pointX, pointY, this.bulletChart.valueHeight, width));\n    var svgRect = this.bulletChart.renderer.drawRectangle(featureBarOptions);\n    svgRect.setAttribute('class', this.bulletChart.svgObject.id + '_FeatureMeasure');\n    svgRect.id = this.bulletChart.svgObject.id + '_FeatureMeasure_' + i;\n    svgRect.setAttribute('role', 'img');\n    svgRect.setAttribute('tabindex', '0');\n    svgRect.setAttribute('aria-label', this.bulletChart.title + ', value: ' + this.bulletChart.dataSource[i].value + ', target: ' + this.bulletChart.dataSource[i].target);\n    return svgRect;\n  };\n  ScaleGroup.prototype.drawcategory = function (lPointX, lPointY, categoryValue) {\n    var fontsize = parseInt(this.bulletChart.categoryLabelStyle.size);\n    var categoryOptions = {\n      'id': '',\n      'anchor': 'middle',\n      'x': lPointX,\n      'y': lPointY + (fontsize / 4 + this.bulletChart.valueHeight / 2),\n      'transform': '',\n      'text': categoryValue,\n      'baseLine': '',\n      'labelRotation': 0\n    };\n    return categoryOptions;\n  };\n  /**\n   * To render comparative symbol of the bulletChart chart.\n   *\n   * @param {number} dataCount Data count value.\n   */\n  ScaleGroup.prototype.renderComparativeSymbol = function (dataCount) {\n    if (dataCount === 0) {\n      return;\n    }\n    this.renderCommonComparativeSymbol(dataCount, this.isHorizontal);\n  };\n  ScaleGroup.prototype.renderCommonComparativeSymbol = function (dataCount, isHorizontal) {\n    var bulletChart = this.bulletChart;\n    var value;\n    var rect = bulletChart.initialClipRect;\n    var scaleLength = isHorizontal ? rect.width : rect.height;\n    var y1;\n    var y2;\n    var x1;\n    var pointY = isHorizontal ? rect.y + rect.height : rect.x;\n    var comparativeGroup = bulletChart.renderer.createGroup({\n      'id': bulletChart.svgObject.id + '_comparativeGroup'\n    });\n    var minimum = bulletChart.minimum;\n    var maximum = bulletChart.maximum;\n    var delta = maximum - minimum;\n    var targetWidth = 5;\n    var pointX = isHorizontal ? rect.x - targetWidth / 2 : rect.y + rect.height;\n    var temp;\n    var values = [];\n    var targetTypes = bulletChart.targetTypes;\n    var targetType = 'Rect';\n    var targetTypeLength = targetTypes.length;\n    var featureBarSize = (isHorizontal ? rect.height : rect.width) / dataCount;\n    var svgElement;\n    for (var k = 0; k < dataCount; k++) {\n      value = bulletChart.dataSource[k][bulletChart.targetField];\n      values = values.concat(value);\n      for (var i = 0; i < values.length; i++) {\n        targetType = targetTypes[i % targetTypeLength];\n        if (values[i] >= minimum && values[i] <= maximum) {\n          if (isHorizontal) {\n            temp = pointY - featureBarSize * k - featureBarSize / 2;\n          } else {\n            temp = pointY + featureBarSize * k + featureBarSize / 2;\n          }\n          y1 = temp - targetWidth * 1.5;\n          y2 = temp + targetWidth * 1.5;\n          temp = scaleLength / (delta / (delta - (maximum - values[i])));\n          if (isHorizontal) {\n            x1 = pointX + (bulletChart.enableRtl ? scaleLength - temp : temp);\n          } else {\n            x1 = pointX - (bulletChart.enableRtl ? scaleLength - temp : temp);\n          }\n          svgElement = this.getTargetElement(targetType, isHorizontal, x1, y1, y2, values[i], k);\n          this.comparative.push(svgElement);\n          comparativeGroup.appendChild(svgElement);\n          y1 = 0;\n          y2 = 0;\n        }\n        this.scaleSettingsGroup.appendChild(comparativeGroup);\n      }\n      values = [];\n      if (bulletChart.animation.enable && animationMode != 'Disable' || animationMode === 'Enable') {\n        this.doTargetBarAnimation(0);\n      }\n    }\n  };\n  ScaleGroup.prototype.getTargetElement = function (targetType, isHorizontal, x1, y1, y2, value, k) {\n    var shapeObject;\n    var shapeElement;\n    var bulletChart = this.bulletChart;\n    var strokeWidth = targetType === 'Cross' ? bulletChart.targetWidth - 1 : 1;\n    var size = targetType === 'Circle' ? bulletChart.targetWidth - 1 : bulletChart.targetWidth;\n    var lx = isHorizontal ? x1 + size / 2 : y1 + (y2 - y1) / 2;\n    var ly = isHorizontal ? y1 + (y2 - y1) / 2 : x1;\n    var id = bulletChart.svgObject.id + '_ComparativeMeasure_' + k;\n    var className = bulletChart.svgObject.id + '_ComparativeMeasure';\n    var targetColor = bulletChart.dataSource[k][bulletChart.targetColor] || bulletChart.targetColor;\n    if (targetType === 'Rect') {\n      shapeObject = isHorizontal ? this.compareMeasure(x1, y1, y2, k, value) : this.compareVMeasure(y1, y2, x1, k);\n      shapeElement = bulletChart.renderer.drawLine(shapeObject);\n    } else if (targetType === 'Circle') {\n      shapeObject = new CircleOption(id, targetColor, {\n        width: 1,\n        color: targetColor || 'black'\n      }, 1, lx, ly, size);\n      shapeElement = bulletChart.renderer.drawCircle(shapeObject);\n    } else {\n      var crossDirection = 'M ' + (lx - size) + ' ' + (ly - size) + ' L ' + (lx + size) + ' ' + (ly + size) + ' M ' + (lx - size) + ' ' + (ly + size) + ' L ' + (lx + size) + ' ' + (ly - size);\n      shapeObject = new PathOption(id, 'transparent', strokeWidth, targetColor, 1, '', crossDirection);\n      shapeElement = bulletChart.renderer.drawPath(shapeObject);\n    }\n    shapeElement.setAttribute('class', className);\n    return shapeElement;\n  };\n  ScaleGroup.prototype.compareMeasure = function (x1, y1, y2, i, value) {\n    var bulletChart = this.bulletChart;\n    var compareMeasureOptions = {\n      'class': bulletChart.svgObject.id + '_ComparativeMeasure',\n      'id': bulletChart.svgObject.id + '_ComparativeMeasure_' + i,\n      'x1': value === bulletChart.maximum ? x1 - bulletChart.targetWidth / 2 : value === bulletChart.minimum ? x1 + bulletChart.targetWidth / 2 : x1,\n      'y1': y1,\n      'x2': value === bulletChart.maximum ? x1 - bulletChart.targetWidth / 2 : value === bulletChart.minimum ? x1 + bulletChart.targetWidth / 2 : x1,\n      'y2': y2,\n      'stroke-width': bulletChart.targetWidth,\n      'stroke': bulletChart.dataSource[i][bulletChart.targetColor] || bulletChart.targetColor || 'black'\n    };\n    return compareMeasureOptions;\n  };\n  ScaleGroup.prototype.compareVMeasure = function (x1, x2, y1, i) {\n    var bulletChart = this.bulletChart;\n    var compareMeasureOptions = {\n      'class': bulletChart.svgObject.id + '_ComparativeMeasure',\n      'id': bulletChart.svgObject.id + '_ComparativeMeasure_' + i,\n      'x1': x1,\n      'y1': y1,\n      'x2': x2,\n      'y2': y1,\n      'stroke-width': bulletChart.targetWidth,\n      'stroke': bulletChart.dataSource[i][bulletChart.targetColor] || bulletChart.targetColor || 'black'\n    };\n    return compareMeasureOptions;\n  };\n  /**\n   * To calculate the bounds on vertical and horizontal orientation changes\n   *\n   * @param {number} value Value of the scale.\n   * @param {string} categoryValue Value of the category.\n   * @param {boolean} isHorizontal Boolean value.\n   * @returns {IFeatureMeasureType} calculateFeatureMeasureBounds\n   */\n  ScaleGroup.prototype.calculateFeatureMeasureBounds = function (value, categoryValue, isHorizontal) {\n    var bulletChart = this.bulletChart;\n    var min = bulletChart.minimum;\n    value = value < min && min <= 0 ? min : value;\n    if (value >= min) {\n      var pointX = void 0;\n      var lastPointX = void 0;\n      var width = void 0;\n      var loc = isHorizontal ? bulletChart.initialClipRect.x : bulletChart.initialClipRect.y;\n      var scaleLength = isHorizontal ? bulletChart.initialClipRect.width : bulletChart.initialClipRect.height;\n      var delta = bulletChart.maximum - bulletChart.minimum;\n      var valueDiff = bulletChart.maximum - value;\n      var orientation_1 = (!bulletChart.enableRtl ? 'forward' : 'backward') + this.scaleOrientation.toLowerCase();\n      categoryValue = isNullOrUndefined(categoryValue) ? '' : categoryValue;\n      var stringLength = measureText(categoryValue.toString(), bulletChart.labelStyle, this.bulletChart.themeStyle.axisLabelFont).width;\n      switch (orientation_1) {\n        case 'forwardhorizontal':\n        case 'backwardvertical':\n          pointX = loc + (min > 0 ? 0 : scaleLength / delta * Math.abs(min));\n          width = scaleLength / (delta / (min > 0 ? delta - valueDiff : value));\n          if (value < 0) {\n            width = Math.abs(width);\n            pointX -= width;\n          }\n          width = pointX + width < loc + scaleLength ? width : loc + scaleLength - pointX;\n          lastPointX = loc - (orientation_1 === 'forwardhorizontal' ? stringLength / 2 + 5 : this.labelOffset);\n          break;\n        default:\n          pointX = loc + (scaleLength - scaleLength / (delta / (delta - valueDiff)));\n          width = min > 0 ? scaleLength / (delta / (delta - valueDiff)) : scaleLength / (delta / value);\n          if (value < 0) {\n            width = Math.abs(width);\n            pointX -= width;\n          }\n          if (pointX < loc) {\n            width = pointX + width - loc;\n            pointX = loc;\n          }\n          lastPointX = loc + scaleLength + (orientation_1 === 'backwardhorizontal' ? stringLength / 2 + 5 : 5);\n          break;\n      }\n      return {\n        pointX: pointX,\n        width: width,\n        lastPointX: lastPointX\n      };\n    }\n    return null;\n  };\n  /**\n   * Animates the feature bar.\n   *\n   * @returns {void}\n   */\n  ScaleGroup.prototype.doValueBarAnimation = function () {\n    var valueBarElement = this.feature;\n    if (!valueBarElement) {\n      return null;\n    }\n    var animateOption = this.bulletChart.animation;\n    var animateDuration = this.bulletChart.animateSeries ? this.bulletChart.animation.duration : animateOption.duration;\n    var effectType = getAnimationFunction('Linear');\n    var isValuePlot = this.bulletChart.dataSource < 0;\n    var valueX;\n    var valueY;\n    var elementBarHeight = valueBarElement.getBoundingClientRect().height;\n    var elementBarWidth = valueBarElement.getBoundingClientRect().width;\n    var centerX;\n    var centerY;\n    var valueActual;\n    if (this.bulletChart.orientation === 'Horizontal' && valueBarElement) {\n      valueY = parseInt(valueBarElement.getAttribute('height'), 10);\n      valueX = parseInt(valueBarElement.getAttribute('x'), 10);\n      centerY = isValuePlot ? valueY : valueY + elementBarHeight;\n      centerX = valueX;\n    }\n    valueBarElement.style.visibility = 'hidden';\n    new Animation({}).animate(valueBarElement, {\n      duration: animateDuration === 0 && animationMode === 'Enable' ? 1000 : animateDuration,\n      delay: animateOption.delay,\n      progress: function (args) {\n        if (args.timeStamp >= args.delay) {\n          valueBarElement.style.visibility = 'visible';\n          elementBarWidth = elementBarWidth ? elementBarWidth : 1;\n          valueActual = effectType(args.timeStamp - args.delay, 0, elementBarWidth, args.duration);\n          valueBarElement.setAttribute('transform', 'translate(' + centerX + ' ' + centerY + ') scale(' + valueActual / elementBarWidth + ', 1) translate(' + -centerX + ' ' + -centerY + ')');\n        }\n      },\n      end: function () {\n        valueBarElement.setAttribute('transform', 'translate(0,0)');\n        valueBarElement.style.visibility = 'visible';\n      }\n    });\n  };\n  /**\n   * Animates the comparative bar.\n   *\n   * @param {number} index Defines the feature bar to animate.\n   * @returns {void}\n   */\n  ScaleGroup.prototype.doTargetBarAnimation = function (index) {\n    var x;\n    var y;\n    var centerX;\n    var centerY;\n    var targetBarelement = this.comparative[index];\n    if (!targetBarelement) {\n      return null;\n    }\n    if (this.bulletChart.orientation === 'Horizontal' && targetBarelement) {\n      y = parseFloat(targetBarelement.getAttribute('y1')) + parseFloat(targetBarelement.getAttribute('y2'));\n      x = parseFloat(targetBarelement.getAttribute('x1'));\n      centerY = y;\n      centerX = x;\n    }\n    targetBarelement.style.visibility = 'hidden';\n    this.animateRect(targetBarelement, centerX, centerY, index + 1);\n  };\n  ScaleGroup.prototype.animateRect = function (targetBarelement, centerX, centerY, index) {\n    var _this = this;\n    var effect = getAnimationFunction('Linear');\n    var value;\n    var option = this.bulletChart.animation;\n    var threshold = this.comparative.length;\n    var duration = this.bulletChart.animateSeries ? this.bulletChart.animation.duration : option.duration;\n    new Animation({}).animate(targetBarelement, {\n      duration: duration === 0 && animationMode === 'Enable' ? 1000 : duration,\n      delay: option.delay,\n      progress: function (args) {\n        if (args.timeStamp >= args.delay) {\n          targetBarelement.style.visibility = 'visible';\n          value = effect(args.timeStamp - args.delay, 0, 1, args.duration);\n          targetBarelement.setAttribute('transform', 'translate(' + centerX + ' ' + centerY / 2 + ') scale(1,' + value + ') translate(' + -centerX + ' ' + -centerY / 2 + ')');\n        }\n      },\n      end: function () {\n        targetBarelement.setAttribute('transform', 'translate(0,0)');\n        if (index < threshold) {\n          _this.doTargetBarAnimation(index + 1);\n        }\n      }\n    });\n  };\n  return ScaleGroup;\n}();\nexport { ScaleGroup };","map":{"version":3,"names":["isNullOrUndefined","Rect","measureText","textElement","PathOption","RectOption","CircleOption","Animation","animationMode","getAnimationFunction","ScaleGroup","bulletChart","comparative","dataSource","isVertical","orientation","isTicksInside","tickPosition","isLabelsInside","labelPosition","isHorizontal","isLeft","titlePosition","isRight","isTop","location","featureBarBounds","majorTickSize","majorTickLines","height","labelOffset","labelSize","isLabelBelow","opposedPosition","scaleOrientation","rangeColor","prototype","drawScaleGroup","scaleGroup","rangeGroup","renderer","createGroup","svgObject","id","max","maximum","ranges","scaleSettingsGroup","rect","bullet","enableRtl","initialRect","initialClipRect","locX","x","width","locY","y","area","rangeCollection","start","range","fillRange","i","length","end","color","themeStyle","rangeStrokes","opacity","svgRect","drawRectangle","appendChild","push","sortRangeCollection","a","b","renderFeatureBar","dataCount","renderCommonFeatureBar","categoryValue","dotWidth","padding","initialBoundsStart","lPoint","featueGroup","data","featureBarSize","bounds","categoryField","valueHeight","calculateFeatureMeasureBounds","valueField","type","value","pointX","featureBar","verticalFeatureBar","feature","categoryTextSize","categoryLabelStyle","axisLabelFont","categorySize","categoryOptions","drawcategory","fontFamily","animation","enable","doValueBarAnimation","pointY","featureBarOptions","valueFill","valueBorder","dashArray","setAttribute","title","target","lPointX","lPointY","fontsize","parseInt","size","renderComparativeSymbol","renderCommonComparativeSymbol","scaleLength","y1","y2","x1","comparativeGroup","minimum","delta","targetWidth","temp","values","targetTypes","targetType","targetTypeLength","svgElement","k","targetField","concat","getTargetElement","doTargetBarAnimation","shapeObject","shapeElement","strokeWidth","lx","ly","className","targetColor","compareMeasure","compareVMeasure","drawLine","drawCircle","crossDirection","drawPath","compareMeasureOptions","x2","min","lastPointX","loc","valueDiff","orientation_1","toLowerCase","stringLength","toString","labelStyle","Math","abs","valueBarElement","animateOption","animateDuration","animateSeries","duration","effectType","isValuePlot","valueX","valueY","elementBarHeight","getBoundingClientRect","elementBarWidth","centerX","centerY","valueActual","getAttribute","style","visibility","animate","delay","progress","args","timeStamp","index","targetBarelement","parseFloat","animateRect","_this","effect","option","threshold"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-charts/src/bullet-chart/renderer/scale-render.js"],"sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, measureText, textElement, PathOption } from '@syncfusion/ej2-svg-base';\nimport { RectOption, CircleOption } from '../../common/utils/helper';\nimport { Animation, animationMode } from '@syncfusion/ej2-base';\nimport { getAnimationFunction } from '../../common/utils/helper';\n/**\n * class for Bullet chart Scale Group\n */\nvar ScaleGroup = /** @class */ (function () {\n    function ScaleGroup(bulletChart) {\n        this.comparative = [];\n        //super();\n        this.dataSource = bulletChart.dataSource;\n        this.isVertical = (bulletChart.orientation === 'Vertical');\n        this.isTicksInside = (bulletChart.tickPosition === 'Inside');\n        this.isLabelsInside = (bulletChart.labelPosition === 'Inside');\n        this.isHorizontal = (bulletChart.orientation === 'Horizontal');\n        this.isLeft = bulletChart.titlePosition === 'Left';\n        this.isRight = bulletChart.titlePosition === 'Right';\n        this.isTop = bulletChart.titlePosition === 'Top';\n        this.location = 10;\n        this.featureBarBounds = [];\n        this.majorTickSize = bulletChart.majorTickLines.height;\n        this.labelOffset = 15;\n        this.labelSize = 12;\n        this.bulletChart = bulletChart;\n        this.isLabelBelow = !this.bulletChart.opposedPosition;\n        this.scaleOrientation = this.bulletChart.orientation;\n        this.rangeColor = [];\n    }\n    /**\n     * To render range scale of the bulletChart graph.\n     *\n     * @param {Element} scaleGroup\n     */\n    ScaleGroup.prototype.drawScaleGroup = function (scaleGroup) {\n        var rangeGroup = this.bulletChart.renderer.createGroup({ 'id': this.bulletChart.svgObject.id + '_rangeGroup' });\n        var max = this.bulletChart.maximum;\n        var ranges = this.bulletChart.ranges;\n        this.scaleSettingsGroup = scaleGroup;\n        var rect;\n        var bullet = this.bulletChart;\n        var enableRtl = bullet.enableRtl;\n        var initialRect = bullet.initialClipRect;\n        var locX = initialRect.x + ((enableRtl && bullet.orientation === 'Horizontal') ? initialRect.width : 0);\n        var locY = initialRect.y + ((!enableRtl && bullet.orientation === 'Vertical') ? initialRect.height : 0);\n        var area = 0;\n        bullet.rangeCollection = [];\n        var start = 0;\n        var range = (bullet.orientation === 'Horizontal') ? initialRect.width : initialRect.height;\n        var fillRange = (bullet.orientation === 'Horizontal') ? initialRect.height : initialRect.width;\n        for (var i = 0; i < ranges.length; i++) {\n            area = (range) * ((ranges[i].end - start) / max);\n            if (bullet.orientation === 'Horizontal') {\n                locX -= (enableRtl) ? area : 0;\n            }\n            else {\n                locY -= (!enableRtl) ? area : 0;\n            }\n            rect = new RectOption(bullet.svgObject.id + '_range_' + i, \n            // tslint:disable-next-line:no-string-literal\n            ranges[i].color || this.bulletChart.themeStyle.rangeStrokes[i]['color'], { width: 1 }, ranges[i].opacity, new Rect(locX, locY, ((bullet.orientation === 'Horizontal') ? area : fillRange), ((bullet.orientation === 'Horizontal') ? fillRange : area)));\n            var svgRect = bullet.renderer.drawRectangle(rect);\n            rangeGroup.appendChild(svgRect);\n            scaleGroup.appendChild(rangeGroup);\n            if (bullet.orientation === 'Horizontal') {\n                locX += (enableRtl) ? 0 : area;\n            }\n            else {\n                locY += (!enableRtl) ? 0 : area;\n            }\n            bullet.rangeCollection.push(area);\n            start = ranges[i].end;\n        }\n        return this.bulletChart.rangeCollection;\n    };\n    ScaleGroup.prototype.sortRangeCollection = function (a, b) {\n        return (a - b);\n    };\n    /**\n     * To render the feature bar of the bulletChart chart.\n     *\n     * @param {number} dataCount Count of the bar.\n     */\n    ScaleGroup.prototype.renderFeatureBar = function (dataCount) {\n        if (dataCount === 0) {\n            return;\n        }\n        this.renderCommonFeatureBar(dataCount, this.isHorizontal);\n    };\n    /**\n     * To render the horizontal feature bar of the bulletChart chart\n     *\n     * @param {number} dataCount Count of the bar.\n     */\n    ScaleGroup.prototype.renderCommonFeatureBar = function (dataCount, isHorizontal) {\n        var categoryValue;\n        var dotWidth = 6;\n        var padding = 5;\n        var bulletChart = this.bulletChart;\n        var initialBoundsStart = isHorizontal ? (bulletChart.initialClipRect.y + bulletChart.initialClipRect.height) :\n            bulletChart.initialClipRect.x;\n        var lPoint;\n        var featueGroup = bulletChart.renderer.createGroup({ 'id': bulletChart.svgObject.id + '_featureGroup' });\n        var data;\n        var featureBarSize = (isHorizontal ? bulletChart.initialClipRect.height : bulletChart.initialClipRect.width) / dataCount;\n        var bounds;\n        for (var i = 0; i < dataCount; i++) {\n            data = bulletChart.dataSource[i];\n            categoryValue = data[bulletChart.categoryField];\n            if (isHorizontal) {\n                lPoint = initialBoundsStart - (featureBarSize * i) - (featureBarSize + bulletChart.valueHeight) / 2;\n            }\n            else {\n                lPoint = initialBoundsStart + (featureBarSize * i) + (featureBarSize / 2) - bulletChart.valueHeight / 2;\n            }\n            bounds = this.calculateFeatureMeasureBounds(data[bulletChart.valueField], categoryValue, isHorizontal);\n            if (data && bulletChart.type === 'Dot') {\n                var value = data[bulletChart.valueField];\n                if (isHorizontal) {\n                    bounds.pointX = bounds.pointX + (((value > 0) && !bulletChart.enableRtl) ||\n                        ((value < 0) && bulletChart.enableRtl) ? (bounds.width) : 0) - dotWidth / 2;\n                }\n                else {\n                    bounds.pointX = bounds.pointX + (((value > 0) && bulletChart.enableRtl) ||\n                        ((value < 0) && !bulletChart.enableRtl) ? (bounds.width) : 0) - dotWidth / 2;\n                }\n                bounds.width = dotWidth;\n            }\n            // Drawing feature bar rect element\n            if (bounds) {\n                var svgRect = isHorizontal ? this.featureBar(bounds.pointX, lPoint, bounds.width, i) :\n                    this.verticalFeatureBar(lPoint, bounds.pointX, bounds.width, i);\n                featueGroup.appendChild(svgRect);\n                this.feature = svgRect;\n                this.scaleSettingsGroup.appendChild(featueGroup);\n                this.featureBarBounds[i] = { x: bounds.pointX, y: lPoint, width: bounds.width, height: bulletChart.valueHeight };\n                // Drawing category text element\n                if (!isNullOrUndefined(categoryValue)) {\n                    var categoryTextSize = measureText(categoryValue, bulletChart.categoryLabelStyle, bulletChart.themeStyle.axisLabelFont);\n                    var categorySize = isHorizontal ? categoryTextSize.width : categoryTextSize.height;\n                    var initialRect = bulletChart.initialClipRect;\n                    var x = void 0;\n                    var categoryOptions = void 0;\n                    if (isHorizontal) {\n                        x = (bulletChart.enableRtl) ? (initialRect.x + initialRect.width + padding + categorySize / 2) :\n                            initialRect.x - padding - categorySize / 2;\n                        categoryOptions = this.drawcategory(x, lPoint, categoryValue);\n                    }\n                    else {\n                        x = (bulletChart.enableRtl) ? (initialRect.y - padding - categorySize / 2) :\n                            initialRect.y + initialRect.height + padding + categorySize / 2;\n                        categoryOptions = this.drawcategory(lPoint + bulletChart.valueHeight / 2, x, categoryValue);\n                    }\n                    bulletChart.categoryLabelStyle.fontFamily = bulletChart.categoryLabelStyle.fontFamily || bulletChart.themeStyle.axisLabelFont.fontFamily;\n                    textElement(categoryOptions, bulletChart.categoryLabelStyle, bulletChart.categoryLabelStyle.color || bulletChart.themeStyle.axisLabelFont.color, this.scaleSettingsGroup);\n                }\n            }\n            if ((bulletChart.animation.enable && animationMode != 'Disable') || animationMode === 'Enable') {\n                this.doValueBarAnimation();\n            }\n        }\n    };\n    ScaleGroup.prototype.featureBar = function (pointX, pointY, width, i) {\n        var featureBarOptions = new RectOption(this.bulletChart.svgObject.id + '_FeatureMeasure_' + i, this.bulletChart.dataSource[i][this.bulletChart.valueFill] || this.bulletChart.valueFill, this.bulletChart.valueBorder, 1, new Rect(pointX, pointY, width, this.bulletChart.valueHeight), 0, 0, '', this.bulletChart.valueBorder.dashArray);\n        var svgRect = this.bulletChart.renderer.drawRectangle(featureBarOptions);\n        svgRect.setAttribute('class', this.bulletChart.svgObject.id + '_FeatureMeasure');\n        svgRect.id = this.bulletChart.svgObject.id + '_FeatureMeasure_' + i;\n        svgRect.setAttribute('role', 'img');\n        svgRect.setAttribute('tabindex', '0');\n        svgRect.setAttribute('aria-label', (this.bulletChart.title + ', value: ' + this.bulletChart.dataSource[i].value + ', target: ' + this.bulletChart.dataSource[i].target));\n        return svgRect;\n    };\n    ScaleGroup.prototype.verticalFeatureBar = function (pointX, pointY, width, i) {\n        var featureBarOptions = new RectOption(this.bulletChart.svgObject.id + '_FeatureMeasure_' + i, this.bulletChart.dataSource[i][this.bulletChart.valueFill] || this.bulletChart.valueFill, this.bulletChart.valueBorder, 1, new Rect(pointX, pointY, this.bulletChart.valueHeight, width));\n        var svgRect = this.bulletChart.renderer.drawRectangle(featureBarOptions);\n        svgRect.setAttribute('class', this.bulletChart.svgObject.id + '_FeatureMeasure');\n        svgRect.id = this.bulletChart.svgObject.id + '_FeatureMeasure_' + i;\n        svgRect.setAttribute('role', 'img');\n        svgRect.setAttribute('tabindex', '0');\n        svgRect.setAttribute('aria-label', (this.bulletChart.title + ', value: ' + this.bulletChart.dataSource[i].value + ', target: ' + this.bulletChart.dataSource[i].target));\n        return svgRect;\n    };\n    ScaleGroup.prototype.drawcategory = function (lPointX, lPointY, categoryValue) {\n        var fontsize = parseInt(this.bulletChart.categoryLabelStyle.size);\n        var categoryOptions = {\n            'id': '',\n            'anchor': 'middle',\n            'x': lPointX,\n            'y': lPointY + (fontsize / 4 + this.bulletChart.valueHeight / 2),\n            'transform': '',\n            'text': categoryValue,\n            'baseLine': '',\n            'labelRotation': 0\n        };\n        return categoryOptions;\n    };\n    /**\n     * To render comparative symbol of the bulletChart chart.\n     *\n     * @param {number} dataCount Data count value.\n     */\n    ScaleGroup.prototype.renderComparativeSymbol = function (dataCount) {\n        if (dataCount === 0) {\n            return;\n        }\n        this.renderCommonComparativeSymbol(dataCount, this.isHorizontal);\n    };\n    ScaleGroup.prototype.renderCommonComparativeSymbol = function (dataCount, isHorizontal) {\n        var bulletChart = this.bulletChart;\n        var value;\n        var rect = bulletChart.initialClipRect;\n        var scaleLength = isHorizontal ? rect.width : rect.height;\n        var y1;\n        var y2;\n        var x1;\n        var pointY = isHorizontal ? (rect.y + rect.height) : rect.x;\n        var comparativeGroup = bulletChart.renderer.createGroup({ 'id': bulletChart.svgObject.id + '_comparativeGroup' });\n        var minimum = bulletChart.minimum;\n        var maximum = bulletChart.maximum;\n        var delta = maximum - minimum;\n        var targetWidth = 5;\n        var pointX = isHorizontal ? (rect.x - (targetWidth / 2)) : (rect.y + rect.height);\n        var temp;\n        var values = [];\n        var targetTypes = bulletChart.targetTypes;\n        var targetType = 'Rect';\n        var targetTypeLength = targetTypes.length;\n        var featureBarSize = (isHorizontal ? rect.height : rect.width) / dataCount;\n        var svgElement;\n        for (var k = 0; k < dataCount; k++) {\n            value = bulletChart.dataSource[k][bulletChart.targetField];\n            values = values.concat(value);\n            for (var i = 0; i < values.length; i++) {\n                targetType = targetTypes[i % targetTypeLength];\n                if (values[i] >= minimum && values[i] <= maximum) {\n                    if (isHorizontal) {\n                        temp = pointY - (featureBarSize * k) - (featureBarSize / 2);\n                    }\n                    else {\n                        temp = pointY + (featureBarSize * k) + (featureBarSize / 2);\n                    }\n                    y1 = temp - targetWidth * 1.5;\n                    y2 = temp + targetWidth * 1.5;\n                    temp = (scaleLength / (delta / (delta - (maximum - values[i]))));\n                    if (isHorizontal) {\n                        x1 = pointX + (bulletChart.enableRtl ? (scaleLength - temp) : temp);\n                    }\n                    else {\n                        x1 = pointX - (bulletChart.enableRtl ? (scaleLength - temp) : temp);\n                    }\n                    svgElement = this.getTargetElement(targetType, isHorizontal, x1, y1, y2, values[i], k);\n                    this.comparative.push(svgElement);\n                    comparativeGroup.appendChild(svgElement);\n                    y1 = 0;\n                    y2 = 0;\n                }\n                this.scaleSettingsGroup.appendChild(comparativeGroup);\n            }\n            values = [];\n            if ((bulletChart.animation.enable && animationMode != 'Disable') || animationMode === 'Enable') {\n                this.doTargetBarAnimation(0);\n            }\n        }\n    };\n    ScaleGroup.prototype.getTargetElement = function (targetType, isHorizontal, x1, y1, y2, value, k) {\n        var shapeObject;\n        var shapeElement;\n        var bulletChart = this.bulletChart;\n        var strokeWidth = (targetType === 'Cross') ? bulletChart.targetWidth - 1 : 1;\n        var size = (targetType === 'Circle') ? bulletChart.targetWidth - 1 : bulletChart.targetWidth;\n        var lx = isHorizontal ? x1 + (size / 2) : y1 + ((y2 - y1) / 2);\n        var ly = isHorizontal ? y1 + ((y2 - y1) / 2) : x1;\n        var id = bulletChart.svgObject.id + '_ComparativeMeasure_' + k;\n        var className = bulletChart.svgObject.id + '_ComparativeMeasure';\n        var targetColor = bulletChart.dataSource[k][bulletChart.targetColor] || bulletChart.targetColor;\n        if (targetType === 'Rect') {\n            shapeObject = isHorizontal ? this.compareMeasure(x1, y1, y2, k, value) : this.compareVMeasure(y1, y2, x1, k);\n            shapeElement = bulletChart.renderer.drawLine(shapeObject);\n        }\n        else if (targetType === 'Circle') {\n            shapeObject = new CircleOption(id, targetColor, { width: 1, color: targetColor || 'black' }, 1, lx, ly, size);\n            shapeElement = bulletChart.renderer.drawCircle(shapeObject);\n        }\n        else {\n            var crossDirection = 'M ' + (lx - size) + ' ' + (ly - size) + ' L ' + (lx + size) + ' ' + (ly + size) + ' M ' +\n                (lx - size) + ' ' + (ly + size) + ' L ' + (lx + size) + ' ' + (ly - size);\n            shapeObject = new PathOption(id, 'transparent', strokeWidth, targetColor, 1, '', crossDirection);\n            shapeElement = bulletChart.renderer.drawPath(shapeObject);\n        }\n        shapeElement.setAttribute('class', className);\n        return shapeElement;\n    };\n    ScaleGroup.prototype.compareMeasure = function (x1, y1, y2, i, value) {\n        var bulletChart = this.bulletChart;\n        var compareMeasureOptions = {\n            'class': bulletChart.svgObject.id + '_ComparativeMeasure',\n            'id': bulletChart.svgObject.id + '_ComparativeMeasure_' + i,\n            'x1': (value === bulletChart.maximum) ? x1 - (bulletChart.targetWidth / 2) :\n                (value === bulletChart.minimum) ? x1 + (bulletChart.targetWidth / 2) : x1,\n            'y1': y1,\n            'x2': (value === bulletChart.maximum) ? x1 - (bulletChart.targetWidth / 2) :\n                (value === bulletChart.minimum) ? x1 + (bulletChart.targetWidth / 2) : x1,\n            'y2': y2,\n            'stroke-width': bulletChart.targetWidth,\n            'stroke': bulletChart.dataSource[i][bulletChart.targetColor] || bulletChart.targetColor || 'black'\n        };\n        return compareMeasureOptions;\n    };\n    ScaleGroup.prototype.compareVMeasure = function (x1, x2, y1, i) {\n        var bulletChart = this.bulletChart;\n        var compareMeasureOptions = {\n            'class': bulletChart.svgObject.id + '_ComparativeMeasure',\n            'id': bulletChart.svgObject.id + '_ComparativeMeasure_' + i,\n            'x1': x1,\n            'y1': y1,\n            'x2': x2,\n            'y2': y1,\n            'stroke-width': bulletChart.targetWidth,\n            'stroke': bulletChart.dataSource[i][bulletChart.targetColor] || bulletChart.targetColor || 'black'\n        };\n        return compareMeasureOptions;\n    };\n    /**\n     * To calculate the bounds on vertical and horizontal orientation changes\n     *\n     * @param {number} value Value of the scale.\n     * @param {string} categoryValue Value of the category.\n     * @param {boolean} isHorizontal Boolean value.\n     * @returns {IFeatureMeasureType} calculateFeatureMeasureBounds\n     */\n    ScaleGroup.prototype.calculateFeatureMeasureBounds = function (value, categoryValue, isHorizontal) {\n        var bulletChart = this.bulletChart;\n        var min = bulletChart.minimum;\n        value = (value < min && min <= 0) ? min : value;\n        if (value >= min) {\n            var pointX = void 0;\n            var lastPointX = void 0;\n            var width = void 0;\n            var loc = isHorizontal ? bulletChart.initialClipRect.x : bulletChart.initialClipRect.y;\n            var scaleLength = isHorizontal ? bulletChart.initialClipRect.width : bulletChart.initialClipRect.height;\n            var delta = bulletChart.maximum - bulletChart.minimum;\n            var valueDiff = bulletChart.maximum - value;\n            var orientation_1 = ((!bulletChart.enableRtl) ? 'forward' : 'backward') + this.scaleOrientation.toLowerCase();\n            categoryValue = isNullOrUndefined(categoryValue) ? '' : categoryValue;\n            var stringLength = measureText(categoryValue.toString(), bulletChart.labelStyle, this.bulletChart.themeStyle.axisLabelFont).width;\n            switch (orientation_1) {\n                case 'forwardhorizontal':\n                case 'backwardvertical':\n                    pointX = loc + ((min > 0) ? 0 : scaleLength / delta * Math.abs(min));\n                    width = scaleLength / (delta / ((min > 0) ? delta - valueDiff : value));\n                    if (value < 0) {\n                        width = Math.abs(width);\n                        pointX -= width;\n                    }\n                    width = (pointX + width < loc + scaleLength) ? width : loc + scaleLength - pointX;\n                    lastPointX = loc - ((orientation_1 === 'forwardhorizontal') ? (stringLength / 2 + 5) :\n                        this.labelOffset);\n                    break;\n                default:\n                    pointX = loc + (scaleLength - scaleLength / (delta / (delta - valueDiff)));\n                    width = (min > 0) ? scaleLength / (delta / (delta - valueDiff)) : scaleLength / (delta / (value));\n                    if (value < 0) {\n                        width = Math.abs(width);\n                        pointX -= width;\n                    }\n                    if (pointX < loc) {\n                        width = pointX + width - loc;\n                        pointX = loc;\n                    }\n                    lastPointX = loc + scaleLength + ((orientation_1 === 'backwardhorizontal') ? (stringLength / 2 +\n                        5) : 5);\n                    break;\n            }\n            return { pointX: pointX, width: width, lastPointX: lastPointX };\n        }\n        return null;\n    };\n    /**\n     * Animates the feature bar.\n     *\n     * @returns {void}\n     */\n    ScaleGroup.prototype.doValueBarAnimation = function () {\n        var valueBarElement = this.feature;\n        if (!valueBarElement) {\n            return null;\n        }\n        var animateOption = this.bulletChart.animation;\n        var animateDuration = this.bulletChart.animateSeries ? this.bulletChart.animation.duration : animateOption.duration;\n        var effectType = getAnimationFunction('Linear');\n        var isValuePlot = this.bulletChart.dataSource < 0;\n        var valueX;\n        var valueY;\n        var elementBarHeight = valueBarElement.getBoundingClientRect().height;\n        var elementBarWidth = valueBarElement.getBoundingClientRect().width;\n        var centerX;\n        var centerY;\n        var valueActual;\n        if (this.bulletChart.orientation === 'Horizontal' && valueBarElement) {\n            valueY = parseInt(valueBarElement.getAttribute('height'), 10);\n            valueX = parseInt(valueBarElement.getAttribute('x'), 10);\n            centerY = isValuePlot ? valueY : valueY + elementBarHeight;\n            centerX = valueX;\n        }\n        valueBarElement.style.visibility = 'hidden';\n        new Animation({}).animate(valueBarElement, {\n            duration: (animateDuration === 0 && animationMode === 'Enable') ? 1000 : animateDuration,\n            delay: animateOption.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    valueBarElement.style.visibility = 'visible';\n                    elementBarWidth = elementBarWidth ? elementBarWidth : 1;\n                    valueActual = effectType(args.timeStamp - args.delay, 0, elementBarWidth, args.duration);\n                    valueBarElement.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\n                        ') scale(' + (valueActual / elementBarWidth) + ', 1) translate(' + (-centerX) + ' ' + (-centerY) + ')');\n                }\n            },\n            end: function () {\n                valueBarElement.setAttribute('transform', 'translate(0,0)');\n                valueBarElement.style.visibility = 'visible';\n            }\n        });\n    };\n    /**\n     * Animates the comparative bar.\n     *\n     * @param {number} index Defines the feature bar to animate.\n     * @returns {void}\n     */\n    ScaleGroup.prototype.doTargetBarAnimation = function (index) {\n        var x;\n        var y;\n        var centerX;\n        var centerY;\n        var targetBarelement = this.comparative[index];\n        if (!targetBarelement) {\n            return null;\n        }\n        if (this.bulletChart.orientation === 'Horizontal' && targetBarelement) {\n            y = parseFloat(targetBarelement.getAttribute('y1')) + parseFloat(targetBarelement.getAttribute('y2'));\n            x = parseFloat(targetBarelement.getAttribute('x1'));\n            centerY = y;\n            centerX = x;\n        }\n        targetBarelement.style.visibility = 'hidden';\n        this.animateRect(targetBarelement, centerX, centerY, index + 1);\n    };\n    ScaleGroup.prototype.animateRect = function (targetBarelement, centerX, centerY, index) {\n        var _this = this;\n        var effect = getAnimationFunction('Linear');\n        var value;\n        var option = this.bulletChart.animation;\n        var threshold = this.comparative.length;\n        var duration = this.bulletChart.animateSeries ? this.bulletChart.animation.duration : option.duration;\n        new Animation({}).animate(targetBarelement, {\n            duration: (duration === 0 && animationMode === 'Enable') ? 1000 : duration,\n            delay: option.delay,\n            progress: function (args) {\n                if (args.timeStamp >= args.delay) {\n                    targetBarelement.style.visibility = 'visible';\n                    value = effect(args.timeStamp - args.delay, 0, 1, args.duration);\n                    targetBarelement.setAttribute('transform', 'translate(' + centerX + ' ' + centerY / 2 +\n                        ') scale(1,' + (value) + ') translate(' + (-centerX) + ' ' + (-centerY / 2) + ')');\n                }\n            },\n            end: function () {\n                targetBarelement.setAttribute('transform', 'translate(0,0)');\n                if (index < threshold) {\n                    _this.doTargetBarAnimation(index + 1);\n                }\n            }\n        });\n    };\n    return ScaleGroup;\n}());\nexport { ScaleGroup };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}