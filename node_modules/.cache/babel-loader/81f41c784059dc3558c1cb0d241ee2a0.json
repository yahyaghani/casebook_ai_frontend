{"ast":null,"code":"import { animationMode, Browser, createElement } from '@syncfusion/ej2-base';\nimport { RectOption, drawSymbol, linear } from '../../common/utils/helper';\nimport { getXLocation, getExactData, getRangeValueXByPoint, getNearestValue } from '../utils/helper';\nimport { PathOption } from '@syncfusion/ej2-svg-base';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * Class for slider\n */\nvar RangeSlider = /** @class */function () {\n  function RangeSlider(range) {\n    this.control = range;\n    this.points = [];\n    this.isIOS = Browser.isIos || Browser.isIos7;\n    var thumb = range.navigatorStyleSettings.thumb;\n    this.thumbVisible = range.themeStyle.thumbWidth !== 0 && range.themeStyle.thumbHeight !== 0;\n    this.elementId = range.element.id;\n    this.thumpPadding = range.themeStyle.thumbWidth / 2;\n    this.addEventListener();\n    this.thumbColor = range.disableRangeSelector ? 'transparent' : thumb.fill || range.themeStyle.thumbBackground;\n  }\n  /**\n   * Render Slider elements for range navigator.\n   *\n   * @param {RangeNavigator} range RangeNavigator instance\n   */\n  RangeSlider.prototype.render = function (range) {\n    var renderer = range.renderer;\n    var style = range.navigatorStyleSettings;\n    var disabledColor = range.disableRangeSelector ? 'transparent' : null;\n    var sliderGroup = renderer.createGroup({\n      'id': this.elementId + '_sliders',\n      style: range.disableRangeSelector ? 'pointer-events:none;' : ''\n    });\n    var option = new RectOption(this.elementId + '_leftUnSelectedArea', disabledColor || style.unselectedRegionColor || range.themeStyle.unselectedRectColor, {\n      width: 0\n    }, 1, {\n      x: range.bounds.x,\n      y: range.bounds.y,\n      width: range.bounds.width / 3,\n      height: range.bounds.height\n    }, 0, 0, '', style.thumb.border.dashArray);\n    this.leftUnSelectedElement = renderer.drawRectangle(option);\n    option.id = this.elementId + '_rightUnSelectedArea';\n    this.rightUnSelectedElement = renderer.drawRectangle(option);\n    option.id = this.elementId + '_SelectedArea';\n    option.fill = disabledColor || style.selectedRegionColor || range.themeStyle.selectedRegionColor;\n    this.selectedElement = renderer.drawRectangle(option);\n    this.selectedElement.setAttribute('role', 'region');\n    this.selectedElement.setAttribute('aria-label', 'Range Slider with ' + range.rangeSlider.points.length + ' data points');\n    this.selectedElement.style.cursor = '-webkit-grab';\n    this.leftSlider = renderer.createGroup({\n      'id': this.elementId + '_LeftSlider',\n      'style': 'cursor: ew-resize'\n    });\n    this.rightSlider = renderer.createGroup({\n      'id': this.elementId + '_RightSlider',\n      'style': 'cursor: ew-resize'\n    });\n    this.createThump(renderer, range.bounds, this.leftSlider, this.elementId + '_LeftSlider', sliderGroup);\n    this.createThump(renderer, range.bounds, this.rightSlider, this.elementId + '_RightSlider');\n    sliderGroup.appendChild(this.leftUnSelectedElement);\n    sliderGroup.appendChild(this.rightUnSelectedElement);\n    sliderGroup.appendChild(this.selectedElement);\n    sliderGroup.appendChild(this.leftSlider);\n    sliderGroup.appendChild(this.rightSlider);\n    range.svgObject.appendChild(sliderGroup);\n  };\n  /**\n   * Thumb creation performed.\n   *\n   * @param {SvgRenderer} render SvgRenderer\n   * @param {Rect} bounds bounds\n   * @param {Element} parent parent element\n   * @param {string} id id\n   * @param {Element} sliderGroup sliderGroup\n   */\n  RangeSlider.prototype.createThump = function (render, bounds, parent, id, sliderGroup) {\n    var control = this.control;\n    var thump = control.navigatorStyleSettings.thumb;\n    var style = control.themeStyle;\n    var y = bounds.y + bounds.height / 2;\n    var x = this.thumpPadding;\n    var tickLength = control.themeStyle.thumbHeight / 2 - 5;\n    var disabledColor = control.disableRangeSelector ? 'transparent' : null;\n    var lineColor = disabledColor || thump.border.color || style.thumpLineColor;\n    var shadowElement;\n    parent.appendChild(render.drawPath(new PathOption(id + '_ThumpLine', 'transparent', thump.border.width, control.series.length ? lineColor : 'transparent', 1, thump.border.dashArray, 'M' + ' ' + x + ' ' + bounds.y + ' ' + 'L' + ' ' + x + ' ' + (bounds.y + bounds.height) + ' ')));\n    this.thumpY = y - control.themeStyle.thumbHeight / 2;\n    this.sliderY = bounds.y > this.thumpY ? this.thumpY : bounds.y;\n    if (sliderGroup && !control.disableRangeSelector) {\n      shadowElement = render.createDefs();\n      shadowElement.innerText = '<rect xmlns=\"http://www.w3.org/2000/svg\" id=\"' + this.control.element.id + '_shadow' + '\" x=\"0\" ' + 'y=\"' + this.thumpY + '\" width=\"' + control.themeStyle.thumbWidth + '\" height=\"' + control.themeStyle.thumbHeight + '\"' + ' rx=\"' + (thump.type === 'Circle' ? '50%' : '0%') + '\"/>' + '<filter xmlns=\"http://www.w3.org/2000/svg\" x=\"-25.0%\" y=\"-20.0%\" width=\"150.0%\" height=\"150.0%\"' + ' filterUnits=\"objectBoundingBox\" id=\"ej2-range-shadow\"><feOffset dx=\"0\" dy=\"1\" in=\"SourceAlpha\"' + 'result=\"shadowOffsetOuter1\"/><feGaussianBlur stdDeviation=\"1.5\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"/>' + '<feComposite in=\"shadowBlurOuter1\" in2=\"SourceAlpha\" operator=\"out\" result=\"shadowBlurOuter1\"/>' + '<feColorMatrix values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0\" type=\"matrix\" in=\"shadowBlurOuter1\"/>' + '</filter>';\n      sliderGroup.appendChild(shadowElement);\n    }\n    parent.innerText += '<use xmlns=\"http://www.w3.org/2000/svg\" fill=\"black\" fill-opacity=\"1\" filter=\"url(#ej2-range-shadow)\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#path-1\"/>';\n    if (thump.type === 'Circle') {\n      parent.appendChild(drawSymbol({\n        x: x,\n        y: y\n      }, 'Circle', {\n        width: control.themeStyle.thumbWidth,\n        height: control.themeStyle.thumbHeight\n      }, '', new PathOption(id + '_ThumpSymbol', disabledColor || this.thumbColor, thump.border.width, lineColor, 1, null), 'Thumb'));\n    } else {\n      parent.appendChild(render.drawRectangle(new RectOption(id + '_ThumpSymbol', disabledColor || this.thumbColor, {\n        width: thump.border.width,\n        color: lineColor\n      }, 1, {\n        x: x - control.themeStyle.thumbWidth / 2,\n        y: y - control.themeStyle.thumbHeight / 2,\n        width: control.themeStyle.thumbWidth,\n        height: control.themeStyle.thumbHeight\n      }, 2, 2, '', thump.border.dashArray)));\n    }\n    if (this.thumbVisible) {\n      parent.appendChild(render.drawPath(new PathOption(id + '_ThumpGrip', 'transparent', 1, disabledColor || control.themeStyle.gripColor, 1, null, 'M' + ' ' + (x + 2) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x + 2) + ' ' + (y - tickLength) + ' ' + 'M' + ' ' + x + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + x + ' ' + (y - tickLength) + ' ' + 'M' + ' ' + (x - 2) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x - 2) + ' ' + (y - tickLength) + ' ')));\n    }\n  };\n  /**\n   * Set slider value for range navigator.\n   */\n  RangeSlider.prototype.setSlider = function (start, end, trigger, showTooltip, resize) {\n    if (resize === void 0) {\n      resize = false;\n    }\n    var range = this.control;\n    var padding = range.bounds.x;\n    var axisRange = range.chartSeries.xAxis.actualRange;\n    var isLeightWeight = range.series.length === 0;\n    if (isNaN(start) && isNaN(end)) {\n      start = 0;\n      end = range.bounds.width;\n    }\n    if (!(end >= start)) {\n      start = [end, end = start][0];\n    }\n    start = end >= start ? start : [end, end = start][0];\n    start = Math.max(start, axisRange.min);\n    end = Math.min(end, axisRange.max);\n    this.startX = padding + getXLocation(start, axisRange, range.bounds.width, range.enableRtl);\n    this.endX = padding + getXLocation(end, axisRange, range.bounds.width, range.enableRtl);\n    var selectedX = range.enableRtl ? this.endX : this.startX;\n    var rightPadding = range.enableRtl ? this.startX : this.endX;\n    this.sliderWidth = Math.abs(this.endX - this.startX);\n    this.selectedElement.setAttribute('x', selectedX + '');\n    this.selectedElement.setAttribute('width', this.sliderWidth + '');\n    this.leftUnSelectedElement.setAttribute('width', selectedX - padding + '');\n    this.rightUnSelectedElement.setAttribute('x', rightPadding + '');\n    this.rightUnSelectedElement.setAttribute('width', range.bounds.width - (rightPadding - padding) + '');\n    this.leftSlider.setAttribute('transform', 'translate(' + (this.startX - this.thumpPadding) + ', 0)');\n    this.rightSlider.setAttribute('transform', 'translate(' + (this.endX - this.thumpPadding) + ', 0)');\n    var left = this.control.svgObject.getBoundingClientRect().left - this.control.element.getBoundingClientRect().left;\n    var leftX = this.control.enableRtl ? this.endX : this.startX;\n    var rightX = this.control.enableRtl ? this.startX : this.endX;\n    this.leftRect = {\n      x: isLeightWeight ? left + padding : padding,\n      y: isLeightWeight ? 0 : range.bounds.y,\n      width: isLeightWeight ? leftX - padding : leftX,\n      height: isLeightWeight ? this.thumpY : range.bounds.height\n    };\n    this.rightRect = {\n      x: isLeightWeight ? left + rightX : rightX,\n      y: isLeightWeight ? 0 : range.bounds.y,\n      width: range.bounds.width - (rightPadding - padding),\n      height: isLeightWeight ? this.thumpY : range.bounds.height\n    };\n    this.midRect = {\n      x: isLeightWeight ? leftX + left : 0,\n      y: isLeightWeight ? 0 : range.bounds.y,\n      width: isLeightWeight ? Math.abs(this.endX - this.startX) : rightX,\n      height: isLeightWeight ? this.thumpY : range.bounds.height\n    };\n    this.currentStart = start;\n    this.currentEnd = end;\n    if (showTooltip) {\n      this.control.rangeTooltipModule.renderLeftTooltip(this);\n      this.control.rangeTooltipModule.renderRightTooltip(this);\n    }\n    var periodSelectorModule = this.control.periodSelectorModule;\n    if (periodSelectorModule && this.control.redraw && this.control.getModuleName() === 'rangeNavigator') {\n      var selectedIndex = periodSelectorModule.findSelectedIndex(start, end, periodSelectorModule.control.periods);\n      periodSelectorModule.setSelectedStyle(selectedIndex);\n      this.control.redraw = false;\n    }\n    if (trigger && !resize) {\n      this.triggerEvent(axisRange);\n    }\n  };\n  /**\n   * Trigger changed event.\n   *\n   * @param {VisibleRangeModel} range axis visible range\n   */\n  RangeSlider.prototype.triggerEvent = function (range) {\n    var xAxis = this.control.chartSeries.xAxis;\n    var valueType = xAxis.valueType;\n    var argsData = {\n      cancel: false,\n      start: valueType === 'DateTime' ? new Date(this.currentStart) : valueType === 'DateTimeCategory' ? this.currentStart : valueType === 'Logarithmic' ? Math.pow(xAxis.logBase, this.currentStart) : this.currentStart,\n      end: valueType === 'DateTime' ? new Date(this.currentEnd) : valueType === 'DateTimeCategory' ? this.currentEnd : valueType === 'Logarithmic' ? Math.pow(xAxis.logBase, this.currentEnd) : this.currentEnd,\n      name: 'changed',\n      selectedData: getExactData(this.points, this.currentStart, this.currentEnd),\n      zoomPosition: (this.control.enableRtl ? range.max - this.currentEnd : this.currentStart - range.min) / range.delta,\n      zoomFactor: (this.currentEnd - this.currentStart) / range.delta,\n      selectedPeriod: this.selectedPeriod ? this.selectedPeriod : ''\n    };\n    this.control.trigger('changed', argsData);\n  };\n  /**\n   * @hidden\n   */\n  RangeSlider.prototype.addEventListener = function () {\n    if (this.control.isDestroyed) {\n      return;\n    }\n    this.control.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n    this.control.on(Browser.touchStartEvent, this.mouseDownHandler, this);\n    this.control.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    this.control.on(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseCancelHandler, this);\n  };\n  /**\n   * @hidden\n   */\n  RangeSlider.prototype.removeEventListener = function () {\n    if (this.control.isDestroyed) {\n      return;\n    }\n    this.control.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n    this.control.off(Browser.touchStartEvent, this.mouseDownHandler);\n    this.control.off(Browser.touchEndEvent, this.mouseUpHandler);\n    this.control.off(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseCancelHandler);\n  };\n  /**\n   * Move move handler perfomed here\n   *\n   * @hidden\n   * @param {PointerEvent} e mouse event argument\n   */\n  RangeSlider.prototype.mouseMoveHandler = function (e) {\n    var control = this.control;\n    var axisRange = control.chartSeries.xAxis.actualRange;\n    var bounds = control.bounds;\n    var start;\n    var end;\n    this.getCurrentSlider(e.target.id);\n    if (this.isDrag && control.mouseX >= bounds.x) {\n      switch (this.currentSlider) {\n        case 'Left':\n          control.startValue = this.getRangeValue(Math.abs(control.mouseX - bounds.x));\n          break;\n        case 'Right':\n          control.endValue = this.getRangeValue(Math.abs(control.mouseX - bounds.x));\n          break;\n        case 'Middle':\n          start = Math.max(this.getRangeValue(Math.abs(this.startX - (this.previousMoveX - control.mouseX) - bounds.x)), axisRange.min);\n          end = Math.min(this.getRangeValue(Math.abs(this.endX - (this.previousMoveX - control.mouseX) - bounds.x)), axisRange.max);\n          // eslint-disable-next-line no-case-declarations\n          var currentWidth = Math.floor(Math.abs(getXLocation(end, axisRange, control.bounds.width, control.enableRtl) - getXLocation(start, axisRange, control.bounds.width, control.enableRtl)));\n          if (currentWidth === Math.floor(this.sliderWidth)) {\n            control.startValue = start;\n            control.endValue = end;\n          } else {\n            if (end === axisRange.max) {\n              control.endValue = axisRange.max;\n            }\n            if (Math.floor(this.startX) === bounds.x) {\n              control.startValue = axisRange.min;\n            }\n          }\n          break;\n      }\n      if (e.preventDefault && this.isIOS) {\n        e.preventDefault();\n      }\n      if (this.currentSlider !== 'Middle') {\n        var periodSelectorModule = this.control.periodSelectorModule;\n        if (periodSelectorModule) {\n          var buttons = periodSelectorModule.control.periods;\n          buttons.map(function (period) {\n            period.selected = false;\n          });\n          periodSelectorModule.selectedIndex = undefined;\n          var selectedIndex = periodSelectorModule.findSelectedIndex(control.startValue, control.endValue, buttons);\n          periodSelectorModule.setSelectedStyle(selectedIndex);\n        }\n      }\n      this.setSlider(control.startValue, control.endValue, !control.enableDeferredUpdate, control.rangeTooltipModule && control.tooltip.enable);\n      this.previousMoveX = control.mouseX;\n    }\n  };\n  /**\n   * To get the range value\n   *\n   * @param {number} x xValue\n   */\n  RangeSlider.prototype.getRangeValue = function (x) {\n    var control = this.control;\n    var axisRange = control.chartSeries.xAxis.actualRange;\n    var bounds = control.bounds;\n    return getRangeValueXByPoint(x, bounds.width, axisRange, control.enableRtl);\n  };\n  /**\n   * Moused down handler for slider perform here\n   *\n   * @param {PointerEvent} e mouse event argument\n   */\n  RangeSlider.prototype.mouseDownHandler = function (e) {\n    this.currentSlider = this.getCurrentSlider(e.target.id);\n    this.selectedElement.style.cursor = '-webkit-grabbing';\n    this.isDrag = !(this.currentSlider === 'UnSelectedArea' || !this.currentSlider);\n    this.previousMoveX = this.control.mouseDownX;\n  };\n  /**\n   * To get the current slider element\n   *\n   * @param {string} id slider element id\n   */\n  RangeSlider.prototype.getCurrentSlider = function (id) {\n    var hoverColor = this.control.themeStyle.thumbHoverColor;\n    if (id.indexOf(this.elementId + '_LeftSlider') > -1) {\n      this.leftSlider.childNodes[2].setAttribute('fill', hoverColor);\n      return 'Left';\n    } else if (id.indexOf(this.elementId + '_RightSlider') > -1) {\n      this.rightSlider.childNodes[2].setAttribute('fill', hoverColor);\n      return 'Right';\n    } else if (id.indexOf(this.elementId + '_SelectedArea') > -1) {\n      return 'Middle';\n    } else if (id.indexOf('UnSelectedArea') > -1) {\n      this.leftSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n      this.rightSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n      return 'UnSelectedArea';\n    } else if (id.indexOf(this.elementId + '_AxisLabel_') > -1 && (this.control.valueType === 'DateTime' || this.control.valueType === 'DateTimeCategory')) {\n      this.labelIndex = +id.substring(id.lastIndexOf('_') + 1, id.length);\n      return 'firstLevelLabels';\n    } else if (id.indexOf(this.elementId + '_SecondaryLabel') > -1 && (this.control.valueType === 'DateTime' || this.control.valueType === 'DateTimeCategory')) {\n      this.labelIndex = +id.substring(id.lastIndexOf('_') + 1, id.length);\n      return 'secondLevelLabels';\n    } else {\n      this.leftSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n      this.rightSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n      if (this.control.periodSelectorModule) {\n        this.control.periodSelectorModule.triggerChange = true;\n      }\n      return null;\n    }\n  };\n  /**\n   * Mouse up handler performed here\n   */\n  RangeSlider.prototype.mouseUpHandler = function () {\n    var control = this.control;\n    var range = control.chartSeries.xAxis.actualRange;\n    var trigger = control.enableDeferredUpdate;\n    var enabledTooltip = control.tooltip.enable;\n    if (control.stockChart) {\n      control.stockChart.zoomChange = false;\n    }\n    if (this.currentSlider === 'UnSelectedArea') {\n      var value = void 0;\n      var start = void 0;\n      var end = void 0;\n      var isRtl = control.enableRtl;\n      var difference = control.endValue - control.startValue;\n      if (control.mouseDownX < this.startX) {\n        value = Math.max(this.getRangeValue(control.mouseDownX - this.sliderWidth / 2 - control.bounds.x), range.min);\n        end = isRtl ? value : value + difference;\n        start = isRtl ? value - difference : value;\n      } else {\n        value = Math.min(this.getRangeValue(control.mouseDownX + this.sliderWidth / 2 - control.bounds.x), range.max);\n        start = isRtl ? value : value - difference;\n        end = isRtl ? value + difference : value;\n      }\n      this.performAnimation(start, end, control);\n      trigger = false;\n    } else if (this.currentSlider === 'firstLevelLabels' || this.currentSlider === 'secondLevelLabels') {\n      var secondLabel = control.rangeAxis[this.currentSlider][this.labelIndex + 1];\n      if (this.selectedPeriod) {\n        var periodSelectorModule = this.control.periodSelectorModule;\n        if (periodSelectorModule) {\n          var buttons = periodSelectorModule.control.periods;\n          buttons.map(function (period) {\n            period.selected = false;\n          });\n          periodSelectorModule.selectedIndex = undefined;\n          var selectedIndex = periodSelectorModule.findSelectedIndex(control.rangeAxis[this.currentSlider][this.labelIndex].value, secondLabel ? control.allowIntervalData ? secondLabel.value - 1 : secondLabel.value : range.max, buttons);\n          periodSelectorModule.setSelectedStyle(selectedIndex);\n        }\n      }\n      /**\n       * One millisecond is subtracted from the label to indicate the previous label value\n       */\n      this.performAnimation(control.rangeAxis[this.currentSlider][this.labelIndex].value, secondLabel ? control.allowIntervalData ? secondLabel.value - 1 : secondLabel.value : range.max, control);\n      trigger = false;\n    } else if (this.currentSlider === null) {\n      trigger = false;\n    }\n    if (this.isDrag && control.allowSnapping) {\n      this.setAllowSnapping(control, this.currentStart, this.currentEnd, true, enabledTooltip);\n      trigger = false;\n    }\n    if (trigger) {\n      this.setSlider(this.currentStart, this.currentEnd, true, enabledTooltip);\n    }\n    if (this.currentSlider !== null) {\n      if (this.control.periodSelectorSettings.periods.length > 0) {\n        this.control.periodSelectorModule.triggerChange = false;\n        this.control.periodSelectorModule.datePicker.startDate = this.control.periodSelectorModule.isDatetimeCategory ? new Date(this.control.periodSelectorModule.sortedData[Math.floor(this.currentStart)]) : new Date(this.currentStart);\n        this.control.periodSelectorModule.datePicker.endDate = this.control.periodSelectorModule.isDatetimeCategory ? new Date(this.control.periodSelectorModule.sortedData[Math.floor(this.currentEnd)]) : new Date(this.currentEnd);\n      }\n    }\n    this.selectedElement.style.cursor = '-webkit-grab';\n    control.startValue = this.currentStart;\n    control.endValue = this.currentEnd;\n    this.isDrag = false;\n    this.labelIndex = null;\n    this.currentSlider = null;\n  };\n  /**\n   * Allow Snapping perfomed here\n   *\n   * @param {RangeNavigator} control RangeNavigator instance\n   * @param {number} start start\n   * @param {number} end end\n   * @param {boolean} trigger trigger\n   * @param {boolean} tooltip tooltip\n   * @private\n   */\n  RangeSlider.prototype.setAllowSnapping = function (control, start, end, trigger, tooltip) {\n    var values = control.rangeAxis.lowerValues;\n    values.push(control.chartSeries.xAxis.actualRange.max);\n    this.setSlider(getNearestValue(values, start), getNearestValue(values, end), trigger, tooltip);\n    control.startValue = this.currentStart;\n    control.endValue = this.currentEnd;\n  };\n  /**\n   * Animation Calculation for slider navigation.\n   */\n  RangeSlider.prototype.performAnimation = function (start, end, control, animationDuration) {\n    var _this = this;\n    var currentStart = this.currentStart;\n    var currentEnd = this.currentEnd;\n    var isDeffered = control.enableDeferredUpdate;\n    var enableTooltip = control.tooltip.enable;\n    new Animation({}).animate(createElement('div'), {\n      duration: this.control.animationDuration === 0 && animationMode === 'Enable' ? 1000 : this.control.animationDuration,\n      progress: function (args) {\n        _this.setSlider(linear(args.timeStamp, 0, start - currentStart, args.duration) + currentStart, linear(args.timeStamp, 0, end - currentEnd, args.duration) + currentEnd, !isDeffered, enableTooltip);\n      },\n      end: function () {\n        if (control.allowSnapping) {\n          _this.setAllowSnapping(control, start, end, true, enableTooltip);\n        } else {\n          _this.setSlider(start, end, true, enableTooltip);\n        }\n        _this.control.startValue = _this.currentStart;\n        _this.control.endValue = _this.currentEnd;\n        if (_this.control.periodSelectorSettings.periods.length > 0) {\n          _this.control.periodSelectorModule.triggerChange = false;\n          _this.control.periodSelectorModule.datePicker.startDate = _this.control.periodSelectorModule.isDatetimeCategory ? new Date(_this.control.periodSelectorModule.sortedData[Math.floor(_this.currentStart)]) : new Date(_this.currentStart);\n          _this.control.periodSelectorModule.datePicker.endDate = _this.control.periodSelectorModule.isDatetimeCategory ? new Date(_this.control.periodSelectorModule.sortedData[Math.floor(_this.currentEnd)]) : new Date(_this.currentEnd);\n        }\n      }\n    });\n  };\n  /**\n   * Mouse Cancel Handler\n   */\n  RangeSlider.prototype.mouseCancelHandler = function () {\n    if (this.isDrag && this.control.allowSnapping) {\n      this.setAllowSnapping(this.control, this.currentStart, this.currentEnd, false, this.control.tooltip.enable);\n    }\n    this.isDrag = false;\n    this.currentSlider = null;\n    this.control.startValue = this.currentStart;\n    this.control.endValue = this.currentEnd;\n  };\n  /**\n   * Destroy Method Calling here\n   */\n  RangeSlider.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return RangeSlider;\n}();\nexport { RangeSlider };","map":{"version":3,"names":["animationMode","Browser","createElement","RectOption","drawSymbol","linear","getXLocation","getExactData","getRangeValueXByPoint","getNearestValue","PathOption","Animation","RangeSlider","range","control","points","isIOS","isIos","isIos7","thumb","navigatorStyleSettings","thumbVisible","themeStyle","thumbWidth","thumbHeight","elementId","element","id","thumpPadding","addEventListener","thumbColor","disableRangeSelector","fill","thumbBackground","prototype","render","renderer","style","disabledColor","sliderGroup","createGroup","option","unselectedRegionColor","unselectedRectColor","width","x","bounds","y","height","border","dashArray","leftUnSelectedElement","drawRectangle","rightUnSelectedElement","selectedRegionColor","selectedElement","setAttribute","rangeSlider","length","cursor","leftSlider","rightSlider","createThump","appendChild","svgObject","parent","thump","tickLength","lineColor","color","thumpLineColor","shadowElement","drawPath","series","thumpY","sliderY","createDefs","innerText","type","gripColor","setSlider","start","end","trigger","showTooltip","resize","padding","axisRange","chartSeries","xAxis","actualRange","isLeightWeight","isNaN","Math","max","min","startX","enableRtl","endX","selectedX","rightPadding","sliderWidth","abs","left","getBoundingClientRect","leftX","rightX","leftRect","rightRect","midRect","currentStart","currentEnd","rangeTooltipModule","renderLeftTooltip","renderRightTooltip","periodSelectorModule","redraw","getModuleName","selectedIndex","findSelectedIndex","periods","setSelectedStyle","triggerEvent","valueType","argsData","cancel","Date","pow","logBase","name","selectedData","zoomPosition","delta","zoomFactor","selectedPeriod","isDestroyed","on","touchMoveEvent","mouseMoveHandler","touchStartEvent","mouseDownHandler","touchEndEvent","mouseUpHandler","isPointer","mouseCancelHandler","removeEventListener","off","e","getCurrentSlider","target","isDrag","mouseX","currentSlider","startValue","getRangeValue","endValue","previousMoveX","currentWidth","floor","preventDefault","buttons","map","period","selected","undefined","enableDeferredUpdate","tooltip","enable","mouseDownX","hoverColor","thumbHoverColor","indexOf","childNodes","labelIndex","substring","lastIndexOf","triggerChange","enabledTooltip","stockChart","zoomChange","value","isRtl","difference","performAnimation","secondLabel","rangeAxis","allowIntervalData","allowSnapping","setAllowSnapping","periodSelectorSettings","datePicker","startDate","isDatetimeCategory","sortedData","endDate","values","lowerValues","push","animationDuration","_this","isDeffered","enableTooltip","animate","duration","progress","args","timeStamp","destroy"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-charts/src/range-navigator/renderer/slider.js"],"sourcesContent":["import { animationMode, Browser, createElement } from '@syncfusion/ej2-base';\nimport { RectOption, drawSymbol, linear } from '../../common/utils/helper';\nimport { getXLocation, getExactData, getRangeValueXByPoint, getNearestValue } from '../utils/helper';\nimport { PathOption } from '@syncfusion/ej2-svg-base';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * Class for slider\n */\nvar RangeSlider = /** @class */ (function () {\n    function RangeSlider(range) {\n        this.control = range;\n        this.points = [];\n        this.isIOS = Browser.isIos || Browser.isIos7;\n        var thumb = range.navigatorStyleSettings.thumb;\n        this.thumbVisible = (range.themeStyle.thumbWidth !== 0 && range.themeStyle.thumbHeight !== 0);\n        this.elementId = range.element.id;\n        this.thumpPadding = range.themeStyle.thumbWidth / 2;\n        this.addEventListener();\n        this.thumbColor = range.disableRangeSelector ? 'transparent' :\n            (thumb.fill || range.themeStyle.thumbBackground);\n    }\n    /**\n     * Render Slider elements for range navigator.\n     *\n     * @param {RangeNavigator} range RangeNavigator instance\n     */\n    RangeSlider.prototype.render = function (range) {\n        var renderer = range.renderer;\n        var style = range.navigatorStyleSettings;\n        var disabledColor = (range.disableRangeSelector) ? 'transparent' : null;\n        var sliderGroup = renderer.createGroup({\n            'id': this.elementId + '_sliders',\n            style: (range.disableRangeSelector) ? 'pointer-events:none;' : ''\n        });\n        var option = new RectOption(this.elementId + '_leftUnSelectedArea', disabledColor || style.unselectedRegionColor || range.themeStyle.unselectedRectColor, { width: 0 }, 1, {\n            x: range.bounds.x, y: range.bounds.y,\n            width: range.bounds.width / 3,\n            height: range.bounds.height\n        }, 0, 0, '', style.thumb.border.dashArray);\n        this.leftUnSelectedElement = renderer.drawRectangle(option);\n        option.id = this.elementId + '_rightUnSelectedArea';\n        this.rightUnSelectedElement = renderer.drawRectangle(option);\n        option.id = this.elementId + '_SelectedArea';\n        option.fill = disabledColor || style.selectedRegionColor || range.themeStyle.selectedRegionColor;\n        this.selectedElement = renderer.drawRectangle(option);\n        this.selectedElement.setAttribute('role', 'region');\n        this.selectedElement.setAttribute('aria-label', 'Range Slider with ' + range.rangeSlider.points.length + ' data points');\n        this.selectedElement.style.cursor = '-webkit-grab';\n        this.leftSlider = renderer.createGroup({\n            'id': this.elementId + '_LeftSlider', 'style': 'cursor: ew-resize'\n        });\n        this.rightSlider = renderer.createGroup({\n            'id': this.elementId + '_RightSlider', 'style': 'cursor: ew-resize'\n        });\n        this.createThump(renderer, range.bounds, this.leftSlider, this.elementId + '_LeftSlider', sliderGroup);\n        this.createThump(renderer, range.bounds, this.rightSlider, this.elementId + '_RightSlider');\n        sliderGroup.appendChild(this.leftUnSelectedElement);\n        sliderGroup.appendChild(this.rightUnSelectedElement);\n        sliderGroup.appendChild(this.selectedElement);\n        sliderGroup.appendChild(this.leftSlider);\n        sliderGroup.appendChild(this.rightSlider);\n        range.svgObject.appendChild(sliderGroup);\n    };\n    /**\n     * Thumb creation performed.\n     *\n     * @param {SvgRenderer} render SvgRenderer\n     * @param {Rect} bounds bounds\n     * @param {Element} parent parent element\n     * @param {string} id id\n     * @param {Element} sliderGroup sliderGroup\n     */\n    RangeSlider.prototype.createThump = function (render, bounds, parent, id, sliderGroup) {\n        var control = this.control;\n        var thump = control.navigatorStyleSettings.thumb;\n        var style = control.themeStyle;\n        var y = bounds.y + bounds.height / 2;\n        var x = this.thumpPadding;\n        var tickLength = (control.themeStyle.thumbHeight / 2) - 5;\n        var disabledColor = control.disableRangeSelector ? 'transparent' : null;\n        var lineColor = disabledColor || thump.border.color || style.thumpLineColor;\n        var shadowElement;\n        parent.appendChild(render.drawPath(new PathOption(id + '_ThumpLine', 'transparent', thump.border.width, control.series.length ? lineColor : 'transparent', 1, thump.border.dashArray, 'M' + ' ' + (x) + ' ' + (bounds.y) + ' ' + 'L' + ' ' + (x) + ' ' + (bounds.y + bounds.height) + ' ')));\n        this.thumpY = y - (control.themeStyle.thumbHeight / 2);\n        this.sliderY = bounds.y > this.thumpY ? this.thumpY : bounds.y;\n        if (sliderGroup && !control.disableRangeSelector) {\n            shadowElement = render.createDefs();\n            shadowElement.innerText = '<rect xmlns=\"http://www.w3.org/2000/svg\" id=\"' + this.control.element.id + '_shadow' + '\" x=\"0\" ' +\n                'y=\"' + this.thumpY + '\" width=\"' + control.themeStyle.thumbWidth + '\" height=\"' + control.themeStyle.thumbHeight + '\"' +\n                ' rx=\"' + (thump.type === 'Circle' ? '50%' : '0%') + '\"/>' +\n                '<filter xmlns=\"http://www.w3.org/2000/svg\" x=\"-25.0%\" y=\"-20.0%\" width=\"150.0%\" height=\"150.0%\"' +\n                ' filterUnits=\"objectBoundingBox\" id=\"ej2-range-shadow\"><feOffset dx=\"0\" dy=\"1\" in=\"SourceAlpha\"' +\n                'result=\"shadowOffsetOuter1\"/><feGaussianBlur stdDeviation=\"1.5\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"/>' +\n                '<feComposite in=\"shadowBlurOuter1\" in2=\"SourceAlpha\" operator=\"out\" result=\"shadowBlurOuter1\"/>' +\n                '<feColorMatrix values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0\" type=\"matrix\" in=\"shadowBlurOuter1\"/>' +\n                '</filter>';\n            sliderGroup.appendChild(shadowElement);\n        }\n        parent.innerText += '<use xmlns=\"http://www.w3.org/2000/svg\" fill=\"black\" fill-opacity=\"1\" filter=\"url(#ej2-range-shadow)\"' +\n            ' xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#path-1\"/>';\n        if (thump.type === 'Circle') {\n            parent.appendChild(drawSymbol({ x: x, y: y }, 'Circle', { width: control.themeStyle.thumbWidth, height: control.themeStyle.thumbHeight }, '', new PathOption(id + '_ThumpSymbol', disabledColor || this.thumbColor, thump.border.width, lineColor, 1, null), 'Thumb'));\n        }\n        else {\n            parent.appendChild(render.drawRectangle(new RectOption(id + '_ThumpSymbol', disabledColor || this.thumbColor, { width: thump.border.width, color: lineColor }, 1, {\n                x: x - (control.themeStyle.thumbWidth / 2), y: y - (control.themeStyle.thumbHeight / 2),\n                width: control.themeStyle.thumbWidth,\n                height: control.themeStyle.thumbHeight\n            }, 2, 2, '', thump.border.dashArray)));\n        }\n        if (this.thumbVisible) {\n            parent.appendChild(render.drawPath(new PathOption(id + '_ThumpGrip', 'transparent', 1, disabledColor || control.themeStyle.gripColor, 1, null, 'M' + ' ' + (x + 2) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x + 2) + ' ' + (y - tickLength) + ' ' +\n                'M' + ' ' + (x) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x) + ' ' + (y - tickLength) + ' ' +\n                'M' + ' ' + (x - 2) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x - 2) + ' ' + (y - tickLength) + ' ')));\n        }\n    };\n    /**\n     * Set slider value for range navigator.\n     */\n    RangeSlider.prototype.setSlider = function (start, end, trigger, showTooltip, resize) {\n        if (resize === void 0) { resize = false; }\n        var range = this.control;\n        var padding = range.bounds.x;\n        var axisRange = range.chartSeries.xAxis.actualRange;\n        var isLeightWeight = range.series.length === 0;\n        if (isNaN(start) && isNaN(end)) {\n            start = 0;\n            end = range.bounds.width;\n        }\n        if (!(end >= start)) {\n            start = [end, end = start][0];\n        }\n        start = end >= start ? start : [end, end = start][0];\n        start = Math.max(start, axisRange.min);\n        end = Math.min(end, axisRange.max);\n        this.startX = padding + getXLocation(start, axisRange, range.bounds.width, range.enableRtl);\n        this.endX = padding + getXLocation(end, axisRange, range.bounds.width, range.enableRtl);\n        var selectedX = range.enableRtl ? this.endX : this.startX;\n        var rightPadding = range.enableRtl ? this.startX : this.endX;\n        this.sliderWidth = Math.abs(this.endX - this.startX);\n        this.selectedElement.setAttribute('x', (selectedX) + '');\n        this.selectedElement.setAttribute('width', this.sliderWidth + '');\n        this.leftUnSelectedElement.setAttribute('width', (selectedX - padding) + '');\n        this.rightUnSelectedElement.setAttribute('x', rightPadding + '');\n        this.rightUnSelectedElement.setAttribute('width', (range.bounds.width - (rightPadding - padding)) + '');\n        this.leftSlider.setAttribute('transform', 'translate(' + (this.startX - this.thumpPadding) + ', 0)');\n        this.rightSlider.setAttribute('transform', 'translate(' + (this.endX - this.thumpPadding) + ', 0)');\n        var left = this.control.svgObject.getBoundingClientRect().left -\n            this.control.element.getBoundingClientRect().left;\n        var leftX = this.control.enableRtl ? this.endX : this.startX;\n        var rightX = this.control.enableRtl ? this.startX : this.endX;\n        this.leftRect = {\n            x: isLeightWeight ? left + padding : padding,\n            y: isLeightWeight ? 0 : range.bounds.y,\n            width: isLeightWeight ? leftX - padding : leftX,\n            height: isLeightWeight ? this.thumpY : range.bounds.height\n        };\n        this.rightRect = {\n            x: isLeightWeight ? left + rightX : rightX,\n            y: isLeightWeight ? 0 : range.bounds.y,\n            width: (range.bounds.width - (rightPadding - padding)),\n            height: isLeightWeight ? this.thumpY : range.bounds.height\n        };\n        this.midRect = {\n            x: isLeightWeight ? leftX + left : 0,\n            y: isLeightWeight ? 0 : range.bounds.y,\n            width: isLeightWeight ? Math.abs(this.endX - this.startX) : rightX,\n            height: isLeightWeight ? this.thumpY : range.bounds.height\n        };\n        this.currentStart = start;\n        this.currentEnd = end;\n        if (showTooltip) {\n            this.control.rangeTooltipModule.renderLeftTooltip(this);\n            this.control.rangeTooltipModule.renderRightTooltip(this);\n        }\n        var periodSelectorModule = this.control.periodSelectorModule;\n        if (periodSelectorModule && this.control.redraw && (this.control.getModuleName() === 'rangeNavigator')) {\n            var selectedIndex = periodSelectorModule.findSelectedIndex(start, end, periodSelectorModule.control.periods);\n            periodSelectorModule.setSelectedStyle(selectedIndex);\n            this.control.redraw = false;\n        }\n        if (trigger && !resize) {\n            this.triggerEvent(axisRange);\n        }\n    };\n    /**\n     * Trigger changed event.\n     *\n     * @param {VisibleRangeModel} range axis visible range\n     */\n    RangeSlider.prototype.triggerEvent = function (range) {\n        var xAxis = this.control.chartSeries.xAxis;\n        var valueType = xAxis.valueType;\n        var argsData = {\n            cancel: false,\n            start: valueType === 'DateTime' ? new Date(this.currentStart) : valueType === 'DateTimeCategory' ? this.currentStart :\n                (valueType === 'Logarithmic' ? Math.pow(xAxis.logBase, this.currentStart) : this.currentStart),\n            end: valueType === 'DateTime' ? new Date(this.currentEnd) : valueType === 'DateTimeCategory' ? this.currentEnd :\n                (valueType === 'Logarithmic' ? Math.pow(xAxis.logBase, this.currentEnd) : this.currentEnd),\n            name: 'changed',\n            selectedData: getExactData(this.points, this.currentStart, this.currentEnd),\n            zoomPosition: (this.control.enableRtl ? range.max - this.currentEnd :\n                this.currentStart - range.min) / range.delta,\n            zoomFactor: (this.currentEnd - this.currentStart) / range.delta,\n            selectedPeriod: this.selectedPeriod ? this.selectedPeriod : ''\n        };\n        this.control.trigger('changed', argsData);\n    };\n    /**\n     * @hidden\n     */\n    RangeSlider.prototype.addEventListener = function () {\n        if (this.control.isDestroyed) {\n            return;\n        }\n        this.control.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.control.on(Browser.touchStartEvent, this.mouseDownHandler, this);\n        this.control.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.control.on(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseCancelHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    RangeSlider.prototype.removeEventListener = function () {\n        if (this.control.isDestroyed) {\n            return;\n        }\n        this.control.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n        this.control.off(Browser.touchStartEvent, this.mouseDownHandler);\n        this.control.off(Browser.touchEndEvent, this.mouseUpHandler);\n        this.control.off(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseCancelHandler);\n    };\n    /**\n     * Move move handler perfomed here\n     *\n     * @hidden\n     * @param {PointerEvent} e mouse event argument\n     */\n    RangeSlider.prototype.mouseMoveHandler = function (e) {\n        var control = this.control;\n        var axisRange = control.chartSeries.xAxis.actualRange;\n        var bounds = control.bounds;\n        var start;\n        var end;\n        this.getCurrentSlider(e.target.id);\n        if (this.isDrag && control.mouseX >= bounds.x) {\n            switch (this.currentSlider) {\n                case 'Left':\n                    control.startValue = this.getRangeValue(Math.abs(control.mouseX - bounds.x));\n                    break;\n                case 'Right':\n                    control.endValue = this.getRangeValue(Math.abs(control.mouseX - bounds.x));\n                    break;\n                case 'Middle':\n                    start = Math.max(this.getRangeValue(Math.abs(this.startX - (this.previousMoveX - control.mouseX) - bounds.x)), axisRange.min);\n                    end = Math.min(this.getRangeValue(Math.abs(this.endX - (this.previousMoveX - control.mouseX) - bounds.x)), axisRange.max);\n                    // eslint-disable-next-line no-case-declarations\n                    var currentWidth = Math.floor(Math.abs(getXLocation(end, axisRange, control.bounds.width, control.enableRtl) -\n                        getXLocation(start, axisRange, control.bounds.width, control.enableRtl)));\n                    if (currentWidth === Math.floor(this.sliderWidth)) {\n                        control.startValue = start;\n                        control.endValue = end;\n                    }\n                    else {\n                        if (end === axisRange.max) {\n                            control.endValue = axisRange.max;\n                        }\n                        if (Math.floor(this.startX) === bounds.x) {\n                            control.startValue = axisRange.min;\n                        }\n                    }\n                    break;\n            }\n            if (e.preventDefault && this.isIOS) {\n                e.preventDefault();\n            }\n            if (this.currentSlider !== 'Middle') {\n                var periodSelectorModule = this.control.periodSelectorModule;\n                if (periodSelectorModule) {\n                    var buttons = periodSelectorModule.control.periods;\n                    buttons.map(function (period) {\n                        period.selected = false;\n                    });\n                    periodSelectorModule.selectedIndex = undefined;\n                    var selectedIndex = periodSelectorModule.findSelectedIndex(control.startValue, control.endValue, buttons);\n                    periodSelectorModule.setSelectedStyle(selectedIndex);\n                }\n            }\n            this.setSlider(control.startValue, control.endValue, !control.enableDeferredUpdate, (control.rangeTooltipModule && control.tooltip.enable));\n            this.previousMoveX = control.mouseX;\n        }\n    };\n    /**\n     * To get the range value\n     *\n     * @param {number} x xValue\n     */\n    RangeSlider.prototype.getRangeValue = function (x) {\n        var control = this.control;\n        var axisRange = control.chartSeries.xAxis.actualRange;\n        var bounds = control.bounds;\n        return getRangeValueXByPoint(x, bounds.width, axisRange, control.enableRtl);\n    };\n    /**\n     * Moused down handler for slider perform here\n     *\n     * @param {PointerEvent} e mouse event argument\n     */\n    RangeSlider.prototype.mouseDownHandler = function (e) {\n        this.currentSlider = this.getCurrentSlider(e.target.id);\n        this.selectedElement.style.cursor = '-webkit-grabbing';\n        this.isDrag = !(this.currentSlider === 'UnSelectedArea' || !this.currentSlider);\n        this.previousMoveX = this.control.mouseDownX;\n    };\n    /**\n     * To get the current slider element\n     *\n     * @param {string} id slider element id\n     */\n    RangeSlider.prototype.getCurrentSlider = function (id) {\n        var hoverColor = this.control.themeStyle.thumbHoverColor;\n        if (id.indexOf(this.elementId + '_LeftSlider') > -1) {\n            this.leftSlider.childNodes[2].setAttribute('fill', hoverColor);\n            return 'Left';\n        }\n        else if (id.indexOf(this.elementId + '_RightSlider') > -1) {\n            this.rightSlider.childNodes[2].setAttribute('fill', hoverColor);\n            return 'Right';\n        }\n        else if (id.indexOf(this.elementId + '_SelectedArea') > -1) {\n            return 'Middle';\n        }\n        else if (id.indexOf('UnSelectedArea') > -1) {\n            this.leftSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n            this.rightSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n            return 'UnSelectedArea';\n        }\n        else if (id.indexOf(this.elementId + '_AxisLabel_') > -1 && (this.control.valueType === 'DateTime' || this.control.valueType === 'DateTimeCategory')) {\n            this.labelIndex = +id.substring(id.lastIndexOf('_') + 1, id.length);\n            return 'firstLevelLabels';\n        }\n        else if (id.indexOf(this.elementId + '_SecondaryLabel') > -1 && (this.control.valueType === 'DateTime' || this.control.valueType === 'DateTimeCategory')) {\n            this.labelIndex = +id.substring(id.lastIndexOf('_') + 1, id.length);\n            return 'secondLevelLabels';\n        }\n        else {\n            this.leftSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n            this.rightSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n            if (this.control.periodSelectorModule) {\n                this.control.periodSelectorModule.triggerChange = true;\n            }\n            return null;\n        }\n    };\n    /**\n     * Mouse up handler performed here\n     */\n    RangeSlider.prototype.mouseUpHandler = function () {\n        var control = this.control;\n        var range = control.chartSeries.xAxis.actualRange;\n        var trigger = control.enableDeferredUpdate;\n        var enabledTooltip = control.tooltip.enable;\n        if (control.stockChart) {\n            control.stockChart.zoomChange = false;\n        }\n        if (this.currentSlider === 'UnSelectedArea') {\n            var value = void 0;\n            var start = void 0;\n            var end = void 0;\n            var isRtl = control.enableRtl;\n            var difference = control.endValue - control.startValue;\n            if (control.mouseDownX < this.startX) {\n                value = Math.max(this.getRangeValue((control.mouseDownX - (this.sliderWidth / 2) - control.bounds.x)), range.min);\n                end = isRtl ? value : (value + difference);\n                start = isRtl ? (value - difference) : value;\n            }\n            else {\n                value = Math.min(this.getRangeValue((control.mouseDownX + (this.sliderWidth / 2) - control.bounds.x)), range.max);\n                start = isRtl ? value : (value - difference);\n                end = isRtl ? (value + difference) : value;\n            }\n            this.performAnimation(start, end, control);\n            trigger = false;\n        }\n        else if (this.currentSlider === 'firstLevelLabels' || this.currentSlider === 'secondLevelLabels') {\n            var secondLabel = control.rangeAxis[this.currentSlider][this.labelIndex + 1];\n            if (this.selectedPeriod) {\n                var periodSelectorModule = this.control.periodSelectorModule;\n                if (periodSelectorModule) {\n                    var buttons = periodSelectorModule.control.periods;\n                    buttons.map(function (period) {\n                        period.selected = false;\n                    });\n                    periodSelectorModule.selectedIndex = undefined;\n                    var selectedIndex = periodSelectorModule.findSelectedIndex(control.rangeAxis[this.currentSlider][this.labelIndex].value, (secondLabel ? (control.allowIntervalData ? secondLabel.value - 1 : secondLabel.value) : range.max), buttons);\n                    periodSelectorModule.setSelectedStyle(selectedIndex);\n                }\n            }\n            /**\n             * One millisecond is subtracted from the label to indicate the previous label value\n             */\n            this.performAnimation(control.rangeAxis[this.currentSlider][this.labelIndex].value, (secondLabel ? (control.allowIntervalData ? secondLabel.value - 1 : secondLabel.value) : range.max), control);\n            trigger = false;\n        }\n        else if (this.currentSlider === null) {\n            trigger = false;\n        }\n        if (this.isDrag && control.allowSnapping) {\n            this.setAllowSnapping(control, this.currentStart, this.currentEnd, true, enabledTooltip);\n            trigger = false;\n        }\n        if (trigger) {\n            this.setSlider(this.currentStart, this.currentEnd, true, enabledTooltip);\n        }\n        if (this.currentSlider !== null) {\n            if (this.control.periodSelectorSettings.periods.length > 0) {\n                this.control.periodSelectorModule.triggerChange = false;\n                this.control.periodSelectorModule.datePicker.startDate = this.control.periodSelectorModule.isDatetimeCategory ? new Date(this.control.periodSelectorModule.sortedData[Math.floor(this.currentStart)]) : new Date(this.currentStart);\n                this.control.periodSelectorModule.datePicker.endDate = this.control.periodSelectorModule.isDatetimeCategory ? new Date(this.control.periodSelectorModule.sortedData[Math.floor(this.currentEnd)]) : new Date(this.currentEnd);\n            }\n        }\n        this.selectedElement.style.cursor = '-webkit-grab';\n        control.startValue = this.currentStart;\n        control.endValue = this.currentEnd;\n        this.isDrag = false;\n        this.labelIndex = null;\n        this.currentSlider = null;\n    };\n    /**\n     * Allow Snapping perfomed here\n     *\n     * @param {RangeNavigator} control RangeNavigator instance\n     * @param {number} start start\n     * @param {number} end end\n     * @param {boolean} trigger trigger\n     * @param {boolean} tooltip tooltip\n     * @private\n     */\n    RangeSlider.prototype.setAllowSnapping = function (control, start, end, trigger, tooltip) {\n        var values = control.rangeAxis.lowerValues;\n        values.push(control.chartSeries.xAxis.actualRange.max);\n        this.setSlider(getNearestValue(values, start), getNearestValue(values, end), trigger, tooltip);\n        control.startValue = this.currentStart;\n        control.endValue = this.currentEnd;\n    };\n    /**\n     * Animation Calculation for slider navigation.\n     */\n    RangeSlider.prototype.performAnimation = function (start, end, control, animationDuration) {\n        var _this = this;\n        var currentStart = this.currentStart;\n        var currentEnd = this.currentEnd;\n        var isDeffered = control.enableDeferredUpdate;\n        var enableTooltip = control.tooltip.enable;\n        new Animation({}).animate(createElement('div'), {\n            duration: (this.control.animationDuration === 0 && animationMode === 'Enable') ? 1000 : this.control.animationDuration,\n            progress: function (args) {\n                _this.setSlider(linear(args.timeStamp, 0, start - currentStart, args.duration) + currentStart, linear(args.timeStamp, 0, end - currentEnd, args.duration) + currentEnd, !isDeffered, enableTooltip);\n            },\n            end: function () {\n                if (control.allowSnapping) {\n                    _this.setAllowSnapping(control, start, end, true, enableTooltip);\n                }\n                else {\n                    _this.setSlider(start, end, true, enableTooltip);\n                }\n                _this.control.startValue = _this.currentStart;\n                _this.control.endValue = _this.currentEnd;\n                if (_this.control.periodSelectorSettings.periods.length > 0) {\n                    _this.control.periodSelectorModule.triggerChange = false;\n                    _this.control.periodSelectorModule.datePicker.startDate = _this.control.periodSelectorModule.isDatetimeCategory ? new Date(_this.control.periodSelectorModule.sortedData[Math.floor(_this.currentStart)]) : new Date(_this.currentStart);\n                    _this.control.periodSelectorModule.datePicker.endDate = _this.control.periodSelectorModule.isDatetimeCategory ? new Date(_this.control.periodSelectorModule.sortedData[Math.floor(_this.currentEnd)]) : new Date(_this.currentEnd);\n                }\n            }\n        });\n    };\n    /**\n     * Mouse Cancel Handler\n     */\n    RangeSlider.prototype.mouseCancelHandler = function () {\n        if (this.isDrag && this.control.allowSnapping) {\n            this.setAllowSnapping(this.control, this.currentStart, this.currentEnd, false, this.control.tooltip.enable);\n        }\n        this.isDrag = false;\n        this.currentSlider = null;\n        this.control.startValue = this.currentStart;\n        this.control.endValue = this.currentEnd;\n    };\n    /**\n     * Destroy Method Calling here\n     */\n    RangeSlider.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return RangeSlider;\n}());\nexport { RangeSlider };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}