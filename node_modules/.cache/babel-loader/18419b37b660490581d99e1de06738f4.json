{"ast":null,"code":"'use strict';\n\nvar html = require('property-information/html');\n\nvar svg = require('property-information/svg');\n\nvar find = require('property-information/find');\n\nvar hastToReact = require('property-information/hast-to-react.json');\n\nvar spaces = require('space-separated-tokens');\n\nvar commas = require('comma-separated-tokens');\n\nvar style = require('style-to-object');\n\nvar ns = require('web-namespaces');\n\nvar convert = require('unist-util-is/convert');\n\nvar root = convert('root');\nvar element = convert('element');\nvar text = convert('text');\nvar dashes = /-([a-z])/g;\nmodule.exports = wrapper;\n\nfunction wrapper(h, node, options) {\n  var settings = options || {};\n  var prefix;\n  var r;\n  var v;\n  var vd;\n\n  if (typeof h !== 'function') {\n    throw new Error('h is not a function');\n  }\n\n  if (typeof settings === 'string' || typeof settings === 'boolean') {\n    prefix = settings;\n    settings = {};\n  } else {\n    prefix = settings.prefix;\n  }\n\n  r = react(h);\n  v = vue(h);\n  vd = vdom(h);\n\n  if (prefix === null || prefix === undefined) {\n    prefix = r === true || v === true || vd === true ? 'h-' : false;\n  }\n\n  if (root(node)) {\n    if (node.children.length === 1 && element(node.children[0])) {\n      node = node.children[0];\n    } else {\n      node = {\n        type: 'element',\n        tagName: 'div',\n        properties: {},\n        children: node.children\n      };\n    }\n  } else if (!element(node)) {\n    throw new Error('Expected root or element, not `' + (node && node.type || node) + '`');\n  }\n\n  return toH(h, node, {\n    schema: settings.space === 'svg' ? svg : html,\n    prefix: prefix,\n    key: 0,\n    react: r,\n    vue: v,\n    vdom: vd,\n    hyperscript: hyperscript(h)\n  });\n} // Transform a hast node through a hyperscript interface to *anything*!\n\n\nfunction toH(h, node, ctx) {\n  var parentSchema = ctx.schema;\n  var schema = parentSchema;\n  var name = node.tagName;\n  var properties;\n  var attributes;\n  var children;\n  var property;\n  var elements;\n  var length;\n  var index;\n  var value;\n  var result;\n\n  if (parentSchema.space === 'html' && name.toLowerCase() === 'svg') {\n    schema = svg;\n    ctx.schema = schema;\n  }\n\n  if (ctx.vdom === true && schema.space === 'html') {\n    name = name.toUpperCase();\n  }\n\n  properties = node.properties;\n  attributes = {};\n\n  for (property in properties) {\n    addAttribute(attributes, property, properties[property], ctx);\n  }\n\n  if (typeof attributes.style === 'string' && (ctx.vdom === true || ctx.vue === true || ctx.react === true)) {\n    // VDOM, Vue, and React accept `style` as object.\n    attributes.style = parseStyle(attributes.style, name);\n  }\n\n  if (ctx.prefix) {\n    ctx.key++;\n    attributes.key = ctx.prefix + ctx.key;\n  }\n\n  if (ctx.vdom && schema.space !== 'html') {\n    attributes.namespace = ns[schema.space];\n  }\n\n  elements = [];\n  children = node.children;\n  length = children ? children.length : 0;\n  index = -1;\n\n  while (++index < length) {\n    value = children[index];\n\n    if (element(value)) {\n      elements.push(toH(h, value, ctx));\n    } else if (text(value)) {\n      elements.push(value.value);\n    }\n  } // Ensure no React warnings are triggered for void elements having children\n  // passed in.\n\n\n  result = elements.length === 0 ? h.call(node, name, attributes) : h.call(node, name, attributes, elements); // Restore parent schema.\n\n  ctx.schema = parentSchema;\n  return result;\n}\n\nfunction addAttribute(props, prop, value, ctx) {\n  var hyperlike = ctx.hyperscript || ctx.vdom || ctx.vue;\n  var schema = ctx.schema;\n  var info = find(schema, prop);\n  var subprop; // Ignore nully and `NaN` values.\n  // Ignore `false` and falsey known booleans for hyperlike DSLs.\n\n  if (value === null || value === undefined || value !== value || hyperlike && value === false || hyperlike && info.boolean && !value) {\n    return;\n  }\n\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    // Accept `array`.\n    // Most props are space-separated.\n    value = (info.commaSeparated ? commas : spaces).stringify(value);\n  } // Treat `true` and truthy known booleans.\n\n\n  if (info.boolean && ctx.hyperscript === true) {\n    value = '';\n  }\n\n  if (ctx.vue) {\n    if (prop !== 'style') {\n      subprop = 'attrs';\n    }\n  } else if (!info.mustUseProperty) {\n    if (ctx.vdom === true) {\n      subprop = 'attributes';\n    } else if (ctx.hyperscript === true) {\n      subprop = 'attrs';\n    }\n  }\n\n  if (subprop) {\n    if (props[subprop] === undefined) {\n      props[subprop] = {};\n    }\n\n    props[subprop][info.attribute] = value;\n  } else if (ctx.react && info.space) {\n    props[hastToReact[info.property] || info.property] = value;\n  } else {\n    props[info.attribute] = value;\n  }\n} // Check if `h` is `react.createElement`.\n\n\nfunction react(h) {\n  var node = h && h('div');\n  return Boolean(node && ('_owner' in node || '_store' in node) && node.key === null);\n} // Check if `h` is `hyperscript`.\n\n\nfunction hyperscript(h) {\n  return Boolean(h && h.context && h.cleanup);\n} // Check if `h` is `virtual-dom/h`.\n\n\nfunction vdom(h) {\n  return h && h('div').type === 'VirtualNode';\n}\n\nfunction vue(h) {\n  var node = h && h('div');\n  return Boolean(node && node.context && node.context._isVue);\n}\n\nfunction parseStyle(value, tagName) {\n  var result = {};\n\n  try {\n    style(value, iterator);\n  } catch (error) {\n    error.message = tagName + '[style]' + error.message.slice('undefined'.length);\n    throw error;\n  }\n\n  return result;\n\n  function iterator(name, value) {\n    result[styleCase(name)] = value;\n  }\n}\n\nfunction styleCase(value) {\n  if (value.slice(0, 4) === '-ms-') {\n    value = 'ms-' + value.slice(4);\n  }\n\n  return value.replace(dashes, styleReplacer);\n}\n\nfunction styleReplacer($0, $1) {\n  return $1.toUpperCase();\n}","map":{"version":3,"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONT/gptversion/CASEFRONT/node_modules/hast-to-hyperscript/index.js"],"names":["html","require","svg","find","hastToReact","spaces","commas","style","ns","convert","root","element","text","dashes","module","exports","wrapper","h","node","options","settings","prefix","r","v","vd","Error","react","vue","vdom","undefined","children","length","type","tagName","properties","toH","schema","space","key","hyperscript","ctx","parentSchema","name","attributes","property","elements","index","value","result","toLowerCase","toUpperCase","addAttribute","parseStyle","namespace","push","call","props","prop","hyperlike","info","subprop","boolean","commaSeparated","stringify","mustUseProperty","attribute","Boolean","context","cleanup","_isVue","iterator","error","message","slice","styleCase","replace","styleReplacer","$0","$1"],"mappings":"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","sourcesContent":["'use strict'\n\nvar html = require('property-information/html')\nvar svg = require('property-information/svg')\nvar find = require('property-information/find')\nvar hastToReact = require('property-information/hast-to-react.json')\nvar spaces = require('space-separated-tokens')\nvar commas = require('comma-separated-tokens')\nvar style = require('style-to-object')\nvar ns = require('web-namespaces')\nvar convert = require('unist-util-is/convert')\n\nvar root = convert('root')\nvar element = convert('element')\nvar text = convert('text')\n\nvar dashes = /-([a-z])/g\n\nmodule.exports = wrapper\n\nfunction wrapper(h, node, options) {\n  var settings = options || {}\n  var prefix\n  var r\n  var v\n  var vd\n\n  if (typeof h !== 'function') {\n    throw new Error('h is not a function')\n  }\n\n  if (typeof settings === 'string' || typeof settings === 'boolean') {\n    prefix = settings\n    settings = {}\n  } else {\n    prefix = settings.prefix\n  }\n\n  r = react(h)\n  v = vue(h)\n  vd = vdom(h)\n\n  if (prefix === null || prefix === undefined) {\n    prefix = r === true || v === true || vd === true ? 'h-' : false\n  }\n\n  if (root(node)) {\n    if (node.children.length === 1 && element(node.children[0])) {\n      node = node.children[0]\n    } else {\n      node = {\n        type: 'element',\n        tagName: 'div',\n        properties: {},\n        children: node.children\n      }\n    }\n  } else if (!element(node)) {\n    throw new Error(\n      'Expected root or element, not `' + ((node && node.type) || node) + '`'\n    )\n  }\n\n  return toH(h, node, {\n    schema: settings.space === 'svg' ? svg : html,\n    prefix: prefix,\n    key: 0,\n    react: r,\n    vue: v,\n    vdom: vd,\n    hyperscript: hyperscript(h)\n  })\n}\n\n// Transform a hast node through a hyperscript interface to *anything*!\nfunction toH(h, node, ctx) {\n  var parentSchema = ctx.schema\n  var schema = parentSchema\n  var name = node.tagName\n  var properties\n  var attributes\n  var children\n  var property\n  var elements\n  var length\n  var index\n  var value\n  var result\n\n  if (parentSchema.space === 'html' && name.toLowerCase() === 'svg') {\n    schema = svg\n    ctx.schema = schema\n  }\n\n  if (ctx.vdom === true && schema.space === 'html') {\n    name = name.toUpperCase()\n  }\n\n  properties = node.properties\n  attributes = {}\n\n  for (property in properties) {\n    addAttribute(attributes, property, properties[property], ctx)\n  }\n\n  if (\n    typeof attributes.style === 'string' &&\n    (ctx.vdom === true || ctx.vue === true || ctx.react === true)\n  ) {\n    // VDOM, Vue, and React accept `style` as object.\n    attributes.style = parseStyle(attributes.style, name)\n  }\n\n  if (ctx.prefix) {\n    ctx.key++\n    attributes.key = ctx.prefix + ctx.key\n  }\n\n  if (ctx.vdom && schema.space !== 'html') {\n    attributes.namespace = ns[schema.space]\n  }\n\n  elements = []\n  children = node.children\n  length = children ? children.length : 0\n  index = -1\n\n  while (++index < length) {\n    value = children[index]\n\n    if (element(value)) {\n      elements.push(toH(h, value, ctx))\n    } else if (text(value)) {\n      elements.push(value.value)\n    }\n  }\n\n  // Ensure no React warnings are triggered for void elements having children\n  // passed in.\n  result =\n    elements.length === 0\n      ? h.call(node, name, attributes)\n      : h.call(node, name, attributes, elements)\n\n  // Restore parent schema.\n  ctx.schema = parentSchema\n\n  return result\n}\n\nfunction addAttribute(props, prop, value, ctx) {\n  var hyperlike = ctx.hyperscript || ctx.vdom || ctx.vue\n  var schema = ctx.schema\n  var info = find(schema, prop)\n  var subprop\n\n  // Ignore nully and `NaN` values.\n  // Ignore `false` and falsey known booleans for hyperlike DSLs.\n  if (\n    value === null ||\n    value === undefined ||\n    value !== value ||\n    (hyperlike && value === false) ||\n    (hyperlike && info.boolean && !value)\n  ) {\n    return\n  }\n\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    // Accept `array`.\n    // Most props are space-separated.\n    value = (info.commaSeparated ? commas : spaces).stringify(value)\n  }\n\n  // Treat `true` and truthy known booleans.\n  if (info.boolean && ctx.hyperscript === true) {\n    value = ''\n  }\n\n  if (ctx.vue) {\n    if (prop !== 'style') {\n      subprop = 'attrs'\n    }\n  } else if (!info.mustUseProperty) {\n    if (ctx.vdom === true) {\n      subprop = 'attributes'\n    } else if (ctx.hyperscript === true) {\n      subprop = 'attrs'\n    }\n  }\n\n  if (subprop) {\n    if (props[subprop] === undefined) {\n      props[subprop] = {}\n    }\n\n    props[subprop][info.attribute] = value\n  } else if (ctx.react && info.space) {\n    props[hastToReact[info.property] || info.property] = value\n  } else {\n    props[info.attribute] = value\n  }\n}\n\n// Check if `h` is `react.createElement`.\nfunction react(h) {\n  var node = h && h('div')\n  return Boolean(\n    node && ('_owner' in node || '_store' in node) && node.key === null\n  )\n}\n\n// Check if `h` is `hyperscript`.\nfunction hyperscript(h) {\n  return Boolean(h && h.context && h.cleanup)\n}\n\n// Check if `h` is `virtual-dom/h`.\nfunction vdom(h) {\n  return h && h('div').type === 'VirtualNode'\n}\n\nfunction vue(h) {\n  var node = h && h('div')\n  return Boolean(node && node.context && node.context._isVue)\n}\n\nfunction parseStyle(value, tagName) {\n  var result = {}\n\n  try {\n    style(value, iterator)\n  } catch (error) {\n    error.message =\n      tagName + '[style]' + error.message.slice('undefined'.length)\n    throw error\n  }\n\n  return result\n\n  function iterator(name, value) {\n    result[styleCase(name)] = value\n  }\n}\n\nfunction styleCase(value) {\n  if (value.slice(0, 4) === '-ms-') {\n    value = 'ms-' + value.slice(4)\n  }\n\n  return value.replace(dashes, styleReplacer)\n}\n\nfunction styleReplacer($0, $1) {\n  return $1.toUpperCase()\n}\n"]},"metadata":{},"sourceType":"script"}