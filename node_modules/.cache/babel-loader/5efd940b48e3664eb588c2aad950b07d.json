{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable */\nimport { WTableFormat, WRowFormat, WCellFormat } from '../format/index';\nimport { CharacterRangeType, FontScriptType } from '../../base/types';\nimport { WParagraphFormat, WCharacterFormat, WBorder, WBorders } from '../format/index';\nimport { isNullOrUndefined, createElement, classList } from '@syncfusion/ej2-base';\nimport { Dictionary } from '../../base/dictionary';\nimport { HelperMethods } from '../editor/editor-helper';\nimport { WebLayoutViewer } from './viewer';\nimport { Revision } from '../track-changes/track-changes';\n/**\n * @private\n */\nvar Rect = /** @class */function () {\n  function Rect(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  Object.defineProperty(Rect.prototype, \"right\", {\n    get: function () {\n      return this.x + this.width;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Rect.prototype, \"bottom\", {\n    get: function () {\n      return this.y + this.height;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @param currentBound\n   * @private\n   */\n  Rect.prototype.isIntersecting = function (currentBound) {\n    if (currentBound.y > this.bottom || this.y > currentBound.bottom || currentBound.x > this.right || this.x > currentBound.right) {\n      return false;\n    }\n    return true;\n  };\n  /**\n   * @private\n   */\n  Rect.prototype.clone = function () {\n    return new Rect(this.x, this.y, this.width, this.height);\n  };\n  return Rect;\n}();\nexport { Rect };\n/**\n * @private\n */\nvar Padding = /** @class */function () {\n  function Padding(right, left, top, bottom) {\n    this.right = 10;\n    this.left = 10;\n    this.top = 10;\n    this.bottom = 10;\n    this.right = right;\n    this.left = left;\n    this.top = top;\n    this.bottom = bottom;\n  }\n  return Padding;\n}();\nexport { Padding };\n/**\n * @private\n */\nvar Margin = /** @class */function () {\n  function Margin(leftMargin, topMargin, rightMargin, bottomMargin) {\n    this.left = leftMargin;\n    this.top = topMargin;\n    this.right = rightMargin;\n    this.bottom = bottomMargin;\n  }\n  Margin.prototype.clone = function () {\n    return new Margin(this.left, this.top, this.right, this.bottom);\n  };\n  Margin.prototype.destroy = function () {\n    this.left = undefined;\n    this.right = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n  };\n  return Margin;\n}();\nexport { Margin };\n/**\n * @private\n */\nvar Widget = /** @class */function () {\n  function Widget() {\n    /**\n     * @private\n     */\n    this.childWidgets = [];\n    /**\n     * @private\n     */\n    this.x = 0;\n    /**\n     * @private\n     */\n    this.y = 0;\n    /**\n     * @private\n     */\n    this.width = 0;\n    /**\n     * @private\n     */\n    this.height = 0;\n    /**\n     * @private\n     */\n    this.index = 0;\n  }\n  Object.defineProperty(Widget.prototype, \"indexInOwner\", {\n    get: function () {\n      if (this instanceof BodyWidget && this.page) {\n        if (this.containerWidget instanceof FootNoteWidget) {\n          return this.containerWidget.bodyWidgets.indexOf(this);\n        } else {\n          return this.page.bodyWidgets.indexOf(this);\n        }\n      } else if (this.containerWidget && this.containerWidget.childWidgets) {\n        return this.containerWidget.childWidgets.indexOf(this);\n      } else if (this instanceof FootNoteWidget) {\n        return 0;\n      }\n      return -1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Widget.prototype, \"firstChild\", {\n    get: function () {\n      return this.childWidgets.length > 0 ? this.childWidgets[0] : undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Widget.prototype, \"lastChild\", {\n    get: function () {\n      if (this.childWidgets) {\n        return this.childWidgets.length > 0 ? this.childWidgets[this.childWidgets.length - 1] : undefined;\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Widget.prototype, \"previousWidget\", {\n    get: function () {\n      var widget = this;\n      var index = this.indexInOwner;\n      if (widget instanceof BodyWidget) {\n        widget = index > 0 ? widget.page.bodyWidgets[index - 1] : undefined;\n      } else {\n        widget = index > 0 ? widget.containerWidget.childWidgets[index - 1] : undefined;\n      }\n      return widget;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Widget.prototype, \"nextWidget\", {\n    get: function () {\n      var widget = this;\n      var index = this.indexInOwner;\n      if (index === -1) {\n        return undefined;\n      }\n      if (widget instanceof BodyWidget) {\n        widget = index < widget.page.bodyWidgets.length - 1 ? widget.page.bodyWidgets[index + 1] : undefined;\n      } else {\n        widget = index < widget.containerWidget.childWidgets.length - 1 ? widget.containerWidget.childWidgets[index + 1] : undefined;\n      }\n      return widget;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Widget.prototype, \"previousRenderedWidget\", {\n    get: function () {\n      var widget = this;\n      var index = this.indexInOwner;\n      if (index < 0) {\n        return undefined;\n      }\n      if (widget instanceof BodyWidget) {\n        if (index > 0 && !(widget.containerWidget instanceof FootNoteWidget)) {\n          widget = widget.page.bodyWidgets[index - 1];\n        } else if (widget.containerWidget instanceof FootNoteWidget && !widget.page.documentHelper.owner.editorModule.removeEditRange) {\n          if (index <= 0) {\n            return undefined;\n          }\n          widget = widget.containerWidget.bodyWidgets[index - 1];\n        } else {\n          var page = widget.page.previousPage;\n          widget = page && page.bodyWidgets.length > 0 ? page.bodyWidgets[page.bodyWidgets.length - 1] : undefined;\n        }\n      } else if (widget instanceof FootNoteWidget) {\n        var page = widget.page;\n        while (page.previousPage) {\n          page = page.previousPage;\n          widget = page.footnoteWidget;\n          if (!isNullOrUndefined(widget)) {\n            break;\n          }\n        }\n      } else {\n        if (index > 0) {\n          widget = widget.containerWidget.childWidgets[index - 1];\n        } else {\n          var previousContainer = undefined;\n          if (widget.containerWidget instanceof TableCellWidget) {\n            previousContainer = widget.containerWidget.getPreviousSplitWidget();\n          } else if (widget.containerWidget && widget.containerWidget.containerWidget instanceof FootNoteWidget && widget.containerWidget.containerWidget.footNoteType === 'Endnote') {\n            previousContainer = widget.containerWidget.previousWidget ? widget.containerWidget.previousWidget : widget.containerWidget.previousRenderedWidget;\n          } else if (!(widget.containerWidget instanceof TableRowWidget || widget.containerWidget instanceof HeaderFooterWidget || widget.containerWidget && widget.containerWidget.containerWidget instanceof FootNoteWidget)) {\n            // Since cells are lay outed left to right, we should not navigate to previous row.\n            previousContainer = widget.containerWidget.previousRenderedWidget;\n          }\n          while (previousContainer && previousContainer.childWidgets.length === 0) {\n            previousContainer = previousContainer.previousRenderedWidget;\n            if (isNullOrUndefined(previousContainer)) {\n              break;\n            }\n          }\n          widget = previousContainer && previousContainer.constructor === widget.containerWidget.constructor ? previousContainer.lastChild : undefined;\n        }\n      }\n      return widget;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Widget.prototype, \"nextRenderedWidget\", {\n    get: function () {\n      var widget = this;\n      var index = this.indexInOwner;\n      if (index < 0) {\n        return undefined;\n      }\n      if (widget instanceof BodyWidget) {\n        if (index < widget.page.bodyWidgets.length - 1 && !(widget.containerWidget instanceof FootNoteWidget)) {\n          widget = widget.page.bodyWidgets[index + 1];\n        } else if (widget.containerWidget instanceof FootNoteWidget) {\n          if (index >= widget.containerWidget.bodyWidgets.length - 1 && !widget.page.documentHelper.owner.editorModule.removeEditRange) {\n            return undefined;\n          }\n          widget = widget.containerWidget.bodyWidgets[index + 1];\n        } else if (widget.page.allowNextPageRendering) {\n          var page = widget.page.nextPage;\n          widget = page && page.bodyWidgets.length > 0 ? page.bodyWidgets[0] : undefined;\n        } else {\n          widget = undefined;\n        }\n      } else if (widget instanceof FootNoteWidget) {\n        var page = widget.page;\n        while (page.allowNextPageRendering && page.nextPage) {\n          page = page.nextPage;\n          widget = page.footnoteWidget;\n          if (!isNullOrUndefined(widget)) {\n            break;\n          }\n        }\n      } else {\n        if (index < widget.containerWidget.childWidgets.length - 1) {\n          widget = widget.containerWidget.childWidgets[index + 1];\n        } else {\n          var nextContainer = undefined;\n          if (widget.containerWidget instanceof TableCellWidget) {\n            nextContainer = widget.containerWidget.getNextSplitWidget();\n          } else if (widget.containerWidget && widget.containerWidget.containerWidget instanceof FootNoteWidget && widget.containerWidget.containerWidget.footNoteType === 'Endnote') {\n            nextContainer = widget.containerWidget.nextWidget ? widget.containerWidget.nextWidget : widget.containerWidget.nextRenderedWidget;\n          } else if (!(widget.containerWidget instanceof TableRowWidget || widget.containerWidget instanceof HeaderFooterWidget || widget.containerWidget && widget.containerWidget.containerWidget instanceof FootNoteWidget)) {\n            // Since cells are lay outed left to right, we should not navigate to next row.\n            nextContainer = widget.containerWidget.nextRenderedWidget;\n          }\n          while (nextContainer && nextContainer.childWidgets.length === 0 && !(nextContainer instanceof TableCellWidget)) {\n            nextContainer = nextContainer.nextRenderedWidget;\n            if (isNullOrUndefined(nextContainer)) {\n              break;\n            }\n          }\n          widget = nextContainer && nextContainer.constructor === widget.containerWidget.constructor ? nextContainer.firstChild : undefined;\n        }\n      }\n      return widget;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Widget.prototype, \"previousSplitWidget\", {\n    get: function () {\n      var widget = this;\n      if (widget instanceof TableCellWidget) {\n        return widget.getPreviousSplitWidget();\n      } else {\n        var previous = widget.previousRenderedWidget;\n        if (widget instanceof BodyWidget && previous instanceof BodyWidget && widget.equals(previous)) {\n          return previous;\n        } else if (previous instanceof BlockWidget && widget.index === previous.index && widget.equals(previous)) {\n          return previous;\n        }\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Widget.prototype, \"nextSplitWidget\", {\n    get: function () {\n      var widget = this;\n      if (widget instanceof TableCellWidget) {\n        return widget.getNextSplitWidget();\n      } else {\n        var next = widget.nextRenderedWidget;\n        if (widget instanceof BodyWidget && next instanceof BodyWidget && widget.equals(next)) {\n          return next;\n        } else if (next instanceof BlockWidget && widget.index === next.index && widget.equals(next)) {\n          return next;\n        }\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Widget.prototype.getPreviousSplitWidgets = function () {\n    var widgets = [];\n    var widget = this.previousSplitWidget;\n    while (widget) {\n      widgets.unshift(widget);\n      widget = widget.previousSplitWidget;\n      if (widget && widget == widget.previousSplitWidget) {\n        break;\n      }\n    }\n    return widgets;\n  };\n  Widget.prototype.getSplitWidgets = function () {\n    var widgets = this.getPreviousSplitWidgets();\n    var widget = this;\n    while (widget) {\n      widgets.push(widget);\n      widget = widget.nextSplitWidget;\n    }\n    return widgets;\n  };\n  Widget.prototype.combineWidget = function (viewer) {\n    var root = this;\n    var widgets = this.getSplitWidgets();\n    if (widgets.length > 1) {\n      root = widgets.shift();\n      while (widgets.length > 0) {\n        var splitWidget = widgets.shift();\n        root.combine(splitWidget, viewer);\n      }\n    }\n    if (root instanceof TableWidget) {\n      root.combineRows(viewer);\n    }\n    return root;\n  };\n  Widget.prototype.combine = function (widget, viewer) {\n    if (widget.childWidgets.length > 0) {\n      var lastChild = this.lastChild;\n      if (lastChild instanceof TableWidget) {\n        lastChild.combineWidget(viewer);\n      } else {\n        var firstChild = widget.firstChild;\n        if (!(widget instanceof TableWidget) && lastChild instanceof Widget && firstChild instanceof Widget && lastChild.index === firstChild.index) {\n          lastChild.combine(widget.childWidgets.shift(), viewer);\n        }\n      }\n      this.addWidgets(widget.childWidgets);\n      widget.childWidgets = [];\n    }\n    widget.destroyInternal(viewer);\n  };\n  Widget.prototype.addWidgets = function (childWidgets) {\n    while (childWidgets.length > 0) {\n      var widget = childWidgets.shift();\n      if (widget instanceof LineWidget && this instanceof ParagraphWidget) {\n        widget.paragraph = this;\n        this.height += widget.height;\n      } else if (widget instanceof Widget) {\n        var lastChild = this.lastChild;\n        widget.containerWidget = this;\n        widget.y = lastChild instanceof Widget ? lastChild.y + lastChild.height : this.y;\n        this.height += widget.height;\n      }\n      if (widget instanceof TableRowWidget) {\n        var previousRow = this.childWidgets[this.childWidgets.length - 1];\n        for (var i = 0; i < previousRow.childWidgets.length; i++) {\n          var previousCell = previousRow.childWidgets[i];\n          if (previousCell.cellFormat.rowSpan > 1) {\n            for (var j = 0; j < widget.childWidgets.length; j++) {\n              var currentCell = widget.childWidgets[j];\n              if (currentCell.columnIndex === previousCell.columnIndex && currentCell.isSplittedCell && currentCell.cellFormat.rowSpan === previousCell.cellFormat.rowSpan) {\n                for (var k = 0; k < currentCell.childWidgets.length; k++) {\n                  var block = currentCell.childWidgets[k];\n                  currentCell.childWidgets.splice(block.indexInOwner, 1);\n                  previousCell.childWidgets.push(block);\n                  block.containerWidget = previousCell;\n                  k--;\n                }\n                currentCell.ownerRow.childWidgets.splice(currentCell.indexInOwner, 1);\n                currentCell.containerWidget = undefined;\n                j--;\n              }\n            }\n          }\n        }\n      }\n      this.childWidgets.push(widget);\n    }\n  };\n  Widget.prototype.removeChild = function (index) {\n    if (index > -1 && index < this.childWidgets.length) {\n      this.childWidgets.splice(index, 1);\n    }\n  };\n  Widget.prototype.destroy = function () {\n    if (this.childWidgets) {\n      while (this.childWidgets.length > 0) {\n        var child = this.childWidgets.pop();\n        if (child instanceof LineWidget || child instanceof Widget) {\n          child.destroy();\n        }\n      }\n    }\n    this.childWidgets = undefined;\n    if (this.containerWidget) {\n      this.containerWidget.removeChild(this.indexInOwner);\n    }\n    this.containerWidget = undefined;\n    // if (this.margin) {\n    //     this.margin.destroy();\n    // }\n    this.margin = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.index = undefined;\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  Widget.prototype.componentDestroy = function () {\n    if (this.childWidgets) {\n      while (this.childWidgets.length > 0) {\n        var child = this.childWidgets.pop();\n        if (child instanceof LineWidget || child instanceof Widget) {\n          child.componentDestroy();\n        }\n      }\n    }\n    this.childWidgets = undefined;\n    if (this.margin) {\n      this.margin.destroy();\n    }\n    this.margin = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.index = undefined;\n    this.containerWidget = undefined;\n  };\n  return Widget;\n}();\nexport { Widget };\n/**\n * @private\n */\nvar BlockContainer = /** @class */function (_super) {\n  __extends(BlockContainer, _super);\n  function BlockContainer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.floatingElements = [];\n    /**\n     * @private\n     */\n    _this.footNoteReference = undefined;\n    /**\n     * @private\n     */\n    _this.sectionFormatIn = undefined;\n    /**\n    * @private\n    */\n    _this.columnIndex = 0;\n    return _this;\n  }\n  Object.defineProperty(BlockContainer.prototype, \"sectionFormat\", {\n    get: function () {\n      var container = this;\n      if (container instanceof BodyWidget) {\n        return container.sectionFormatIn;\n      } else if (container.page && !isNullOrUndefined(container.page.bodyWidgets)) {\n        return container.page.bodyWidgets[0].sectionFormat;\n      }\n      return undefined;\n    },\n    set: function (value) {\n      if (this instanceof BodyWidget) {\n        this.sectionFormatIn = value;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BlockContainer.prototype, \"sectionIndex\", {\n    get: function () {\n      var container = this;\n      var index = 0;\n      if (container instanceof BodyWidget) {\n        index = container.index;\n      } else if (container.page) {\n        index = container.page.bodyWidgets[0].index;\n      }\n      return index;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  BlockContainer.prototype.getHierarchicalIndex = function (hierarchicalIndex) {\n    var documentHelper = undefined;\n    var node = this;\n    if (node instanceof BodyWidget) {\n      hierarchicalIndex = node.index + ';' + hierarchicalIndex;\n    } else if (node instanceof FootNoteWidget) {\n      if (node.footNoteType === 'Footnote') {\n        hierarchicalIndex = 'FN' + ';' + hierarchicalIndex;\n      } else {\n        hierarchicalIndex = 'EN' + ';' + hierarchicalIndex;\n      }\n    } else {\n      if (node.headerFooterType.indexOf('Header') !== -1) {\n        hierarchicalIndex = 'H' + ';' + hierarchicalIndex;\n      } else {\n        hierarchicalIndex = 'F' + ';' + hierarchicalIndex;\n      }\n    }\n    if (!isNullOrUndefined(node.page)) {\n      documentHelper = this.page.documentHelper;\n      var pageIndex = documentHelper.pages.indexOf(this.page);\n      return pageIndex + ';' + hierarchicalIndex;\n    }\n    return hierarchicalIndex;\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  BlockContainer.prototype.componentDestroy = function () {\n    if (this.sectionFormatIn) {\n      this.sectionFormatIn.destroy();\n    }\n    this.sectionFormatIn = undefined;\n    this.floatingElements = [];\n    this.removedHeaderFooters = [];\n    this.footNoteReference = undefined;\n    this.page = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return BlockContainer;\n}(Widget);\nexport { BlockContainer };\n/**\n * @private\n */\nvar BodyWidget = /** @class */function (_super) {\n  __extends(BodyWidget, _super);\n  /**\n   * Initialize the constructor of BodyWidget\n   */\n  function BodyWidget() {\n    return _super.call(this) || this;\n  }\n  BodyWidget.prototype.equals = function (widget) {\n    return widget instanceof BodyWidget && widget.sectionFormat === this.sectionFormat;\n  };\n  BodyWidget.prototype.getHierarchicalIndex = function (hierarchicalIndex) {\n    var documentHelper = undefined;\n    var node = this;\n    if (node.containerWidget instanceof FootNoteWidget) {\n      hierarchicalIndex = node.containerWidget.bodyWidgets.indexOf(node) + ';' + hierarchicalIndex;\n      if (node.containerWidget.footNoteType === 'Footnote') {\n        hierarchicalIndex = 'FN' + ';' + hierarchicalIndex;\n      } else {\n        hierarchicalIndex = 'EN' + ';' + hierarchicalIndex;\n      }\n    } else {\n      if (this.page && this.page.bodyWidgets.indexOf(this) !== -1) {\n        hierarchicalIndex = this.page.bodyWidgets.indexOf(this) + ';' + hierarchicalIndex;\n      } else {\n        hierarchicalIndex = node.index + ';' + hierarchicalIndex;\n      }\n    }\n    if (!isNullOrUndefined(node.page)) {\n      documentHelper = this.page.documentHelper;\n      var pageIndex = documentHelper.pages.indexOf(this.page);\n      return pageIndex + ';' + hierarchicalIndex;\n    }\n    return hierarchicalIndex;\n  };\n  BodyWidget.prototype.getTableCellWidget = function (touchPoint) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      if (this.childWidgets[i] instanceof TableWidget) {\n        var childWidget = this.childWidgets[i];\n        var tableWidth = 0;\n        if (childWidget.wrapTextAround) {\n          tableWidth = childWidget.getTableCellWidth();\n        }\n        if (!childWidget.wrapTextAround && childWidget.y <= touchPoint.y && childWidget.y + childWidget.height >= touchPoint.y) {\n          return childWidget.getTableCellWidget(touchPoint);\n        }\n        if (childWidget.wrapTextAround && childWidget.x <= touchPoint.x && childWidget.x + tableWidth >= touchPoint.x && childWidget.y <= touchPoint.y && childWidget.y + childWidget.height >= touchPoint.y) {\n          return childWidget.getTableCellWidget(touchPoint);\n        }\n      }\n    }\n    var tableCellWidget = undefined;\n    if (this.childWidgets.length > 0) {\n      if (this.childWidgets[0].y <= touchPoint.y) {\n        tableCellWidget = this.childWidgets[this.childWidgets.length - 1].getTableCellWidget(touchPoint);\n      } else {\n        tableCellWidget = this.childWidgets[0].getTableCellWidget(touchPoint);\n      }\n    }\n    return tableCellWidget;\n  };\n  BodyWidget.prototype.destroyInternal = function (viewer) {\n    var height = this.height;\n    if (!isNullOrUndefined(this.childWidgets)) {\n      for (var n = 0; n < this.childWidgets.length; n++) {\n        var chilgWidget = this.childWidgets[n];\n        if (chilgWidget instanceof ParagraphWidget) {\n          chilgWidget.destroyInternal(viewer);\n        } else {\n          chilgWidget.destroyInternal(viewer);\n        }\n        if (isNullOrUndefined(this.childWidgets)) {\n          break;\n        }\n        n--;\n      }\n      this.childWidgets = undefined;\n    }\n    // if (this instanceof HeaderFooterWidget && ((this as HeaderFooterWidget).currentNode ))) {\n    //     if (((this as HeaderFooterWidget).currentNode as WHeaderFooter).layoutedWidgets )) {\n    //         let index: number = ((this as HeaderFooterWidget).currentNode as WHeaderFooter).layoutedWidgets.indexOf(this);\n    //         ((this as HeaderFooterWidget).currentNode as WHeaderFooter).layoutedWidgets.splice(index, 1);\n    //     }\n    //     this.currentNode = undefined;\n    if (!isNullOrUndefined(this.page)) {\n      var index = this.indexInOwner;\n      if (this.indexInOwner > -1) {\n        this.page.bodyWidgets.splice(index, 1);\n        if (this.page.bodyWidgets.length === 0) {\n          this.page.destroy();\n          // }\n        } else if (this instanceof HeaderFooterWidget && this.page.headerWidget === this) {\n          this.page.headerWidget = undefined;\n        } else if (this instanceof HeaderFooterWidget && this.page.footerWidget === this) {\n          this.page.footerWidget = undefined;\n        }\n        this.page = undefined;\n      }\n    }\n    this.destroy();\n  };\n  BodyWidget.prototype.destroy = function () {\n    // if (this.sectionFormatIn) {\n    //     this.sectionFormatIn.destroy();\n    // }\n    this.sectionFormatIn = undefined;\n    if (this.page && this.page.headerWidgetIn) {\n      this.page.headerWidgetIn.page = undefined;\n    }\n    if (this.page && this.page.footerWidgetIn) {\n      this.page.footerWidgetIn.page = undefined;\n    }\n    this.page = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  BodyWidget.prototype.componentDestroy = function () {\n    _super.prototype.componentDestroy.call(this);\n  };\n  return BodyWidget;\n}(BlockContainer);\nexport { BodyWidget };\n/**\n * @private\n */\nvar HeaderFooterWidget = /** @class */function (_super) {\n  __extends(HeaderFooterWidget, _super);\n  function HeaderFooterWidget(type) {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.isEmpty = false;\n    _this.headerFooterType = type;\n    return _this;\n  }\n  HeaderFooterWidget.prototype.getTableCellWidget = function (point) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      if (this.childWidgets[i] instanceof TableWidget) {\n        var child = this.childWidgets[i];\n        var tableWidth = 0;\n        if (child.wrapTextAround) {\n          tableWidth = child.getTableCellWidth();\n        }\n        if (!child.wrapTextAround && child.y <= point.y && child.y + child.height >= point.y) {\n          return child.getTableCellWidget(point);\n        }\n        if (child.wrapTextAround && child.x <= point.x && child.x + tableWidth >= point.x && child.y <= point.y && child.y + child.height >= point.y) {\n          return child.getTableCellWidget(point);\n        }\n      }\n    }\n    var tableCell = undefined;\n    if (this.childWidgets.length > 0) {\n      if (this.childWidgets[0].y <= point.y) {\n        tableCell = this.childWidgets[this.childWidgets.length - 1].getTableCellWidget(point);\n      } else {\n        tableCell = this.childWidgets[0].getTableCellWidget(point);\n      }\n    }\n    return tableCell;\n  };\n  HeaderFooterWidget.prototype.equals = function (widget) {\n    // Todo: Need to work\n    return widget instanceof HeaderFooterWidget && widget.containerWidget === this.containerWidget;\n  };\n  HeaderFooterWidget.prototype.clone = function () {\n    var headerFooter = new HeaderFooterWidget(this.headerFooterType);\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var block = this.childWidgets[i].clone();\n      headerFooter.childWidgets.push(block);\n      block.index = i;\n      block.containerWidget = headerFooter;\n    }\n    headerFooter.isEmpty = this.isEmpty;\n    headerFooter.x = this.x;\n    headerFooter.y = this.y;\n    headerFooter.height = 0;\n    headerFooter.width = 0;\n    return headerFooter;\n  };\n  HeaderFooterWidget.prototype.destroyInternal = function (viewer) {\n    this.page = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  HeaderFooterWidget.prototype.componentDestroy = function () {\n    _super.prototype.componentDestroy.call(this);\n    this.parentHeaderFooter = undefined;\n  };\n  return HeaderFooterWidget;\n}(BlockContainer);\nexport { HeaderFooterWidget };\n/**\n * @private\n */\nvar BlockWidget = /** @class */function (_super) {\n  __extends(BlockWidget, _super);\n  function BlockWidget() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.isLayouted = false;\n    /**\n     * @private\n     */\n    _this.isFieldCodeBlock = false;\n    /**\n     * @private\n     */\n    _this.locked = false;\n    /**\n     * @private\n     */\n    _this.lockedBy = '';\n    return _this;\n  }\n  Object.defineProperty(BlockWidget.prototype, \"bodyWidget\", {\n    get: function () {\n      var widget = this;\n      while (widget.containerWidget) {\n        if (widget.containerWidget instanceof TextFrame) {\n          var paragraph = widget.containerWidget.containerShape.line.paragraph;\n          if (paragraph) {\n            return paragraph.bodyWidget;\n          }\n        } else if (widget.containerWidget instanceof BlockContainer) {\n          return widget.containerWidget;\n        }\n        widget = widget.containerWidget;\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BlockWidget.prototype, \"leftIndent\", {\n    get: function () {\n      var blockAdv = this;\n      if (blockAdv instanceof ParagraphWidget && blockAdv.paragraphFormat instanceof WParagraphFormat) {\n        return blockAdv.paragraphFormat.leftIndent;\n      } else if (blockAdv instanceof TableWidget && blockAdv.tableFormat instanceof WTableFormat) {\n        return blockAdv.tableFormat.leftIndent;\n      }\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BlockWidget.prototype, \"rightIndent\", {\n    get: function () {\n      var blockAdv = this;\n      if (blockAdv instanceof ParagraphWidget && blockAdv.paragraphFormat instanceof WParagraphFormat) {\n        return blockAdv.paragraphFormat.rightIndent;\n      }\n      return 0;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BlockWidget.prototype, \"isInsideTable\", {\n    get: function () {\n      return this.containerWidget instanceof TableCellWidget;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BlockWidget.prototype, \"isInHeaderFooter\", {\n    get: function () {\n      return this.bodyWidget instanceof HeaderFooterWidget;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BlockWidget.prototype, \"associatedCell\", {\n    get: function () {\n      if (this.containerWidget instanceof TableCellWidget) {\n        return this.containerWidget;\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Check whether the paragraph contains only page break.\n   *\n   * @private\n   * @returns {boolean}: Returns true if paragraph contains page break alone.\n   */\n  BlockWidget.prototype.isPageBreak = function () {\n    var isPageBreak = false;\n    if (this instanceof ParagraphWidget) {\n      var paragraph = this;\n      if (paragraph != null && paragraph.childWidgets.length === 1 && paragraph.firstChild.children.length === 1) {\n        var pageBreak = paragraph.firstChild.children[0];\n        isPageBreak = pageBreak.isPageBreak;\n      }\n    }\n    return isPageBreak;\n  };\n  BlockWidget.prototype.isColumnBreak = function () {\n    var isColumnBreak = false;\n    if (this instanceof ParagraphWidget) {\n      var paragraph = this;\n      if (paragraph != null && paragraph.childWidgets.length === 1 && paragraph.firstChild.children.length === 1) {\n        var columnBreak = paragraph.firstChild.children[0];\n        isColumnBreak = columnBreak.isColumnBreak;\n      }\n    }\n    return isColumnBreak;\n  };\n  BlockWidget.prototype.getHierarchicalIndex = function (hierarchicalIndex) {\n    var node = this;\n    hierarchicalIndex = node.containerWidget.childWidgets.indexOf(node) + ';' + hierarchicalIndex;\n    if (!isNullOrUndefined(node.containerWidget)) {\n      if (node.containerWidget instanceof TextFrame) {\n        return node.containerWidget.getHierarchicalIndex(hierarchicalIndex);\n      } else if (node.containerWidget instanceof BlockWidget) {\n        return node.containerWidget.getHierarchicalIndex(hierarchicalIndex);\n      } else if (node.containerWidget instanceof BlockContainer) {\n        hierarchicalIndex = node.containerWidget.getHierarchicalIndex(hierarchicalIndex);\n      }\n    }\n    return hierarchicalIndex;\n  };\n  BlockWidget.prototype.getIndex = function () {\n    if (this instanceof ParagraphWidget || this instanceof TableWidget) {\n      return this.containerWidget.childWidgets.indexOf(this);\n    } else if (this instanceof TableRowWidget) {\n      return this.ownerTable.childWidgets.indexOf(this);\n    } else if (this instanceof TableCellWidget) {\n      return this.ownerRow.childWidgets.indexOf(this);\n    }\n    return 0;\n  };\n  BlockWidget.prototype.getContainerWidth = function () {\n    if (this.isInsideTable) {\n      var block = this;\n      if (block instanceof TableWidget && block.tableFormat.preferredWidthType === 'Auto' && this.associatedCell.ownerTable.isGridUpdated) {\n        var containerWidth = 0;\n        var columnSpan = this.associatedCell.cellFormat.columnSpan;\n        var columnIndex = this.associatedCell.columnIndex;\n        for (var i = 0; i < columnSpan; i++) {\n          containerWidth += this.associatedCell.ownerTable.tableHolder.columns[columnIndex].preferredWidth;\n          columnIndex++;\n        }\n        if (containerWidth > 0) {\n          return containerWidth;\n        }\n      }\n      return this.associatedCell.getCellWidth(this);\n    }\n    if (this.containerWidget instanceof TextFrame) {\n      var shape = this.containerWidget.containerShape;\n      return HelperMethods.convertPixelToPoint(shape.width) - HelperMethods.convertPixelToPoint(shape.textFrame.marginLeft) - HelperMethods.convertPixelToPoint(shape.textFrame.marginRight);\n    } else {\n      var bodyWidget = this.bodyWidget;\n      var sectionFormat = bodyWidget.sectionFormat;\n      var padding = 0;\n      if (!isNullOrUndefined(bodyWidget.page) && !isNullOrUndefined(bodyWidget.page.documentHelper) && bodyWidget.page.documentHelper.compatibilityMode !== 'Word2013' && !this.isInsideTable && this instanceof TableWidget) {\n        var firstRow = this.firstChild;\n        padding = firstRow.firstChild.leftMargin + firstRow.lastChild.rightMargin;\n      }\n      if (bodyWidget instanceof BodyWidget && sectionFormat.columns.length > 1) {\n        var colIndex = bodyWidget.columnIndex;\n        return HelperMethods.convertPixelToPoint(sectionFormat.columns[colIndex].width);\n      } else {\n        return sectionFormat.pageWidth - (sectionFormat.leftMargin + sectionFormat.rightMargin) + padding;\n      }\n    }\n  };\n  Object.defineProperty(BlockWidget.prototype, \"bidi\", {\n    get: function () {\n      if (this instanceof ParagraphWidget && this.paragraphFormat instanceof WParagraphFormat) {\n        return this.paragraphFormat.bidi;\n      }\n      if (this instanceof TableWidget && this.tableFormat instanceof WTableFormat) {\n        return this.tableFormat.bidi;\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  BlockWidget.prototype.componentDestroy = function () {\n    _super.prototype.componentDestroy.call(this);\n    this.contentControlProperties = undefined;\n  };\n  return BlockWidget;\n}(Widget);\nexport { BlockWidget };\n/**\n * @private\n */\nvar FootNoteWidget = /** @class */function (_super) {\n  __extends(FootNoteWidget, _super);\n  function FootNoteWidget() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.bodyWidgets = [];\n    return _this;\n  }\n  FootNoteWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n    throw new Error('Method not implemented.');\n  };\n  FootNoteWidget.prototype.getTableCellWidget = function (point) {\n    return undefined;\n  };\n  FootNoteWidget.prototype.equals = function (widget) {\n    // Todo: Need to work\n    return widget instanceof FootNoteWidget && widget.containerWidget === this.containerWidget;\n  };\n  FootNoteWidget.prototype.clone = function () {\n    var footNote = new FootNoteWidget();\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var block = this.childWidgets[i].clone();\n      footNote.childWidgets.push(block);\n      block.index = i;\n      block.containerWidget = footNote;\n    }\n    footNote.block = this.block;\n    return footNote;\n  };\n  FootNoteWidget.prototype.destroyInternal = function (viewer) {\n    this.block = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  FootNoteWidget.prototype.componentDestroy = function () {\n    if (this.bodyWidgets && this.bodyWidgets.length > 0) {\n      for (var i = 0; i < this.bodyWidgets.length; i++) {\n        var bodyWidget = this.bodyWidgets[i];\n        bodyWidget.componentDestroy();\n      }\n      this.bodyWidgets = [];\n    }\n    this.bodyWidgets = undefined;\n    this.block = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return FootNoteWidget;\n}(BlockContainer);\nexport { FootNoteWidget };\n/**\n * @private\n */\nvar ParagraphWidget = /** @class */function (_super) {\n  __extends(ParagraphWidget, _super);\n  /**\n   * Initialize the constructor of ParagraphWidget\n   */\n  function ParagraphWidget() {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.isSectionBreak = false;\n    /**\n     * @private\n     */\n    _this.isChangeDetected = false;\n    /**\n     * @private\n     */\n    _this.isCreatedUsingHtmlSpanTag = undefined;\n    /**\n     * @private\n     * The clientX having previous left value of empty paragraph\n     */\n    _this.clientX = undefined;\n    /**\n     * @private\n     */\n    _this.floatingElements = [];\n    _this.paragraphFormat = new WParagraphFormat(_this);\n    _this.characterFormat = new WCharacterFormat(_this);\n    return _this;\n  }\n  Object.defineProperty(ParagraphWidget.prototype, \"isEndsWithPageBreak\", {\n    get: function () {\n      if (this.childWidgets.length > 0) {\n        return this.lastChild.isEndsWithPageBreak;\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ParagraphWidget.prototype, \"isEndsWithColumnBreak\", {\n    get: function () {\n      if (this.childWidgets.length > 0) {\n        return this.lastChild.isEndsWithColumnBreak;\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  ParagraphWidget.prototype.equals = function (widget) {\n    return widget instanceof ParagraphWidget && widget.paragraphFormat === this.paragraphFormat;\n  };\n  ParagraphWidget.prototype.isContainsShapeAlone = function () {\n    var containsShape = false;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var lineWidget = this.childWidgets[i];\n      for (var j = 0; j < lineWidget.children.length; j++) {\n        var inline = lineWidget.children[j];\n        if (!(inline instanceof ShapeBase) || inline instanceof ShapeBase && inline.textWrappingStyle === 'Inline') {\n          return false;\n        } else {\n          containsShape = true;\n        }\n      }\n    }\n    return containsShape ? true : false;\n  };\n  ParagraphWidget.prototype.isEmpty = function () {\n    if (isNullOrUndefined(this.childWidgets) || this.childWidgets.length === 0) {\n      return true;\n    }\n    for (var j = 0; j < this.childWidgets.length; j++) {\n      var inlineElement = this.childWidgets[j];\n      for (var i = 0; i < inlineElement.children.length; i++) {\n        var inline = inlineElement.children[i];\n        if (inline.length === 0) {\n          continue;\n        }\n        if (inline instanceof TextElementBox || inline instanceof ImageElementBox || inline instanceof BookmarkElementBox || inline instanceof EditRangeEndElementBox || inline instanceof EditRangeStartElementBox || inline instanceof ChartElementBox || inline instanceof ShapeElementBox || inline instanceof ContentControl || inline instanceof FieldElementBox && HelperMethods.isLinkedFieldCharacter(inline)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  ParagraphWidget.prototype.getInline = function (offset, indexInInline) {\n    var inline = undefined;\n    var count = 0;\n    var isStarted = false;\n    var splittedWidget = this.getSplitWidgets();\n    for (var k = 0; k < splittedWidget.length; k++) {\n      var widget = splittedWidget[k];\n      for (var j = 0; j < widget.childWidgets.length; j++) {\n        var line = widget.childWidgets[j];\n        for (var i = 0; i < line.children.length; i++) {\n          inline = line.children[i];\n          if (inline instanceof ListTextElementBox) {\n            continue;\n          }\n          if (!isStarted && (inline instanceof TextElementBox || inline instanceof ImageElementBox || inline instanceof ShapeElementBox || inline instanceof BookmarkElementBox || inline instanceof FieldElementBox && HelperMethods.isLinkedFieldCharacter(inline)) || inline instanceof ChartElementBox) {\n            isStarted = true;\n          }\n          if (isStarted && offset <= count + inline.length) {\n            indexInInline = offset - count;\n            return {\n              'element': inline,\n              'index': indexInInline\n            };\n          }\n          count += inline.length;\n        }\n      }\n    }\n    if (offset > count) {\n      indexInInline = isNullOrUndefined(inline) ? offset : inline.length;\n    }\n    return {\n      'element': inline,\n      'index': indexInInline\n    };\n  };\n  ParagraphWidget.prototype.getLength = function () {\n    var length = 0;\n    if (isNullOrUndefined(this.childWidgets)) {\n      return length;\n    }\n    for (var j = 0; j < this.childWidgets.length; j++) {\n      var line = this.childWidgets[j];\n      for (var i = 0; i < line.children.length; i++) {\n        var element = line.children[i];\n        if (element instanceof ListTextElementBox) {\n          continue;\n        }\n        length += element.length;\n      }\n    }\n    return length;\n  };\n  /**\n   * Return the total length by considering splitted paragraph widgets.\n   * @private\n   */\n  ParagraphWidget.prototype.getTotalLength = function () {\n    var offset = 0;\n    var splittedWidget = this.getSplitWidgets();\n    for (var i = 0; i < splittedWidget.length; i++) {\n      offset += splittedWidget[i].getLength();\n    }\n    return offset;\n  };\n  ParagraphWidget.prototype.getTableCellWidget = function (point) {\n    return undefined;\n  };\n  ParagraphWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n    minimumWordWidth = HelperMethods.convertPointToPixel(minimumWordWidth);\n    maximumWordWidth = HelperMethods.convertPointToPixel(maximumWordWidth);\n    if (this.childWidgets.length > 0) {\n      var element = this.childWidgets[0].children[0];\n      var text = '';\n      var elements = new Dictionary();\n      var imageWidths = [];\n      do {\n        if (element instanceof TextElementBox && element.text !== '') {\n          elements.add(element, text.length);\n          text += element.text;\n        } else if (element instanceof FieldElementBox && element.fieldType === 0) {\n          var fieldBegin = element;\n          if (!isNullOrUndefined(fieldBegin.fieldEnd)) {\n            element = isNullOrUndefined(fieldBegin.fieldSeparator) ? fieldBegin.fieldEnd : fieldBegin.fieldSeparator;\n          }\n        } else if (element instanceof ImageElementBox) {\n          imageWidths.push(element.width);\n        }\n        if (isNullOrUndefined(element) || isNullOrUndefined(element.nextNode)) {\n          break;\n        }\n        element = element.nextNode;\n      } while (true);\n      var pattern = new RegExp('\\\\b\\\\w+\\\\b', 'g');\n      var matches = [];\n      var matchInfo = void 0;\n      // eslint-disable  no-cond-assign\n      while (!isNullOrUndefined(matchInfo = pattern.exec(text))) {\n        matches.push(matchInfo);\n      }\n      for (var i = 0; i < matches.length; i++) {\n        var match = matches[i];\n        var width = 0;\n        text = '';\n        var matchedValue = '';\n        var wordStartIndex = 0;\n        var wordEndIndex = match.index;\n        var index = match.index;\n        for (var j = 0; j < elements.keys.length; j++) {\n          var span = elements.keys[j];\n          var startIndex = elements.get(span);\n          var spanLength = span.length;\n          if (index <= startIndex + spanLength) {\n            wordStartIndex = index - startIndex;\n            if (match.index + match[0].length <= startIndex + spanLength) {\n              wordEndIndex = match.index + match[0].length - (startIndex + wordStartIndex);\n            } else {\n              wordEndIndex = spanLength - wordStartIndex;\n              index += wordEndIndex;\n            }\n            text = span.text.substring(wordStartIndex, wordStartIndex + wordEndIndex);\n            matchedValue = matchedValue + text;\n          }\n          if (text !== '') {\n            width += this.bodyWidget.page.documentHelper.textHelper.getWidth(text, span.characterFormat, span.scriptType);\n          }\n          if (matchedValue === match[0]) {\n            break;\n          }\n        }\n        if (width !== 0) {\n          if (minimumWordWidth === 0 || width > minimumWordWidth) {\n            minimumWordWidth = width;\n          }\n        }\n      }\n      // Check the image widths present in the paragraph. Consider the maximum image width as minimum word width.\n      var imageWidth = 0;\n      if (imageWidths.length > 0) {\n        imageWidth = Math.max.apply(null, imageWidths);\n      }\n      if (minimumWordWidth === 0 || imageWidth > minimumWordWidth) {\n        minimumWordWidth = imageWidth;\n      }\n      var maximum = this.measureParagraph();\n      if (maximumWordWidth === 0 || maximum > maximumWordWidth) {\n        maximumWordWidth = maximum;\n      }\n    }\n    var leftIndent = 0;\n    if (!this.isEmpty() && this.floatingElements.length == 0 && !isNullOrUndefined(this.paragraphFormat) && this.paragraphFormat.leftIndent > 0 && !isNullOrUndefined(this.associatedCell) && !isNullOrUndefined(this.associatedCell.cellFormat) && this.associatedCell.cellFormat.preferredWidthType === 'Point') {\n      var paraIndent = this.paragraphFormat.leftIndent + this.paragraphFormat.firstLineIndent;\n      if (paraIndent + minimumWordWidth > this.associatedCell.cellFormat.preferredWidth) {\n        leftIndent = paraIndent;\n      }\n    }\n    return {\n      'maximumWordWidth': HelperMethods.convertPixelToPoint(maximumWordWidth),\n      'minimumWordWidth': HelperMethods.convertPixelToPoint(minimumWordWidth) + leftIndent\n    };\n  };\n  ParagraphWidget.prototype.measureParagraph = function () {\n    var width = 0;\n    var element = this.childWidgets[0].children[0];\n    do {\n      if (element instanceof TextElementBox && element.text !== '') {\n        width += this.bodyWidget.page.documentHelper.textHelper.getWidth(element.text, element.characterFormat, element.scriptType);\n      } else if (element instanceof FieldElementBox && element.fieldType === 0) {\n        var fieldBegin = element;\n        if (fieldBegin.fieldEnd != null) {\n          element = isNullOrUndefined(fieldBegin.fieldSeparator) ? fieldBegin.fieldEnd : fieldBegin.fieldSeparator;\n        }\n      } else if (element instanceof ImageElementBox) {\n        width += element.width;\n      }\n      if (isNullOrUndefined(element) || isNullOrUndefined(element.nextNode)) {\n        break;\n      }\n      element = element.nextNode;\n    } while (true);\n    // Considered the left and right indent.\n    if (this.leftIndent > 0) {\n      width += this.leftIndent;\n    }\n    if (this.rightIndent > 0) {\n      width += this.rightIndent;\n    }\n    return width;\n  };\n  ParagraphWidget.prototype.isArabicChar = function (character) {\n    //Arabic characters https://en.wikipedia.org/wiki/Arabic_script#Unicode\n    return character >= String.fromCharCode(1536) && character <= String.fromCharCode(1791) //Script-Arab, Arabic characters https://en.wikipedia.org/wiki/Arabic_(Unicode_block)\n    || character >= String.fromCharCode(1872) && character <= String.fromCharCode(1919) //Script-Arab, Arabic Supplement characters https://en.wikipedia.org/wiki/Arabic_Supplement\n    || character >= String.fromCharCode(2208) && character <= String.fromCharCode(2303) //Script-Arab, Arabic Extended-A characters https://en.wikipedia.org/wiki/Arabic_Extended-A\n    || character >= String.fromCharCode(64336) && character <= String.fromCharCode(65023) //Script-Arab, Arabic Presentation Forms-A characters https://en.wikipedia.org/wiki/Arabic_Presentation_Forms-A\n    || character >= String.fromCharCode(65136) && character <= String.fromCharCode(65279); //Script-Arab, Arabic Presentation Forms-B characters https://en.wikipedia.org/wiki/Arabic_Presentation_Forms-B                \n  };\n  ParagraphWidget.prototype.isHebrewChar = function (character) {\n    return character >= String.fromCharCode(1424) && character <= String.fromCharCode(1535) //Script-Hebr, Hebrew characters https://en.wikipedia.org/wiki/Hebrew_alphabet#Unicode_and_HTML (https://en.wikipedia.org/wiki/Hebrew_(Unicode_block))\n    || character >= String.fromCharCode(64285) && character <= String.fromCharCode(64335); //Script-Hebr, Hebrew Alphabetic Presentation Forms characters https://en.wikipedia.org/wiki/Alphabetic_Presentation_Forms                                                                    \n  };\n  ParagraphWidget.prototype.isHindiChar = function (character) {\n    //Hindi characters are comes under the Devanagari scripts.\n    //The Unicode Standard defines three blocks for Devanagari. https://en.wikipedia.org/wiki/Devanagari#Unicode              \n    return character >= String.fromCharCode(2304) && character <= String.fromCharCode(2431) //Devanagari (U+0900U+097F), https://en.wikipedia.org/wiki/Devanagari_(Unicode_block)\n    || character >= String.fromCharCode(43232) && character <= String.fromCharCode(43263) //Devanagari Extended (U+A8E0U+A8FF), https://en.wikipedia.org/wiki/Devanagari_Extended\n    || character >= String.fromCharCode(7376) && character <= String.fromCharCode(7423); //Vedic Extensions (U+1CD0U+1CFF), https://en.wikipedia.org/wiki/Vedic_Extensions\n  };\n  ParagraphWidget.prototype.isKoreanChar = function (character) {\n    return (\n      //Korean characters https://en.wikipedia.org/wiki/Korean_language_and_computers#Hangul_in_Unicode\n      character >= String.fromCharCode(44032) && character <= String.fromCharCode(55203) //Hangul Syllables characters https://en.wikipedia.org/wiki/Hangul_Syllables\n      || character >= String.fromCharCode(4352) && character <= String.fromCharCode(4607) //Hangul Jamo characters https://en.wikipedia.org/wiki/Hangul_Jamo_(Unicode_block)\n      || character >= String.fromCharCode(12592) && character <= String.fromCharCode(12687) //Hangul Compatibility Jamo characters https://en.wikipedia.org/wiki/Hangul_Compatibility_Jamo\n      || character >= String.fromCharCode(43360) && character <= String.fromCharCode(43391) //Hangul Jamo Extended-A characters https://en.wikipedia.org/wiki/Hangul_Jamo_Extended-A\n      || character >= String.fromCharCode(55216) && character <= String.fromCharCode(55295) //Hangul Jamo Extended-B characters https://en.wikipedia.org/wiki/Hangul_Jamo_Extended-B\n      || character >= String.fromCharCode(44032) && character <= String.fromCharCode(55215) //Hangul_Syllables characters https://en.wikipedia.org/wiki/Hangul_Syllables\n    );\n  };\n  ParagraphWidget.prototype.isJapanese = function (character) {\n    return (\n      //Japanese and Ainu languages\n      character >= String.fromCharCode(12448) && character <= String.fromCharCode(12543) //Katakana characters https://en.wikipedia.org/wiki/Katakana_(Unicode_block)\n      || character >= String.fromCharCode(12352) && character <= String.fromCharCode(12447) //Hiragana characters https://en.wikipedia.org/wiki/Hiragana_(Unicode_block)\n    );\n  };\n  ParagraphWidget.prototype.isThaiCharacter = function (character) {\n    // Thai characters https://en.wikipedia.org/wiki/Thai_script#Unicode_ranges \n    return character >= String.fromCharCode(3584) && character <= String.fromCharCode(3711);\n  };\n  ParagraphWidget.prototype.isChineseChar = function (character) {\n    //To-Do: Should handle a Chinese characters as two separate scripts such as Chinese Simplified and Chinese Traditional.\n    return (\n      //Chinese characters https://en.wikipedia.org/wiki/Han_unification#Unicode_ranges\n      //Chinese characters are comes under the Han script.\n      character >= String.fromCharCode(19968) && character <= String.fromCharCode(40959) //CJK Unified Ideographs(4E009FFF), https://en.wikipedia.org/wiki/CJK_Unified_Ideographs_(Unicode_block)\n      || character >= String.fromCharCode(13312) && character <= String.fromCharCode(19903) //CJK Unified Ideographs Extension A(34004DBF), https://en.wikipedia.org/wiki/CJK_Unified_Ideographs_Extension_A\n      //|| (character >= '\\u20000' && character <= '\\u2A6DF') //CJK Unified Ideographs Extension B(200002A6DF), https://en.wikipedia.org/wiki/CJK_Unified_Ideographs_Extension_B\n      // As we don't hold a 32 bit character into char data type, and also it get splitted into two char value, when it is 32 bit.\n      // So, below we have added a maximum and least char range of the above 32 bit character.\n      // We can split a 32 bit character into two 16 bit characters by \"Char.ConvertFromUtf32(0x20000).ToCharArray()\" built-in method.\n      || character >= String.fromCharCode(55360) && character <= String.fromCharCode(55401) // Represents a start and end range of first character code, when we split a character between (character >= '\\u20000' && character <= '\\u2A6DF').\n      || character >= String.fromCharCode(56320) && character <= String.fromCharCode(57055) // Represents a start and end range of second character code, when we split a character between (character >= '\\u20000' && character <= '\\u2A6DF').\n      || character >= String.fromCharCode(43360) && character <= String.fromCharCode(43391) //CJK Compatibility Ideographs(F900FAFF), https://en.wikipedia.org/wiki/CJK_Compatibility_Ideographs\n      || character >= String.fromCharCode(65280) && character <= String.fromCharCode(65519) //Halfwidth and Fullwidth Forms, https://en.wikipedia.org/wiki/Halfwidth_and_Fullwidth_Forms_(Unicode_block).\n      || character >= String.fromCharCode(12288) && character <= String.fromCharCode(12351) //CJK Symbols and Punctuation, https://en.wikipedia.org/wiki/CJK_Symbols_and_Punctuation\n    );\n  };\n  ParagraphWidget.prototype.getFontScriptType = function (inputCharacter) {\n    // Return FontScriptType as Hindi, if input character is in-between Hindi character ranges.\n    if (this.isHindiChar(inputCharacter)) return FontScriptType.Hindi;\n    // Return FontScriptType as Korean, if input character is in-between Korean character ranges.\n    else if (this.isKoreanChar(inputCharacter)) return FontScriptType.Korean;\n    // Return FontScriptType as Japanese, if input character is in-between Japanese character ranges.\n    else if (this.isJapanese(inputCharacter)) return FontScriptType.Japanese;\n    // Return FontScriptType as Chinese, if input character is in-between Chinese character ranges.\n    else if (this.isChineseChar(inputCharacter)) return FontScriptType.Chinese;\n    // Return FontScriptType as Arabic, if input character is in-between Arabic character ranges.\n    else if (this.isArabicChar(inputCharacter)) return FontScriptType.Arabic;\n    // Return FontScriptType as Hebrew, if input character is in-between Hebrew character ranges.\n    else if (this.isHebrewChar(inputCharacter)) return FontScriptType.Hebrew;\n    // Return FontScriptType as Thai, if input character is in-between Thai character ranges.\n    else if (this.isThaiCharacter(inputCharacter)) return FontScriptType.Thai;\n    // Return FontScriptType as English, for remaining character ranges.\n    else return FontScriptType.English;\n  };\n  ParagraphWidget.prototype.splitTextByFontScriptType = function (inputText, fontScriptTypes) {\n    var splittedText = [];\n    //Retrun the empty array, if input text is Null or Empty.\n    if (isNullOrUndefined(inputText) || !isNullOrUndefined(inputText) && inputText === '') {\n      return splittedText;\n    }\n    var text = '';\n    var prevCharacterType = FontScriptType.English;\n    var currCharacterType = FontScriptType.English;\n    // Regex for finding a string is unicode or not.\n    var surrogateRegex = /[\\uD800-\\uDFFF]/;\n    for (var i = 0; i < inputText.length; i++) {\n      // Gets a FontScriptType for the current character.\n      // As per the Microsoft application behavior, we need to consider a space (\\u0020) as previous character type.\n      // So, that we can avoid a text splitting based on space character.\n      if (inputText[i] != String.fromCharCode(32) && !surrogateRegex.test(inputText[i])) {\n        // && !(char.IsHighSurrogate(inputText.charAt(i)) || char.IsLowSurrogate(inputText.charAt(i)))) { //Skip the setting of script type for surrogate character.\n        currCharacterType = this.getFontScriptType(inputText[i]);\n      }\n      //Add a current text into splitted text collection, when previous character type is not equival to current type.\n      if (text != '' && currCharacterType !== prevCharacterType) {\n        //Add splitted text and it's FontScriptType into the collection.\n        splittedText.push(text);\n        fontScriptTypes.push(prevCharacterType);\n        //Reset the text value.\n        text = '';\n      }\n      //Add a current character.\n      text += inputText[i];\n      //Assign a current character type as previous type.\n      prevCharacterType = currCharacterType;\n    }\n    //Add a final text.\n    if (text != '') {\n      //Add splitted text and it's FontScriptType into the collection.\n      splittedText.push(text);\n      fontScriptTypes.push(currCharacterType);\n      //Reset the text value.\n      text = '';\n    }\n    return splittedText;\n  };\n  ParagraphWidget.prototype.splitTextRangeByScriptType = function (lineIndex) {\n    var isField = false;\n    var iIncrementer = 1;\n    // Iterates the items for textrange in the paragraph.\n    if (this.childWidgets.length > 0) {\n      var lineWidget = this.childWidgets[lineIndex];\n      for (var i = lineIndex + 1; i < this.childWidgets.length; i++) {\n        var nextLineWidget = this.childWidgets[i];\n        for (var m = 0; m < nextLineWidget.children.length; m++) {\n          var element = nextLineWidget.children[m];\n          lineWidget.children.push(element);\n          element.line = lineWidget;\n        }\n        this.childWidgets.splice(i, 1);\n        i--;\n      }\n      for (var i = 0; i < lineWidget.children.length; i += iIncrementer) {\n        var elementBox = lineWidget.children[i];\n        iIncrementer = 1;\n        // InlineContentControl inlineContentControl = paraItems[i] as InlineContentControl;\n        // if (inlineContentControl != null)\n        //     this.splitTextRangeByScriptType(inlineContentControl.ParagraphItems, splitter);\n        ////Gets the span to split.\n        var textElement = undefined;\n        if (elementBox instanceof TextElementBox) {\n          textElement = elementBox;\n        }\n        if (elementBox instanceof FieldElementBox && elementBox.fieldType == 0) {\n          isField = true;\n        } else if (elementBox instanceof FieldElementBox && elementBox.fieldType === 2) {\n          isField = false;\n        }\n        if (textElement != undefined && !isField) {\n          // let hasHintPath: boolean = textElement.characterFormat.IdctHint != FontHintType.Default;\n          var fontScriptTypes = [];\n          // Split a current text part text based on FontScriptType.\n          var splitedTextCollection = this.splitTextByFontScriptType(textElement.text, fontScriptTypes);\n          if (splitedTextCollection.length > 1) {\n            for (var j = 0; j < splitedTextCollection.length; j++) {\n              var text = splitedTextCollection[j];\n              if (j > 0) {\n                //Split text range.\n                //Clone the source text range.\n                var clonedtextElement = textElement.clone();\n                clonedtextElement.text = text;\n                //Sets a script type of WTextRange.\n                clonedtextElement.scriptType = fontScriptTypes[j];\n                //Insert the splitted text ranges in order.\n                lineWidget.children.splice(i + j, 0, clonedtextElement);\n                clonedtextElement.line = lineWidget;\n                iIncrementer++;\n                if (textElement.revisions.length > 0) {\n                  this.updateTextElementInRevisionRange(textElement, clonedtextElement);\n                }\n              } else {\n                //Replace the source text range with splitted text.\n                textElement.text = text;\n                //Sets a script type of WTextRange.\n                textElement.scriptType = fontScriptTypes[j];\n              }\n            }\n          } else if (splitedTextCollection.length > 0) {\n            //Sets a script type of WTextRange.\n            textElement.scriptType = fontScriptTypes[0];\n          }\n          // Clear the FontScriptType collection.\n          fontScriptTypes.length = 0;\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  ParagraphWidget.prototype.splitLtrAndRtlText = function (lineIndex) {\n    var isPrevLTRText = {\n      value: null\n    };\n    var iIncrementer = 1;\n    var hasRTLCharacter = {\n      value: null\n    };\n    var characterRangeTypes = [];\n    var isField = false;\n    var documentHelper = this.bodyWidget.page.documentHelper;\n    var textHelper = documentHelper.textHelper;\n    if (this.childWidgets.length > 0) {\n      var lineWidget = this.childWidgets[lineIndex];\n      for (var i = 0; i < lineWidget.children.length; i += iIncrementer) {\n        var elementBox = lineWidget.children[i];\n        iIncrementer = 1;\n        ////Gets the span to split.\n        var textElement = undefined;\n        if (elementBox instanceof TextElementBox) {\n          textElement = elementBox;\n        }\n        if (elementBox instanceof FieldElementBox && elementBox.fieldType == 0) {\n          isField = true;\n        } else if (elementBox instanceof FieldElementBox && elementBox.fieldType === 2) {\n          isField = false;\n        }\n        if (textElement != undefined && !isField) {\n          var text = textElement.text;\n          var isTextBidi = textElement.characterFormat.bidi;\n          var isRTLLang = false;\n          var charTypeIndex = characterRangeTypes.length;\n          if (isTextBidi) {\n            isRTLLang = textHelper.isRightToLeftLanguage(elementBox.characterFormat.localeIdBidi);\n          }\n          ////Split the text as consicutive LTR and RTL\n          var splitedTextCollection = textHelper.splitTextByConsecutiveLtrAndRtl(text, isTextBidi, isRTLLang, characterRangeTypes, isPrevLTRText, hasRTLCharacter);\n          if (splitedTextCollection.length > 1) {\n            for (var j = 0; j < splitedTextCollection.length; j++) {\n              text = splitedTextCollection[j];\n              if (j > 0) {\n                ////Clone the source span.\n                var clonedTextElement = textElement.clone();\n                clonedTextElement.text = text;\n                clonedTextElement.characterRange = characterRangeTypes[j + charTypeIndex];\n                ////Inert the splitted span in order.\n                lineWidget.children.splice(i + j, 0, clonedTextElement);\n                clonedTextElement.line = lineWidget;\n                iIncrementer++;\n                if (textElement.revisions.length > 0) {\n                  this.updateTextElementInRevisionRange(textElement, clonedTextElement);\n                }\n              } else {\n                ////Replace the source span with splitted text.\n                textElement.text = text;\n                textElement.characterRange = characterRangeTypes[charTypeIndex];\n              }\n            }\n          } else if (splitedTextCollection.length > 0) {\n            textElement.characterRange = characterRangeTypes[charTypeIndex];\n          }\n        }\n      }\n      characterRangeTypes.length = 0;\n    }\n  };\n  ParagraphWidget.prototype.updateTextElementInRevisionRange = function (inline, splittedElementBox) {\n    for (var i = 0; i < inline.revisions.length; i++) {\n      var revision = inline.revisions[i];\n      var inlineIndex = revision.range.indexOf(inline);\n      revision.range.splice(inlineIndex + 1, 0, splittedElementBox);\n      splittedElementBox.revisions.push(revision);\n      splittedElementBox.removedIds = [];\n    }\n  };\n  /**\n   * Combine the spans by consecutive LTR and RTL texts.\n   * @private\n   */\n  ParagraphWidget.prototype.combineconsecutiveRTL = function (lineIndex) {\n    var isField = false;\n    var documentHelper = this.bodyWidget.page.documentHelper;\n    var textHelper = documentHelper.textHelper;\n    for (var j = lineIndex; j < this.childWidgets.length; j++) {\n      var lineWidget = this.childWidgets[j];\n      for (var i = 0; i <= lineWidget.children.length - 2; i++) {\n        var elementBox = lineWidget.children[i];\n        if (elementBox instanceof FieldElementBox && elementBox.fieldType === 0) {\n          isField = true;\n        } else if (elementBox instanceof FieldElementBox && elementBox.fieldType === 2) {\n          isField = false;\n        }\n        if (!isField && elementBox instanceof TextElementBox && lineWidget.children[i + 1] instanceof TextElementBox) {\n          var currentTxtRange = elementBox;\n          var nextTxtRange = lineWidget.children[i + 1];\n          // Bug 866413: Here skipped the Hewbrew script type rtl text combining, because facing element left margin issue.\n          if ((currentTxtRange.characterFormat.complexScript && currentTxtRange.scriptType == nextTxtRange.scriptType || currentTxtRange.characterFormat.bidi && currentTxtRange.scriptType !== FontScriptType.Hebrew && currentTxtRange.characterRange == CharacterRangeType.RightToLeft && nextTxtRange.characterRange == CharacterRangeType.RightToLeft) && currentTxtRange.text.length > 0 && nextTxtRange.text.length > 0 && !textHelper.isWordSplitChar(currentTxtRange.text[currentTxtRange.text.length - 1]) && !textHelper.isWordSplitChar(nextTxtRange.text[0]) && currentTxtRange.characterFormat.isEqualFormat(nextTxtRange.characterFormat) && this.compareRevisions(currentTxtRange.revisions, nextTxtRange.revisions)) {\n            currentTxtRange.text = currentTxtRange.text + nextTxtRange.text;\n            lineWidget.children.splice(i + 1, 1);\n            i--;\n          } else if (currentTxtRange.characterRange == CharacterRangeType.RightToLeft && nextTxtRange.characterRange == CharacterRangeType.RightToLeft && currentTxtRange.text.length > 0 && nextTxtRange.text.length > 0 && textHelper.isWordSplitChar(currentTxtRange.text[currentTxtRange.text.length - 1]) && textHelper.isWordSplitChar(nextTxtRange.text[0]) && currentTxtRange.characterFormat.isEqualFormat(nextTxtRange.characterFormat) && this.compareRevisions(currentTxtRange.revisions, nextTxtRange.revisions)) {\n            currentTxtRange.text = currentTxtRange.text + nextTxtRange.text;\n            lineWidget.children.splice(i + 1, 1);\n            i--;\n          }\n        }\n      }\n    }\n  };\n  ParagraphWidget.prototype.compareRevisions = function (revisionA, revisionB) {\n    if (revisionA.length !== revisionB.length) {\n      return false;\n    }\n    for (var i = 0; i < revisionA.length; i++) {\n      if (revisionA[i] !== revisionB[i]) {\n        return false;\n      }\n    }\n    return true;\n  };\n  ParagraphWidget.prototype.clone = function () {\n    var paragraph = new ParagraphWidget();\n    paragraph.paragraphFormat.copyFormat(this.paragraphFormat);\n    paragraph.characterFormat.copyFormat(this.characterFormat);\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var line = this.childWidgets[i];\n      var cloneLine = line.clone();\n      paragraph.childWidgets.push(cloneLine);\n      for (var j = 0; j < cloneLine.children.length; j++) {\n        var element = cloneLine.children[j];\n        if (element instanceof ImageElementBox && element.textWrappingStyle !== 'Inline' || element instanceof ShapeElementBox) {\n          paragraph.floatingElements.push(element);\n        }\n      }\n      cloneLine.paragraph = paragraph;\n    }\n    paragraph.x = this.x;\n    paragraph.y = this.y;\n    paragraph.height = this.height;\n    paragraph.width = this.width;\n    paragraph['absoluteXPosition'] = isNullOrUndefined(this['absoluteXPosition']) ? undefined : {\n      'width': this['absoluteXPosition']['width'],\n      'x': this['absoluteXPosition']['x']\n    };\n    if (this.contentControlProperties) {\n      paragraph.contentControlProperties = this.contentControlProperties;\n    }\n    return paragraph;\n  };\n  ParagraphWidget.prototype.destroyInternal = function (viewer) {\n    var height = this.height;\n    if (!isNullOrUndefined(this.childWidgets)) {\n      for (var i = 0; i < this.childWidgets.length; i++) {\n        var widget = this.childWidgets[i];\n        widget.destroy();\n        if (this.childWidgets.length === 1 && isNullOrUndefined(this.childWidgets[0].children)) {\n          this.childWidgets = undefined;\n        }\n        if (isNullOrUndefined(this.childWidgets)) {\n          break;\n        }\n        i--;\n      }\n      this.childWidgets = undefined;\n    }\n    if (!isNullOrUndefined(this.containerWidget) && !isNullOrUndefined(this.containerWidget.childWidgets) && this.containerWidget.childWidgets.indexOf(this) !== -1) {\n      this.containerWidget.childWidgets.splice(this.containerWidget.childWidgets.indexOf(this), 1);\n      this.containerWidget.height -= height;\n      // if ((isNullOrUndefined(this.containerWidget.childWidgets) || this.containerWidget.childWidgets.length === 0)\n      //     && this.containerWidget instanceof BodyWidget) {\n      //     // (this.containerWidget as BodyWidget).destroyInternal(viewer);\n      // }\n      this.containerWidget = undefined;\n    }\n    if (this.hasOwnProperty('absoluteXPosition')) {\n      delete this['absoluteXPosition'];\n    }\n    this.destroy();\n  };\n  ParagraphWidget.prototype.destroy = function () {\n    // if (this.paragraphFormat) {\n    //     this.paragraphFormat.destroy();\n    // }\n    this.paragraphFormat = undefined;\n    // if (this.characterFormat) {\n    //     this.characterFormat.destroy();\n    // }\n    this.characterFormat = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  ParagraphWidget.prototype.componentDestroy = function () {\n    if (this.paragraphFormat) {\n      this.paragraphFormat.destroy();\n    }\n    this.paragraphFormat = undefined;\n    if (this.characterFormat) {\n      this.characterFormat.destroy();\n    }\n    this.characterFormat = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return ParagraphWidget;\n}(BlockWidget);\nexport { ParagraphWidget };\n/**\n * @private\n */\nvar TablePosition = /** @class */function () {\n  function TablePosition() {}\n  /**\n   * @private\n   */\n  TablePosition.prototype.clone = function () {\n    var positioning = new TablePosition();\n    positioning.allowOverlap = this.allowOverlap;\n    positioning.distanceTop = this.distanceTop;\n    positioning.distanceRight = this.distanceRight;\n    positioning.distanceLeft = this.distanceLeft;\n    positioning.distanceBottom = this.distanceBottom;\n    positioning.verticalAlignment = this.verticalAlignment;\n    positioning.verticalOrigin = this.verticalOrigin;\n    positioning.verticalPosition = this.verticalPosition;\n    positioning.horizontalAlignment = this.horizontalAlignment;\n    positioning.horizontalOrigin = this.horizontalOrigin;\n    positioning.horizontalPosition = this.horizontalPosition;\n    return positioning;\n  };\n  return TablePosition;\n}();\nexport { TablePosition };\n/**\n * @private\n */\nvar TableWidget = /** @class */function (_super) {\n  __extends(TableWidget, _super);\n  function TableWidget() {\n    var _this = _super.call(this) || this;\n    _this.flags = 0;\n    /**\n     * @private\n     */\n    _this.leftMargin = 0;\n    /**\n     * @private\n     */\n    _this.topMargin = 0;\n    /**\n     * @private\n     */\n    _this.rightMargin = 0;\n    /**\n     * @private\n     */\n    _this.bottomMargin = 0;\n    /**\n     * @private\n     */\n    _this.isDefaultFormatUpdated = false;\n    /**\n     * @private\n     */\n    _this.isContainInsideTable = false;\n    /**\n     * @private\n     */\n    _this.footnoteElement = [];\n    _this.margin = new Margin(_this.leftMargin, _this.topMargin, _this.rightMargin, _this.bottomMargin);\n    _this.leftBorderWidth = 0;\n    _this.rightBorderWidth = 0;\n    _this.topBorderWidth = 0;\n    _this.bottomBorderWidth = 0;\n    _this.tableFormat = new WTableFormat(_this);\n    _this.tableHolder = new WTableHolder();\n    _this.spannedRowCollection = new Dictionary();\n    return _this;\n  }\n  Object.defineProperty(TableWidget.prototype, \"isGridUpdated\", {\n    // /**\n    //  * @private\n    //  */\n    // get length(): number {\n    //     if (!isNullOrUndefined(this.nextSplitWidget)) {\n    //         return 1;\n    //     } else {\n    //         if (isNullOrUndefined(this.previousSplitWidget)) {\n    //             return 1;\n    //         }\n    //         return 0;\n    //     }\n    // }\n    /**\n     * @private\n     */\n    get: function () {\n      return (this.flags & 0x4) >> 2 !== 0;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.flags = this.flags & 0xFB | (value ? 1 : 0) << 2;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableWidget.prototype, \"continueHeader\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return (this.flags & 0x2) >> 1 !== 0;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.flags = this.flags & 0xFD | (value ? 1 : 0) << 1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableWidget.prototype, \"header\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return (this.flags & 0x1) !== 0;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.flags = this.flags & 0xFE | (value ? 1 : 0);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableWidget.prototype, \"isBidiTable\", {\n    get: function () {\n      return (this.flags & 0x10) >> 4 !== 0;\n    },\n    set: function (value) {\n      this.flags = this.flags & 0xEF | (value ? 1 : 0) << 4;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  TableWidget.prototype.equals = function (widget) {\n    return widget instanceof TableWidget && widget.tableFormat === this.tableFormat;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.combineRows = function (viewer) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      if (row.childWidgets.length === 0) {\n        row.destroy();\n        i--;\n      } else {\n        row.combineCells(viewer);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.contains = function (tableCell) {\n    if (this.equals(tableCell.ownerTable)) {\n      return true;\n    }\n    while (tableCell.ownerTable.isInsideTable) {\n      if (this.equals(tableCell.ownerTable)) {\n        return true;\n      }\n      tableCell = tableCell.ownerTable.associatedCell;\n    }\n    return this.equals(tableCell.ownerTable);\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getOwnerWidth = function (isBasedOnViewer) {\n    var width = this.getContainerWidth();\n    // Left and right indents should be neglected.\n    width = width - this.leftIndent - this.rightIndent;\n    return width >= 0 ? width : 0;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getTableWidth = function () {\n    var width = 0;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var rowWidth = 0;\n      var row = this.childWidgets[i];\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        rowWidth += row.childWidgets[j].cellFormat.cellWidth;\n      }\n      if (width < rowWidth) {\n        width = rowWidth;\n      }\n    }\n    return width;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getTableCellWidth = function () {\n    var width = 0;\n    for (var k = 0; k < this.childWidgets.length; k++) {\n      var rowWidth = 0;\n      var rowWidget = this.childWidgets[k];\n      for (var m = 0; m < rowWidget.childWidgets.length; m++) {\n        var cellWidget = rowWidget.childWidgets[m];\n        var cellWidth = cellWidget.width;\n        if (cellWidth === 0) {\n          cellWidth = cellWidget.cellFormat.cellWidth;\n          if (cellWidth > cellWidget.cellFormat.preferredWidth && cellWidget.cellFormat.preferredWidth !== 0 && cellWidget.cellFormat.preferredWidthType !== 'Percent') {\n            cellWidth = cellWidget.cellFormat.preferredWidth;\n          }\n          cellWidth = HelperMethods.convertPointToPixel(cellWidth - (cellWidget.margin.left + cellWidget.margin.right));\n        }\n        rowWidth += cellWidth + cellWidget.margin.left + cellWidget.margin.right;\n      }\n      if (width < rowWidth) {\n        width = rowWidth;\n      }\n    }\n    return width;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getTableClientWidth = function (clientWidth) {\n    var tableWidth = clientWidth;\n    if (this.tableFormat.preferredWidthType === 'Point' && this.tableFormat.preferredWidth > 0) {\n      tableWidth = this.tableFormat.preferredWidth;\n    } else {\n      if (this.tableFormat.preferredWidthType === 'Percent' && this.tableFormat.preferredWidth > 0) {\n        tableWidth = tableWidth * this.tableFormat.preferredWidth / 100;\n      }\n    }\n    return tableWidth;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getCellWidth = function (preferredWidth, preferredWidthType, containerWidth, cell) {\n    var cellWidth = preferredWidth;\n    if (preferredWidthType === 'Percent') {\n      cellWidth = preferredWidth * containerWidth / 100;\n    } else if (preferredWidthType === 'Point') {\n      cellWidth = preferredWidth;\n    }\n    // For grid before and grid after with auto width, no need to calculate minimum preferred width.\n    else if (!isNullOrUndefined(cell)) {\n      cellWidth = this.getMinimumPreferredWidth(cell);\n    }\n    return cellWidth;\n  };\n  TableWidget.prototype.getMinimumPreferredWidth = function (cell) {\n    var defaultWidth = 0;\n    ////For fixed table, cell width (grid column width) should be considered as default width, When the preferred cell width is zero.\n    if (cell.cellFormat.preferredWidth === 0 && cell.cellFormat.cellWidth !== 0) {\n      defaultWidth = cell.cellFormat.cellWidth;\n    } else {\n      defaultWidth = cell.getMinimumPreferredWidth();\n    }\n    return defaultWidth;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.fitCellsToClientArea = function (clientWidth) {\n    var tableWidth = this.getTableWidth();\n    var factor = clientWidth / tableWidth;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      row.rowFormat.gridAfterWidth *= factor;\n      row.rowFormat.gridBeforeWidth *= factor;\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        row.childWidgets[j].cellFormat.cellWidth *= factor;\n        row.childWidgets[j].cellFormat.preferredWidth *= factor;\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getTableCellWidget = function (point) {\n    var tableCellWidget = undefined;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      if (this.childWidgets[i].y <= point.y && this.childWidgets[i].y + this.childWidgets[i].height >= point.y) {\n        tableCellWidget = this.childWidgets[i].getTableCellWidget(point);\n        break;\n      }\n    }\n    return tableCellWidget;\n  };\n  /**\n   * @private\n   */\n  /* eslint-disable  */\n  TableWidget.prototype.calculateGrid = function (isInsertRow) {\n    var tempGrid = [];\n    var tempSpanDecimal = [];\n    var spannedCells = [];\n    var containerWidth = this.getOwnerWidth(true);\n    var tableWidth = this.getTableClientWidth(containerWidth);\n    this.tableCellInfo = new Dictionary();\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      var rowCellInfo = new Dictionary();\n      var rowFormat = row.rowFormat;\n      var cellWidth = 0;\n      var columnSpan = row.rowFormat.gridBefore;\n      var currOffset = 0;\n      if (tempGrid.indexOf(currOffset) < 0) {\n        tempGrid.push(currOffset);\n        tempSpanDecimal.push(currOffset);\n      }\n      //Converts the row grid before width from point to twips point by 15 factor.\n      cellWidth = this.getCellWidth(rowFormat.gridBeforeWidth, rowFormat.gridBeforeWidthType, tableWidth, null);\n      currOffset += cellWidth;\n      var startOffset = parseFloat(currOffset.toFixed(2));\n      if (tempGrid.indexOf(startOffset) < 0) {\n        tempGrid.push(startOffset);\n        tempSpanDecimal.push(currOffset);\n      }\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        var cell = row.childWidgets[j];\n        for (var k = 0; k < spannedCells.length; k++) {\n          if (spannedCells[k].columnIndex < columnSpan) {\n            continue;\n          }\n          var rowSpan = spannedCells[k].cellFormat.rowSpan;\n          var removeSpannedCell = true;\n          if (spannedCells[k].columnIndex > columnSpan) {\n            {\n              removeSpannedCell = false;\n              // If the cell is the last cell in the row and the row has grid after value..\n              if (j === row.childWidgets.length - 1 && row.rowFormat.gridAfter > 0) {\n                cellWidth = this.getCellWidth(spannedCells[k].cellFormat.preferredWidth, spannedCells[k].cellFormat.preferredWidthType, tableWidth, null);\n                currOffset += cellWidth;\n              }\n            }\n          } else {\n            // If the table gird alone calculted then column index of the rowspanned cell will be directly taken. \n            // If the gird calculation is done from the UI level opearations such as resizing then table holder \n            // will have the columns at that time we can get the column index from the table holder.\n            //Converts the cell width from point to twips point by 15 factor.\n            cellWidth = this.getCellWidth(spannedCells[k].cellFormat.preferredWidth, spannedCells[k].cellFormat.preferredWidthType, tableWidth, null);\n            currOffset += cellWidth;\n            columnSpan = spannedCells[k].columnIndex + spannedCells[k].cellFormat.columnSpan;\n          }\n          if (!removeSpannedCell && j === row.childWidgets.length - 1) {\n            removeSpannedCell = true;\n          }\n          if (removeSpannedCell && i - spannedCells[k].ownerRow.rowIndex === rowSpan - 1) {\n            spannedCells.splice(k, 1);\n            k--;\n          }\n        }\n        // At the start of each row, we will process the row spanned cells to get the start column index.\n        // To calculate grid properly, we need the items in the spanned cells collection in the order of their column index\n        if (cell.cellFormat.rowSpan > 1) {\n          if (spannedCells.length === 0 || spannedCells[spannedCells.length - 1].columnIndex <= columnSpan) {\n            spannedCells.push(cell);\n          } else {\n            for (var m = spannedCells.length; m > 0; m--) {\n              if (spannedCells[m - 1].columnIndex > columnSpan) {\n                spannedCells.splice(m - 1, 0, cell);\n              }\n            }\n          }\n        }\n        // Add start offset of each cell based on its index\n        if (!rowCellInfo.containsKey(cell.cellIndex)) {\n          rowCellInfo.add(cell.cellIndex, parseFloat((currOffset - startOffset).toFixed(2)));\n        }\n        columnSpan += cell.cellFormat.columnSpan;\n        //Converts the cell width from pixel to twips point by 15 factor.\n        cellWidth = this.getCellWidth(cell.cellFormat.preferredWidth, cell.cellFormat.preferredWidthType, tableWidth, null);\n        currOffset += cellWidth;\n        var offset = parseFloat(currOffset.toFixed(2));\n        if (tempGrid.indexOf(offset) < 0) {\n          tempGrid.push(offset);\n          tempSpanDecimal.push(currOffset);\n        }\n        if (j === row.childWidgets.length - 1 && rowFormat.gridAfter > 0) {\n          cellWidth = this.getCellWidth(rowFormat.gridAfterWidth, 'Point', tableWidth, null);\n          currOffset += cellWidth;\n          if (tempGrid.indexOf(parseFloat(currOffset.toFixed(2))) < 0) {\n            tempGrid.push(parseFloat(currOffset.toFixed(2)));\n            tempSpanDecimal.push(currOffset);\n          }\n          columnSpan += rowFormat.gridAfter;\n        }\n        // Add rowindex and its cells info for each row\n        if (!this.tableCellInfo.containsKey(row.rowIndex)) {\n          this.tableCellInfo.add(row.rowIndex, rowCellInfo);\n        }\n      }\n    }\n    tempGrid.sort(function (a, b) {\n      return a - b;\n    });\n    tempSpanDecimal.sort(function (a, b) {\n      return a - b;\n    });\n    if (this.tableHolder.columns.length > 0 && (tempGrid.length - 1 !== this.tableHolder.columns.length || isInsertRow)) {\n      this.updateColumnSpans(tempGrid, tableWidth, tempSpanDecimal);\n    }\n    this.tableCellInfo.clear();\n    this.tableCellInfo = undefined;\n  };\n  TableWidget.prototype.updateColumnSpans = function (tempGrid, containerWidth, tempSpan) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      if (row.rowFormat.gridBeforeWidth >= 0) {\n        row.rowFormat.gridBefore = row.getGridCount(tempGrid, undefined, -1, containerWidth, tempSpan);\n      }\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        var cell = row.childWidgets[j];\n        var columnSpan = row.getGridCount(tempGrid, cell, cell.getIndex(), containerWidth, tempSpan);\n        if (columnSpan > 0 && cell.cellFormat.columnSpan !== columnSpan) {\n          cell.cellFormat.columnSpan = columnSpan;\n        }\n      }\n      if (row.rowFormat.gridAfterWidth >= 0) {\n        row.rowFormat.gridAfter = row.getGridCount(tempGrid, undefined, row.childWidgets.length, containerWidth, tempSpan);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n    this.checkTableColumns();\n    var isAllColumnHasPointWidth = this.tableHolder.isAllColumnHasPointWidthType();\n    var tableWidth = isAllColumnHasPointWidth ? this.tableHolder.getTotalWidth(0) : this.tableHolder.getTotalWidth(1);\n    if (tableWidth > minimumWordWidth) {\n      minimumWordWidth = tableWidth;\n    }\n    if (!isAllColumnHasPointWidth) {\n      tableWidth = this.tableHolder.getTotalWidth(2);\n    }\n    if (tableWidth > maximumWordWidth) {\n      maximumWordWidth = tableWidth;\n    }\n    return {\n      'minimumWordWidth': minimumWordWidth,\n      'maximumWordWidth': maximumWordWidth\n    };\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.checkTableColumns = function () {\n    if (this.isGridUpdated) {\n      return;\n    }\n    var isAutoFit = this.isAutoFit();\n    if (isAutoFit || this.tableHolder.columns.length === 0) {\n      this.buildTableColumns();\n    }\n    this.isGridUpdated = false;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.isAutoFit = function () {\n    var bodyWidget = this.bodyWidget;\n    if (!isNullOrUndefined(bodyWidget) && !isNullOrUndefined(bodyWidget.page)) {\n      return bodyWidget.page.documentHelper.layout.getParentTable(this).tableFormat.allowAutoFit;\n    }\n    return false;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.buildTableColumns = function () {\n    if (this.isGridUpdated) {\n      return;\n    }\n    // Clear existing columns in order to start creating columns freshly.\n    this.tableHolder.resetColumns();\n    var containerWidth = 0;\n    var tableWidth = 0;\n    var rowSpannedCells = [];\n    var isAutoWidth = this.tableFormat.preferredWidthType === 'Auto';\n    var isAutoFit = this.tableFormat.allowAutoFit;\n    // For continuous layout, window width should be considered. \n    // If preferred width exceeds this limit, it can take upto maximum of 2112 pixels (1584 points will be assigned by Microsoft Word).\n    if (!isNullOrUndefined(this.bodyWidget.page) && this.bodyWidget.page.viewer instanceof WebLayoutViewer && isAutoFit && !this.isInsideTable && !(this.containerWidget instanceof TextFrame)) {\n      containerWidth = HelperMethods.convertPixelToPoint(this.bodyWidget.page.viewer.clientArea.width - this.bodyWidget.page.viewer.padding.right * 3);\n    } else {\n      containerWidth = this.getOwnerWidth(true);\n    }\n    containerWidth = this.tableFormat.preferredWidth > containerWidth ? this.tableFormat.preferredWidth : containerWidth;\n    var isZeroWidth = isAutoWidth && this.tableFormat.preferredWidth === 0 && !isAutoFit;\n    tableWidth = this.getTableClientWidth(containerWidth);\n    var pageContainerWidth = this.getContainerWidth();\n    if (isZeroWidth && !this.isDefaultFormatUpdated && isAutoFit) {\n      this.splitWidthToTableCells(tableWidth, isZeroWidth);\n    }\n    var hasSpannedCells = false;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      var rowFormat = row.rowFormat;\n      var columnSpan = 0;\n      var cellWidth = 0;\n      var sizeInfo = new ColumnSizeInfo();\n      var offset = 0;\n      if (rowFormat.gridBefore > 0 && (row.rowFormat.beforeWidth !== 0 || row.rowFormat.gridBeforeWidth !== 0) && (this.bodyWidget.page.documentHelper.alignTablesRowByRow ? row.ownerTable.tableFormat.tableAlignment === 'Left' || this.bodyWidget.page.documentHelper.compatibilityMode === 'Word2003' && row.ownerTable.firstChild.rowFormat.gridAfter > 0 : true)) {\n        cellWidth = this.getCellWidth(rowFormat.gridBeforeWidth, row.rowFormat.gridAfterWidthType, tableWidth, null);\n        sizeInfo.minimumWidth = cellWidth;\n        this.tableHolder.addColumns(columnSpan, columnSpan = rowFormat.gridBefore, cellWidth, sizeInfo, offset = cellWidth, 'Point');\n      }\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        var cell = row.childWidgets[j];\n        if (cell.cellFormat.rowSpan > 1 || cell.cellFormat.columnSpan > 1) {\n          hasSpannedCells = true;\n        }\n        if (rowSpannedCells.length === 0) {\n          cell.columnIndex = columnSpan;\n        }\n        for (var k = 0; k < rowSpannedCells.length; k++) {\n          var rowSpannedCell = rowSpannedCells[k];\n          if (rowSpannedCell.columnIndex < columnSpan) {\n            cell.columnIndex = columnSpan;\n            continue;\n          }\n          var rowSpan = 1;\n          var removeSpannedCell = true;\n          rowSpan = rowSpannedCell.cellFormat.rowSpan;\n          if (rowSpannedCell.columnIndex > columnSpan) {\n            cell.columnIndex = columnSpan;\n            removeSpannedCell = false;\n          } else {\n            sizeInfo = rowSpannedCell.getCellSizeInfo(isAutoFit);\n            cellWidth = this.getCellWidth(rowSpannedCell.cellFormat.preferredWidth, rowSpannedCell.cellFormat.preferredWidthType, tableWidth, rowSpannedCell);\n            // If the table gird alone calculated then column index of the rowspanned cell will be directly taken. \n            // If the gird calculation is done from the UI level operations such as resizing then table holder will have the columns at that time we can get the column index from the table holder.\n            if (this.tableHolder.columns.length > 0) {\n              this.tableHolder.addColumns(columnSpan, columnSpan = this.tableHolder.columns.indexOf(rowSpannedCell.ownerColumn) + rowSpannedCell.cellFormat.columnSpan, cellWidth, sizeInfo, offset += cellWidth, cell.cellFormat.preferredWidthType);\n              cell.columnIndex = columnSpan;\n            } else {\n              this.tableHolder.addColumns(columnSpan, columnSpan = rowSpannedCell.columnIndex + rowSpannedCell.cellFormat.columnSpan, cellWidth, sizeInfo, offset += cellWidth, cell.cellFormat.preferredWidthType);\n              cell.columnIndex = columnSpan;\n            }\n          }\n          if (!removeSpannedCell && j === row.childWidgets.length - 1) {\n            removeSpannedCell = true;\n          }\n          if (removeSpannedCell && i - rowSpannedCell.ownerRow.rowIndex === rowSpan - 1) {\n            rowSpannedCells.splice(k, 1);\n            k--;\n          }\n        }\n        // At the start of each row, we will process the row spanned cells to get the start column index.\n        // To calculate grid properly, we need the items in the spanned cells collection in the order of their column index\n        if (cell.cellFormat.rowSpan > 1) {\n          if (rowSpannedCells.length === 0 || rowSpannedCells[rowSpannedCells.length - 1].columnIndex <= columnSpan) {\n            rowSpannedCells.push(cell);\n          } else {\n            var insertIndex = 0;\n            for (var m = rowSpannedCells.length; m > 0; m--) {\n              if (rowSpannedCells[m - 1].columnIndex > columnSpan) {\n                insertIndex = m - 1;\n              }\n            }\n            rowSpannedCells.splice(insertIndex, 0, cell);\n          }\n        }\n        sizeInfo = cell.getCellSizeInfo(isAutoFit);\n        cellWidth = this.getCellWidth(cell.cellFormat.preferredWidth, cell.cellFormat.preferredWidthType, tableWidth, cell);\n        this.tableHolder.addColumns(columnSpan, columnSpan += cell.cellFormat.columnSpan, cellWidth, sizeInfo, offset += cellWidth, cell.cellFormat.preferredWidthType);\n        if (j === row.childWidgets.length - 1 && rowFormat.gridAfterWidth > 0) {\n          cellWidth = this.getCellWidth(rowFormat.gridAfterWidth, 'Point', tableWidth, null);\n          sizeInfo.minimumWordWidth = sizeInfo.maximumWordWidth = sizeInfo.minimumWidth = cellWidth;\n          this.tableHolder.addColumns(columnSpan, columnSpan += rowFormat.gridAfter, cellWidth, sizeInfo, offset += cellWidth, 'Point');\n        }\n      }\n    }\n    if (isZeroWidth && !this.isDefaultFormatUpdated) {\n      this.isDefaultFormatUpdated = true;\n    }\n    this.tableHolder.validateColumnWidths();\n    if (isAutoFit) {\n      // Fits the column width automatically based on contents.\n      this.tableHolder.autoFitColumn(containerWidth, tableWidth, isAutoWidth, this.isInsideTable, isAutoFit, hasSpannedCells, this.leftIndent + this.rightIndent, pageContainerWidth);\n    } else {\n      // Fits the column width based on preferred width. i.e. Fixed layout.\n      this.tableHolder.fitColumns(containerWidth, tableWidth, isAutoWidth, isAutoFit, this.leftIndent + this.rightIndent);\n    }\n    // if (!isAutoFit && isAutoWidth) {\n    //     tableWidth = this.tableHolder.tableWidth;\n    // }\n    //Sets the width to cells\n    this.setWidthToCells(tableWidth, isAutoWidth);\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.setWidthToCells = function (tableWidth, isAutoWidth) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var rw = this.childWidgets[i];\n      var rowFormat = rw.rowFormat;\n      if (rowFormat.gridBefore > 0) {\n        rowFormat.beforeWidth = this.tableHolder.getCellWidth(0, rowFormat.gridBefore, tableWidth);\n      }\n      for (var j = 0; j < rw.childWidgets.length; j++) {\n        var cell = rw.childWidgets[j];\n        cell.cellFormat.cellWidth = this.tableHolder.getCellWidth(cell.columnIndex, cell.cellFormat.columnSpan, tableWidth);\n        //By default, if cell preferred widthType is auto , width set based on table width and type is changed to 'Point'\n      }\n      if (rowFormat.gridAfter > 0) {\n        rowFormat.afterWidth = this.tableHolder.getCellWidth(0, rowFormat.gridAfter, tableWidth);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.updateProperties = function (updateAllowAutoFit, currentSelectedTable, autoFitBehavior) {\n    if (updateAllowAutoFit) {\n      this.tableFormat.allowAutoFit = autoFitBehavior !== 'FixedColumnWidth';\n    }\n    if (this !== currentSelectedTable) {\n      currentSelectedTable.updateProperties(false, currentSelectedTable, autoFitBehavior);\n      return;\n    }\n    if (autoFitBehavior === 'FixedColumnWidth') {\n      // Clear the table widths and set the preferred width for cells.\n      this.tableFormat.preferredWidth = 0;\n      this.tableFormat.preferredWidthType = 'Auto';\n      for (var i = 0; i < this.childWidgets.length; i++) {\n        var rowWidget = this.childWidgets[i];\n        for (var j = 0; j < rowWidget.childWidgets.length; j++) {\n          var cellWidget = rowWidget.childWidgets[j];\n          cellWidget.cellFormat.preferredWidthType = 'Point';\n          cellWidget.cellFormat.preferredWidth = cellWidget.cellFormat.cellWidth;\n        }\n      }\n    } else if (autoFitBehavior === 'FitToWindow') {\n      // Set the preferred width for table and cells in percentage.\n      var tableWidth = this.tableHolder.getTotalWidth(0);\n      this.tableFormat.leftIndent = 0;\n      this.tableFormat.preferredWidth = 100;\n      this.tableFormat.preferredWidthType = 'Percent';\n      for (var i = 0; i < this.childWidgets.length; i++) {\n        var row = this.childWidgets[i];\n        for (var z = 0; z < row.childWidgets.length; z++) {\n          var cell = row.childWidgets[z];\n          if (cell.cellFormat.preferredWidthType !== 'Percent') {\n            cell.cellFormat.preferredWidthType = 'Percent';\n            cell.cellFormat.preferredWidth = cell.cellFormat.cellWidth / tableWidth * 100;\n          }\n        }\n      }\n    } else {\n      // Clear the preferred width for table and cells.\n      this.tableFormat.preferredWidth = 0;\n      this.tableFormat.preferredWidthType = 'Auto';\n      for (var i = 0; i < this.childWidgets.length; i++) {\n        var row = this.childWidgets[i];\n        row.rowFormat.beforeWidth = 0;\n        row.rowFormat.gridBefore = 0;\n        row.rowFormat.gridBeforeWidth = 0;\n        row.rowFormat.gridBeforeWidthType = 'Auto';\n        row.rowFormat.afterWidth = 0;\n        row.rowFormat.gridAfter = 0;\n        row.rowFormat.gridAfterWidth = 0;\n        row.rowFormat.gridAfterWidthType = 'Auto';\n        for (var j = 0; j < row.childWidgets.length; j++) {\n          var cell = row.childWidgets[j];\n          cell.cellFormat.preferredWidth = 0;\n          cell.cellFormat.preferredWidthType = 'Auto';\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getMaxRowWidth = function (clientWidth) {\n    var width = 0;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      var rowWidth = 0;\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        var cell = row.childWidgets[j];\n        rowWidth += this.getCellWidth(cell.cellFormat.preferredWidth, cell.cellFormat.preferredWidthType, clientWidth, cell);\n      }\n      if (width < rowWidth) {\n        width = rowWidth;\n      }\n    }\n    return width;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.updateWidth = function (dragValue) {\n    var totalPreferredWidth = this.tableHolder.getTotalWidth(0);\n    var ownerWidth = this.getOwnerWidth(true);\n    var containerWidth = this.getTableClientWidth(ownerWidth);\n    if (containerWidth <= totalPreferredWidth) {\n      if (this.tableFormat.preferredWidthType === 'Auto') {\n        this.tableFormat.preferredWidthType = 'Point';\n      }\n    }\n    if (this.tableFormat.preferredWidthType !== 'Auto') {\n      if (this.tableFormat.preferredWidthType === 'Point') {\n        this.tableFormat.preferredWidth = this.getMaxRowWidth(containerWidth);\n      } else {\n        //ToDo:Need to analyze more the Percentage calculation for table width.\n        var value = totalPreferredWidth / ownerWidth * 100;\n        this.tableFormat.preferredWidth = value;\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.convertPointToPercent = function (tablePreferredWidth, ownerWidth) {\n    var value = 0;\n    value = tablePreferredWidth / ownerWidth * 100;\n    value = Math.round(value);\n    return value < 100 ? value : 100; // The value should be lesser than or equal to 100%;\n  };\n  TableWidget.prototype.updateChildWidgetLeft = function (left, updateLeftIndent) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var rowWidget = this.childWidgets[i];\n      rowWidget.x = left;\n      rowWidget.updateChildWidgetLeft(left, updateLeftIndent);\n    }\n  };\n  /**\n   * Shift the widgets for right to left aligned table.\n   * @private\n   */\n  TableWidget.prototype.shiftWidgetsForRtlTable = function (clientArea, tableWidget) {\n    var clientAreaX = tableWidget.x;\n    var clientAreaRight = clientArea.right;\n    var cellSpace = 0;\n    if (tableWidget.tableFormat && tableWidget.tableFormat.cellSpacing > 0) {\n      cellSpace = tableWidget.tableFormat.cellSpacing;\n    }\n    for (var i = 0; i < tableWidget.childWidgets.length; i++) {\n      var rowWidget = tableWidget.childWidgets[i];\n      var rowX = rowWidget.x;\n      var left = clientAreaRight - (rowX - clientAreaX);\n      for (var j = 0; j < rowWidget.childWidgets.length; j++) {\n        var cellWidget = rowWidget.childWidgets[j];\n        left = left - (cellWidget.width + cellWidget.margin.left + cellWidget.margin.right - cellWidget.rightBorderWidth + cellSpace);\n        cellWidget.updateWidgetLeft(left + cellWidget.margin.left);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.clone = function () {\n    var table = new TableWidget();\n    table.tableHolder = this.tableHolder.clone();\n    table.tableFormat.copyFormat(this.tableFormat);\n    if (this.wrapTextAround) {\n      table.wrapTextAround = this.wrapTextAround;\n      table.positioning = this.positioning.clone();\n    }\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i].clone();\n      table.childWidgets.push(row);\n      row.containerWidget = table;\n      row.index = i;\n    }\n    table.x = this.x;\n    table.y = this.y;\n    table.height = this.height;\n    table.width = this.width;\n    table.isBidiTable = this.isBidiTable;\n    table.containerWidget = this.containerWidget;\n    if (this.contentControlProperties) {\n      table.contentControlProperties = this.contentControlProperties;\n    }\n    return table;\n  };\n  /**\n   * @private\n   */\n  TableWidget.getTableOf = function (node) {\n    if (node instanceof WBorders) {\n      var row = TableRowWidget.getRowOf(node);\n      if (!isNullOrUndefined(row)) {\n        return row.ownerTable;\n      } else if (node.ownerBase instanceof WTableFormat && node.ownerBase.ownerBase instanceof TableWidget) {\n        return node.ownerBase.ownerBase;\n      } else {\n        return undefined;\n      }\n    }\n    return undefined;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.fitChildToClientArea = function () {\n    var clientWidth = this.getContainerWidth();\n    if (Math.round(clientWidth) < Math.round(this.getTableWidth())) {\n      this.fitCellsToClientArea(clientWidth);\n    }\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        var cell = row.childWidgets[j];\n        for (var k = 0; k < cell.childWidgets.length; k++) {\n          if (cell.childWidgets[k] instanceof TableWidget) {\n            cell.childWidgets[k].fitChildToClientArea();\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getColumnCellsForSelection = function (startCell, endCell) {\n    var cells = [];\n    var start = startCell.columnIndex;\n    var end = endCell.columnIndex + endCell.cellFormat.columnSpan;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        var cell = row.childWidgets[j];\n        var columnIndex = cell.columnIndex;\n        var columnSpan = cell.cellFormat.columnSpan;\n        if (columnIndex + columnSpan > start && columnIndex + columnSpan < end || columnIndex > start && columnIndex < end) {\n          if (cells.indexOf(cell) < 0) {\n            cells.push(cell);\n          }\n        } else if (columnIndex > start && columnIndex < end && columnIndex + columnSpan < end || columnIndex < start && columnIndex + columnSpan > end) {\n          if (cells.indexOf(cell) < 0) {\n            cells.push(cell);\n          }\n        } else if (columnIndex === start || columnIndex + columnSpan === end) {\n          if (cells.indexOf(cell) < 0) {\n            cells.push(cell);\n          }\n        }\n      }\n    }\n    return cells;\n  };\n  /**\n   * Splits width equally for all the cells.\n   * @param tableClientWidth\n   * @private\n   */\n  TableWidget.prototype.splitWidthToTableCells = function (tableClientWidth, isZeroWidth) {\n    for (var row = 0; row < this.childWidgets.length; row++) {\n      this.childWidgets[row].splitWidthToRowCells(tableClientWidth, isZeroWidth);\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.insertTableRowsInternal = function (tableRows, startIndex, isInsertRow) {\n    for (var i = tableRows.length - 1; i >= 0; i--) {\n      var row = tableRows.splice(i, 1)[0];\n      row.containerWidget = this;\n      this.childWidgets.splice(startIndex, 0, row);\n    }\n    this.updateRowIndex(startIndex);\n    this.isGridUpdated = false;\n    if (isInsertRow) {\n      this.calculateGrid(true);\n      this.buildTableColumns();\n    }\n    this.isGridUpdated = true;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.updateRowIndex = function (startIndex) {\n    for (var i = startIndex; i < this.childWidgets.length; i++) {\n      var row = this.childWidgets[i];\n      row.index = i;\n      for (var j = 0; j < row.childWidgets.length; j++) {\n        row.childWidgets[j].index = j;\n        row.childWidgets[j].rowIndex = row.rowIndex;\n      }\n      startIndex++;\n    }\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.getCellStartOffset = function (cell) {\n    var offset = 0;\n    if (cell && this.tableCellInfo) {\n      if (this.tableCellInfo.containsKey(cell.ownerRow.rowIndex)) {\n        var rowCellInfo = this.tableCellInfo.get(cell.ownerRow.rowIndex);\n        if (rowCellInfo.containsKey(cell.cellIndex)) {\n          offset = rowCellInfo.get(cell.cellIndex);\n        }\n      }\n    }\n    return offset;\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.destroyInternal = function (viewer) {\n    var height = this.height;\n    if (!isNullOrUndefined(this.childWidgets)) {\n      for (var j = 0; j < this.childWidgets.length; j++) {\n        var widget = undefined;\n        var childWidget = this.childWidgets[j];\n        widget = childWidget;\n        if (!isNullOrUndefined(widget)) {\n          widget.destroyInternal(viewer);\n        }\n        if (isNullOrUndefined(this.childWidgets)) {\n          break;\n        }\n        j--;\n      }\n      this.childWidgets = undefined;\n    }\n    if (!isNullOrUndefined(this.containerWidget)) {\n      if (this.containerWidget instanceof BodyWidget) {\n        if (this.containerWidget.floatingElements.indexOf(this) !== -1) {\n          this.containerWidget.floatingElements.splice(this.containerWidget.floatingElements.indexOf(this), 1);\n        }\n      }\n      if (!isNullOrUndefined(this.containerWidget.childWidgets)) {\n        if (this.containerWidget.childWidgets.indexOf(this) !== -1) {\n          this.containerWidget.childWidgets.splice(this.containerWidget.childWidgets.indexOf(this), 1);\n        }\n        this.containerWidget.height -= height;\n        // if ((isNullOrUndefined(this.containerWidget.childWidgets) || this.containerWidget.childWidgets.length === 0)\n        //     && this.containerWidget instanceof BodyWidget) {\n        //     // (this.containerWidget as BodyWidget).destroyInternal(viewer);\n        // }\n      }\n      this.containerWidget = undefined;\n    }\n    this.destroy();\n  };\n  /**\n   * @private\n   */\n  TableWidget.prototype.destroy = function () {\n    // if (this.tableFormat) {\n    //     this.tableFormat.destroy();\n    // }\n    this.tableFormat = undefined;\n    if (this.spannedRowCollection) {\n      this.spannedRowCollection.destroy();\n    }\n    this.spannedRowCollection = undefined;\n    // if (this.tableHolder) {\n    //     this.tableHolder.destroy();\n    // }\n    this.tableHolder = undefined;\n    this.flags = undefined;\n    this.leftMargin = undefined;\n    this.topMargin = undefined;\n    this.rightMargin = undefined;\n    this.bottomMargin = undefined;\n    this.headerHeight = undefined;\n    this.isDefaultFormatUpdated = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  TableWidget.prototype.componentDestroy = function () {\n    if (this.tableFormat) {\n      this.tableFormat.destroy();\n    }\n    this.tableFormat = undefined;\n    if (this.spannedRowCollection) {\n      this.spannedRowCollection.destroy();\n    }\n    this.spannedRowCollection = undefined;\n    if (this.tableHolder) {\n      this.tableHolder.destroy();\n    }\n    this.tableHolder = undefined;\n    this.flags = undefined;\n    this.leftMargin = undefined;\n    this.topMargin = undefined;\n    this.rightMargin = undefined;\n    this.bottomMargin = undefined;\n    this.headerHeight = undefined;\n    this.isDefaultFormatUpdated = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return TableWidget;\n}(BlockWidget);\nexport { TableWidget };\n/**\n * @private\n */\nvar TableRowWidget = /** @class */function (_super) {\n  __extends(TableRowWidget, _super);\n  function TableRowWidget() {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.isRenderBookmarkEnd = false;\n    _this.topBorderWidth = 0;\n    _this.bottomBorderWidth = 0;\n    _this.rowFormat = new WRowFormat(_this);\n    _this.editRangeID = new Dictionary();\n    return _this;\n  }\n  Object.defineProperty(TableRowWidget.prototype, \"rowIndex\", {\n    // /**\n    //  * @private\n    //  */\n    // get length(): number {\n    //     if (!isNullOrUndefined(this.nextSplitWidget)) {\n    //         return 1;\n    //     } else {\n    //         if (isNullOrUndefined(this.previousSplitWidget)) {\n    //             return 1;\n    //         }\n    //         return 0;\n    //     }\n    // }\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.containerWidget) {\n        return this.containerWidget.childWidgets.indexOf(this);\n      }\n      return -1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableRowWidget.prototype, \"ownerTable\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.containerWidget instanceof TableWidget) {\n        return this.containerWidget;\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableRowWidget.prototype, \"nextRow\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var index = this.indexInOwner;\n      if (index > -1 && index < this.ownerTable.childWidgets.length - 1) {\n        return this.ownerTable.childWidgets[index + 1];\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.equals = function (widget) {\n    return widget instanceof TableRowWidget && widget.rowFormat === this.rowFormat;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.combineCells = function (viewer) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var cell = this.childWidgets[i];\n      cell.combineWidget(viewer);\n      if (!isNullOrUndefined(cell.cellFormat) && cell.cellFormat.rowSpan === 1) {\n        var cellHeight = cell.height + cell.margin.top + cell.margin.bottom;\n        if (this.height - this.ownerTable.tableFormat.cellSpacing < cell.height) {\n          this.height = this.ownerTable.tableFormat.cellSpacing + cell.height;\n        }\n      } else if (isNullOrUndefined(cell.cellFormat)) {\n        i--;\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.getRowOf = function (node) {\n    if (node instanceof WBorders) {\n      var cell = TableCellWidget.getCellOf(node);\n      if (!isNullOrUndefined(cell)) {\n        return cell.ownerRow;\n      } else if (node.ownerBase instanceof WRowFormat && node.ownerBase.ownerBase instanceof TableRowWidget) {\n        return node.ownerBase.ownerBase;\n      } else {\n        return undefined;\n      }\n    }\n    return undefined;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.getCell = function (rowIndex, columnIndex, cellIndex) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var cell = this.childWidgets[i];\n      if (cell.rowIndex === rowIndex && (!isNullOrUndefined(cellIndex) ? cell.cellIndex === cellIndex : cell.columnIndex === columnIndex)) {\n        return cell;\n      }\n    }\n    return undefined;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.getCellUsingColumnIndex = function (rowIndex, columnIndex) {\n    var cell;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      cell = this.childWidgets[i];\n      if (cell.rowIndex === rowIndex && cell.columnIndex === columnIndex) {\n        return cell;\n      }\n    }\n    cell = this.getCell(rowIndex, columnIndex);\n    if (!isNullOrUndefined(cell)) {\n      return cell;\n    }\n    return undefined;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.splitWidthToRowCells = function (tableClientWidth, isZeroWidth) {\n    var cells = this.childWidgets;\n    var cellWidth = tableClientWidth / cells.length;\n    for (var cell = 0; cell < cells.length; cell++) {\n      if (isZeroWidth && cells[cell].cellFormat.preferredWidth === 0) {\n        cells[cell].cellFormat.preferredWidth = cellWidth;\n        this.ownerTable.isDefaultFormatUpdated = false;\n      } else if (isZeroWidth) {\n        this.ownerTable.isDefaultFormatUpdated = true;\n        break;\n      } else {\n        cells[cell].cellFormat.preferredWidth = cellWidth;\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.getGridCount = function (tableGrid, cell, index, containerWidth, tempSpan) {\n    var prevOffset = 0;\n    var width = 0;\n    var ownerTable = this.ownerTable;\n    var rowFormat = this.rowFormat;\n    if (index === -1) {\n      width = ownerTable.getCellWidth(rowFormat.gridBeforeWidth, rowFormat.gridBeforeWidthType, containerWidth, null);\n    } else {\n      prevOffset += ownerTable.getCellWidth(rowFormat.gridBeforeWidth, rowFormat.gridBeforeWidthType, containerWidth, null);\n      if (index >= 0) {\n        prevOffset += ownerTable.getCellStartOffset(cell);\n      }\n      if (index < this.childWidgets.length) {\n        width = ownerTable.getCellWidth(cell.cellFormat.preferredWidth, cell.cellFormat.preferredWidthType, containerWidth, null);\n      } else {\n        width = ownerTable.getCellWidth(rowFormat.gridAfterWidth, rowFormat.gridAfterWidthType, containerWidth, null);\n      }\n    }\n    var tabIndex = tableGrid.indexOf(prevOffset);\n    var tabGrid = tempSpan[tabIndex];\n    var gridEndIndex;\n    var gridStartIndex = this.getOffsetIndex(tableGrid, prevOffset);\n    var gridWidth = parseFloat((width + prevOffset).toFixed(2));\n    var gridDecimalWidth = parseFloat((width + tabGrid).toFixed(2));\n    if (gridDecimalWidth !== gridWidth && !isNullOrUndefined(tabGrid)) {\n      gridEndIndex = this.getOffsetIndex(tableGrid, tabGrid + width);\n    } else {\n      gridEndIndex = this.getOffsetIndex(tableGrid, prevOffset + width);\n    }\n    return gridEndIndex - gridStartIndex;\n  };\n  TableRowWidget.prototype.getOffsetIndex = function (tableGrid, offset) {\n    offset = parseFloat(offset.toFixed(2));\n    var index = 0;\n    if (tableGrid.indexOf(offset) >= 0) {\n      index = tableGrid.indexOf(offset);\n    } else {\n      for (var i = 0; i < tableGrid.length; i++) {\n        if (tableGrid[i] > offset) {\n          return i;\n        }\n      }\n      index = tableGrid.length - 1;\n    }\n    return index;\n  };\n  TableRowWidget.prototype.getCellOffset = function (index, containerWidth) {\n    var prevOffset = 0;\n    var ownerTable = this.ownerTable;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var cellFormat = this.childWidgets[i].cellFormat;\n      if (i === index) {\n        break;\n      }\n      prevOffset += ownerTable.getCellWidth(cellFormat.preferredWidth, cellFormat.preferredWidthType, containerWidth, null);\n    }\n    return prevOffset;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.updateRowBySpannedCells = function () {\n    var rowSpannedCells = this.getPreviousRowSpannedCells();\n    var currentRowIndex = this.rowIndex;\n    for (var i = 0; i < rowSpannedCells.length; i++) {\n      var spannedCell = rowSpannedCells[i];\n      var rowSpanEnd = spannedCell.ownerRow.rowIndex + spannedCell.cellFormat.rowSpan - 1;\n      // If current row is row span end or includes spanned cells. then, decrease the rowspan\n      if (rowSpanEnd >= currentRowIndex) {\n        spannedCell.cellFormat.rowSpan -= 1;\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.getPreviousRowSpannedCells = function (include) {\n    var rowSpannedCells = [];\n    var row = include ? this : this.previousWidget;\n    while (!isNullOrUndefined(row)) {\n      for (var i = 0; i < row.childWidgets.length; i++) {\n        var cell = row.childWidgets[i];\n        if (cell.cellFormat.rowSpan > 1) {\n          rowSpannedCells.splice(0, 0, cell);\n        }\n      }\n      row = row.previousWidget;\n    }\n    return rowSpannedCells;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.isCellsHaveSameWidthUnit = function () {\n    if (this.childWidgets.length > 0) {\n      var firstCellWidthUnit = this.childWidgets[0].cellFormat.preferredWidthType;\n      for (var i = 1; i < this.childWidgets.length; i++) {\n        var cell = this.childWidgets[i];\n        if (firstCellWidthUnit != cell.cellFormat.preferredWidthType) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.updateUniformWidthUnitForCells = function () {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var cell = this.childWidgets[i];\n      cell.cellFormat.preferredWidthType = \"Point\";\n      cell.cellFormat.preferredWidth = cell.cellFormat.cellWidth;\n    }\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.getTableCellWidget = function (point) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var x = Math.round(this.childWidgets[i].x);\n      if (x - this.childWidgets[i].margin.left - 1 <= point.x && x + this.childWidgets[i].width >= point.x) {\n        return this.childWidgets[i];\n      } else if (i === this.childWidgets.length - 1 && this.childWidgets[i].x + this.childWidgets[i].width + 1 <= point.x) {\n        return this.childWidgets[i];\n      }\n    }\n    var cellWidget = undefined;\n    if (this.childWidgets.length > 0) {\n      if (this.childWidgets[0].x <= point.x) {\n        cellWidget = this.childWidgets[this.childWidgets.length - 1].getTableCellWidget(point);\n      } else {\n        cellWidget = this.childWidgets[0].getTableCellWidget(point);\n      }\n    }\n    return cellWidget;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.getFirstRowWidth = function () {\n    var width = 0;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      width += this.childWidgets[i].getCellWidth(this.ownerTable);\n    }\n    return width;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.getCellWidget = function (columnIndex, columnSpan) {\n    var tableHolder = this.ownerTable.tableHolder;\n    var index = tableHolder.getValidColumnIndex(columnIndex);\n    if (index > columnIndex) {\n      columnSpan -= index - columnIndex;\n      columnIndex = index;\n    }\n    var colIndex = 0;\n    if (this.rowFormat.gridBefore > 0) {\n      colIndex += this.rowFormat.gridBefore;\n    }\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var cell = this.childWidgets[i];\n      var colSpan = cell.cellFormat.columnSpan;\n      if (colIndex < cell.columnIndex && (colIndex <= columnIndex || colIndex < columnIndex + columnSpan) && cell.columnIndex > columnIndex) {\n        return null;\n      }\n      if ((cell.columnIndex <= columnIndex || cell.columnIndex < columnIndex + columnSpan) && cell.columnIndex + colSpan > columnIndex) {\n        return cell;\n      } else if (cell.columnIndex > columnIndex) {\n        break;\n      }\n      colIndex += colSpan;\n    }\n    return null;\n  };\n  TableRowWidget.prototype.getVerticalMergeStartCell = function (columnIndex, columnSpan) {\n    var columns = this.ownerTable.tableHolder.columns;\n    if (this.rowFormat.gridBefore > 0 && this.rowFormat.gridBefore > columnIndex + columnSpan) {\n      return null;\n    }\n    var matchedCell = this.getCellWidget(columnIndex, columnSpan);\n    if (!isNullOrUndefined(matchedCell)) {\n      return matchedCell;\n    }\n    if (columnIndex + this.rowFormat.gridAfter === columns.length) {\n      return null;\n    }\n    var cell;\n    var previousRow = this.previousWidget;\n    if (!isNullOrUndefined(previousRow)) {\n      //Gets the First intersecting cell from previous row\n      cell = previousRow.getVerticalMergeStartCell(columnIndex, columnSpan);\n    }\n    if (!isNullOrUndefined(cell) && cell.cellFormat.rowSpan > 1 && this.index === cell.rowIndex + cell.cellFormat.rowSpan - 1) {\n      return cell;\n    }\n    return null;\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n    return {\n      'minimumWordWidth': minimumWordWidth,\n      'maximumWordWidth': maximumWordWidth\n    };\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.destroyInternal = function (viewer) {\n    var height = this.height;\n    if (!isNullOrUndefined(this.childWidgets)) {\n      for (var i = 0; i < this.childWidgets.length; i++) {\n        var widget = this.childWidgets[i];\n        widget.destroyInternal(viewer);\n        if (isNullOrUndefined(this.childWidgets)) {\n          break;\n        }\n        i--;\n      }\n      this.childWidgets = undefined;\n    }\n    if (!isNullOrUndefined(this.containerWidget)) {\n      if (!isNullOrUndefined(this.containerWidget.childWidgets)) {\n        this.containerWidget.childWidgets.splice(this.containerWidget.childWidgets.indexOf(this), 1);\n        if ((isNullOrUndefined(this.containerWidget.childWidgets) || this.containerWidget.childWidgets.length === 0) && this.containerWidget instanceof TableWidget) {\n          this.containerWidget.destroyInternal(viewer);\n        } else if (this.containerWidget.containerWidget instanceof BodyWidget) {\n          this.containerWidget.containerWidget.height -= height;\n        }\n        this.containerWidget.height -= height;\n      }\n    }\n    this.destroy();\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.clone = function () {\n    var row = new TableRowWidget();\n    row.rowFormat.copyFormat(this.rowFormat);\n    row.topBorderWidth = this.topBorderWidth;\n    row.bottomBorderWidth = this.bottomBorderWidth;\n    row.isRenderBookmarkEnd = this.isRenderBookmarkEnd;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var cell = this.childWidgets[i].clone();\n      row.childWidgets.push(cell);\n      cell.containerWidget = row;\n      cell.index = i;\n      cell.rowIndex = this.rowIndex;\n    }\n    row.x = this.x;\n    row.y = this.y;\n    row.height = this.height;\n    row.width = this.width;\n    if (this.contentControlProperties) {\n      row.contentControlProperties = this.contentControlProperties;\n    }\n    return row;\n  };\n  /**\n   * Updates the child widgets left.\n   * @param left\n   * @private\n   */\n  TableRowWidget.prototype.updateChildWidgetLeft = function (left, updateLeftIndent) {\n    // TODO: Cell spacing calculation.\n    var spacing = 0;\n    if (this.ownerTable.tableFormat.cellSpacing > 0) {\n      spacing = this.ownerTable.tableFormat.cellSpacing;\n    }\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var cellWidget = this.childWidgets[i];\n      left += spacing + cellWidget.margin.left;\n      cellWidget.x = left;\n      cellWidget.updateChildWidgetLeft(cellWidget.x, updateLeftIndent);\n      left += cellWidget.width + cellWidget.margin.right;\n    }\n  };\n  /**\n   * Shift the widgets for RTL table.\n   * @param tableWidget\n   * @private\n   */\n  TableRowWidget.prototype.shiftWidgetForRtlTable = function () {\n    var tableWidget = this.ownerTable;\n    var clientAreaX = tableWidget.x;\n    var cellSpace = 0;\n    var tableWidth = 0;\n    if (tableWidget.tableFormat != null && tableWidget.tableFormat.cellSpacing > 0) {\n      cellSpace = tableWidget.tableFormat.cellSpacing;\n    }\n    tableWidth = HelperMethods.convertPointToPixel(tableWidget.getTableWidth());\n    var rowX = this.x;\n    var clientAreaRight = clientAreaX + tableWidth;\n    var left = clientAreaRight - (rowX - clientAreaX);\n    var prevSpannedCellWidth = 0;\n    for (var j = 0; j < this.childWidgets.length; j++) {\n      var cellWidget = this.childWidgets[j];\n      var prevColumnIndex = 0;\n      if (!isNullOrUndefined(cellWidget.previousWidget)) {\n        prevColumnIndex = cellWidget.previousWidget.columnIndex + cellWidget.previousWidget.cellFormat.columnSpan;\n      }\n      if (prevColumnIndex < cellWidget.columnIndex) {\n        prevSpannedCellWidth = HelperMethods.convertPointToPixel(cellWidget.ownerTable.tableHolder.getPreviousSpannedCellWidth(prevColumnIndex, cellWidget.columnIndex));\n        if (prevColumnIndex === 0) {\n          prevSpannedCellWidth = prevSpannedCellWidth - cellSpace / 2;\n        }\n      }\n      left = left - (cellWidget.width + cellWidget.margin.left + cellWidget.margin.right + cellSpace);\n      cellWidget.updateWidgetLeft(left + cellWidget.margin.left - prevSpannedCellWidth);\n    }\n  };\n  /**\n   * @private\n   */\n  TableRowWidget.prototype.destroy = function () {\n    // if (this.rowFormat) {\n    //     this.rowFormat.destroy();\n    // }\n    this.rowFormat = undefined;\n    this.topBorderWidth = undefined;\n    this.bottomBorderWidth = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  TableRowWidget.prototype.componentDestroy = function () {\n    if (this.rowFormat) {\n      this.rowFormat.destroy();\n    }\n    this.rowFormat = undefined;\n    this.topBorderWidth = undefined;\n    this.bottomBorderWidth = undefined;\n    this.isRenderBookmarkEnd = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return TableRowWidget;\n}(BlockWidget);\nexport { TableRowWidget };\n/**\n * @private\n */\nvar TableCellWidget = /** @class */function (_super) {\n  __extends(TableCellWidget, _super);\n  function TableCellWidget() {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.rowIndex = -1;\n    _this.sizeInfoInternal = new ColumnSizeInfo();\n    /**\n     * @private\n     */\n    _this.updatedTopBorders = [];\n    /**\n     * @private\n     */\n    _this.isRenderBookmarkStart = false;\n    /**\n     * @private\n     */\n    _this.isRenderBookmarkEnd = false;\n    /**\n     * @private\n     */\n    _this.isRenderEditRangeStart = false;\n    /**\n    * @private\n     */\n    _this.isRenderEditRangeEnd = false;\n    // /**\n    //  * @private\n    //  */\n    // get length(): number {\n    //     if (!isNullOrUndefined(this.nextSplitWidget)) {\n    //         return 1;\n    //     } else {\n    //         if (isNullOrUndefined(this.previousSplitWidget)) {\n    //             return 1;\n    //         }\n    //         return 0;\n    //     }\n    // }\n    /**\n    * @private\n     */\n    _this.isSplittedCell = false;\n    _this.margin = new Margin(_this.leftMargin, _this.topMargin, _this.rightMargin, _this.bottomMargin);\n    _this.leftBorderWidth = 0;\n    _this.rightBorderWidth = 0;\n    _this.cellFormat = new WCellFormat(_this);\n    return _this;\n  }\n  Object.defineProperty(TableCellWidget.prototype, \"ownerColumn\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.ownerTable.tableHolder.columns[this.columnIndex];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableCellWidget.prototype, \"leftMargin\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.cellFormat && this.cellFormat.containsMargins()) {\n        return this.cellFormat.leftMargin;\n      } else if (!isNullOrUndefined(this.ownerRow) && this.ownerRow.rowFormat.hasValue('leftMargin')) {\n        return this.ownerRow.rowFormat.leftMargin;\n      } else if (!isNullOrUndefined(this.ownerTable) && !isNullOrUndefined(this.ownerTable.tableFormat)) {\n        return this.ownerTable.tableFormat.leftMargin;\n      } else {\n        return 0;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableCellWidget.prototype, \"topMargin\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.cellFormat && this.cellFormat.containsMargins()) {\n        return this.cellFormat.topMargin;\n      } else if (!isNullOrUndefined(this.ownerRow) && this.ownerRow.rowFormat.hasValue('topMargin')) {\n        return this.ownerRow.rowFormat.topMargin;\n      } else if (!isNullOrUndefined(this.ownerTable) && !isNullOrUndefined(this.ownerTable.tableFormat)) {\n        return this.ownerTable.tableFormat.topMargin;\n      } else {\n        return 0;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableCellWidget.prototype, \"rightMargin\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.cellFormat && this.cellFormat.containsMargins()) {\n        return this.cellFormat.rightMargin;\n      } else if (!isNullOrUndefined(this.ownerRow) && this.ownerRow.rowFormat.hasValue('rightMargin')) {\n        return this.ownerRow.rowFormat.rightMargin;\n      } else if (!isNullOrUndefined(this.ownerTable) && !isNullOrUndefined(this.ownerTable.tableFormat)) {\n        return this.ownerTable.tableFormat.rightMargin;\n      } else {\n        return 0;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableCellWidget.prototype, \"bottomMargin\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.cellFormat && this.cellFormat.containsMargins()) {\n        return this.cellFormat.bottomMargin;\n      } else if (!isNullOrUndefined(this.ownerRow) && this.ownerRow.rowFormat.hasValue('bottomMargin')) {\n        return this.ownerRow.rowFormat.bottomMargin;\n      } else if (!isNullOrUndefined(this.ownerTable) && !isNullOrUndefined(this.ownerTable.tableFormat)) {\n        return this.ownerTable.tableFormat.bottomMargin;\n      } else {\n        return 0;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableCellWidget.prototype, \"cellIndex\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.ownerRow) {\n        return this.ownerRow.childWidgets.indexOf(this);\n      }\n      return -1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableCellWidget.prototype, \"ownerTable\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.containerWidget instanceof TableRowWidget) {\n        return this.containerWidget.ownerTable;\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableCellWidget.prototype, \"ownerRow\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.containerWidget;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TableCellWidget.prototype, \"sizeInfo\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.sizeInfoInternal;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.equals = function (widget) {\n    return widget instanceof TableCellWidget && widget.cellFormat === this.cellFormat;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getContainerTable = function () {\n    var table = this.ownerTable;\n    while (table instanceof TableWidget && table.associatedCell instanceof TableCellWidget) {\n      table = table.associatedCell.getContainerTable();\n    }\n    return table;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getPreviousSplitWidget = function () {\n    if (this.containerWidget instanceof TableRowWidget) {\n      var row = this.containerWidget;\n      do {\n        row = row.previousRenderedWidget;\n        if (isNullOrUndefined(row) || row.index < this.rowIndex) {\n          break;\n        }\n        var previousCell = row.getCell(this.rowIndex, this.columnIndex);\n        if (previousCell && this.equals(previousCell)) {\n          return previousCell;\n        }\n      } while (row);\n    }\n    return undefined;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getNextSplitWidget = function () {\n    var rowSpan = this.cellFormat.rowSpan;\n    if (this.containerWidget instanceof TableRowWidget) {\n      var row = this.containerWidget;\n      do {\n        row = row.nextRenderedWidget;\n        if (isNullOrUndefined(row) || row.index > this.rowIndex + rowSpan) {\n          break;\n        }\n        var nextCell = row.getCell(this.rowIndex, this.columnIndex);\n        if (nextCell && this.equals(nextCell)) {\n          return nextCell;\n        }\n      } while (row);\n    }\n    return undefined;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getTableCellWidget = function (point) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      if (this.childWidgets[i].y <= point.y && this.childWidgets[i].y + this.childWidgets[i].height >= point.y) {\n        return this.childWidgets[i].getTableCellWidget(point);\n      }\n    }\n    var tableCellWidget = undefined;\n    if (this.childWidgets.length > 0) {\n      if (this.childWidgets[0].y <= point.y) {\n        tableCellWidget = this.childWidgets[this.childWidgets.length - 1].getTableCellWidget(point);\n      } else {\n        tableCellWidget = this.childWidgets[0].getTableCellWidget(point);\n      }\n    }\n    return tableCellWidget;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.updateWidth = function (preferredWidth) {\n    if (this.cellFormat.preferredWidthType === 'Point') {\n      this.cellFormat.preferredWidth = preferredWidth;\n    } else if (this.cellFormat.preferredWidthType === 'Percent') {\n      this.cellFormat.preferredWidth = this.convertPointToPercent(preferredWidth);\n    }\n    this.cellFormat.cellWidth = preferredWidth;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getCellWidth = function (block) {\n    var ownerTable = this.ownerTable;\n    var containerWidth = ownerTable ? ownerTable.getTableClientWidth(ownerTable.getOwnerWidth(true)) : 0;\n    var cellWidth = containerWidth;\n    var leftMargin = !isNullOrUndefined(this.leftMargin) ? this.leftMargin : 0;\n    var rightMargin = !isNullOrUndefined(this.rightMargin) ? this.rightMargin : 0;\n    if (ownerTable && ownerTable.tableFormat.preferredWidthType === 'Auto' && ownerTable.tableFormat.allowAutoFit) {\n      if (this.cellFormat.preferredWidth === 0) {\n        cellWidth = containerWidth;\n      } else {\n        // If cell has prefferd width, we need to consider prefferd width.\n        cellWidth = this.cellFormat.preferredWidth - leftMargin - rightMargin;\n      }\n    } else if (this.cellFormat.preferredWidthType === 'Percent') {\n      cellWidth = this.cellFormat.preferredWidth * containerWidth / 100 - leftMargin - rightMargin;\n    } else if (this.cellFormat.preferredWidthType === 'Point') {\n      if (block instanceof TableWidget && block.tableFormat.preferredWidthType === 'Percent') {\n        cellWidth = this.cellFormat.cellWidth - leftMargin - rightMargin;\n      } else {\n        cellWidth = this.cellFormat.preferredWidth - leftMargin - rightMargin;\n      }\n    }\n    // For grid before and grid after with auto width, no need to calculate minimum preferred width.\n    return cellWidth;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.convertPointToPercent = function (cellPreferredWidth) {\n    var value = 0;\n    var clientWidth = this.ownerTable.getOwnerWidth(true);\n    var tableWidth = this.ownerTable.getTableClientWidth(clientWidth);\n    value = cellPreferredWidth / tableWidth * 100;\n    value = Math.round(value);\n    return value < 100 ? value : 100; // The value should be lesser than or equal to 100%;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.getCellLeftBorder = function (tableCell) {\n    var leftBorder = undefined;\n    var cellBorder = tableCell.cellFormat.borders;\n    var rowBorders = !isNullOrUndefined(tableCell.ownerRow) ? tableCell.ownerRow.rowFormat.borders : undefined;\n    var tableBorders = !isNullOrUndefined(tableCell.ownerTable) ? tableCell.ownerTable.tableFormat.borders : undefined;\n    if (!isNullOrUndefined(cellBorder.left)) {\n      leftBorder = cellBorder.left;\n    }\n    if (isNullOrUndefined(leftBorder)) {\n      leftBorder = tableCell.getLeftBorderToRenderByHierarchy(leftBorder, rowBorders, tableBorders);\n    }\n    if (tableCell.ownerTable.tableFormat.cellSpacing > 0) {\n      leftBorder = tableCell.getLeftBorderToRenderByHierarchy(leftBorder, rowBorders, tableBorders);\n    } else {\n      var prevCell = this.getPreviousCell(tableCell);\n      // if the border is shared then choose the border based on Conflict Resolution algorithm.\n      leftBorder = tableCell.getPreviousCellLeftBorder(leftBorder, prevCell);\n    }\n    if (isNullOrUndefined(leftBorder)) {\n      leftBorder = new WBorder(tableCell.cellFormat.borders);\n    }\n    return leftBorder;\n  };\n  TableCellWidget.getPreviousCell = function (tableCell) {\n    var prevCell = undefined;\n    if (!isNullOrUndefined(tableCell.previousWidget)) {\n      //Validates whether the previous cell in same row is adjacent left cell and sets to prevCell.\n      //If the previous cell is not in the same row and it is vertically merged, we have handled in serverside\n      //to copy border based on priority of current cell left border and previous cell right border.\n      var cell = tableCell.previousWidget;\n      if (cell.columnIndex + cell.cellFormat.columnSpan === tableCell.columnIndex) {\n        prevCell = cell;\n      }\n    }\n    return prevCell;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getLeftBorderWidth = function () {\n    var borderWidth = 0;\n    // Added null condition check for asynchronous loading.\n    if (this.cellFormat !== null && this.cellFormat.borders !== null) {\n      // update the margins values respect to layouting of borders.\n      // For normal table cells only left border is rendered. for last cell left and right border is rendered.\n      // this border widths are not included in margins.\n      borderWidth = TableCellWidget.getCellLeftBorder(this).getLineWidth();\n      // need to render rightBorder specifically for all the cells when the cellSpacing is greater than zero or for last cell of each row.\n    }\n    return borderWidth;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getRightBorderWidth = function () {\n    var borderWidth = 0;\n    var ownerTable = this.ownerTable;\n    //Added null condition check for asynchronous loading.\n    if (this.cellFormat !== null && this.cellFormat.borders !== null) {\n      borderWidth = TableCellWidget.getCellRightBorder(this).getLineWidth();\n    }\n    return borderWidth;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getCellSpacing = function () {\n    var actualCellSpacing = this.ownerTable && this.ownerTable.tableFormat ? this.ownerTable.tableFormat.cellSpacing : 0;\n    var cellSpacingToLayout = actualCellSpacing;\n    // Considers the left, right margins and border widths(only available for Layouted table) for Minimum width.\n    if (this.ownerRow.childWidgets.length === 1) {\n      cellSpacingToLayout = actualCellSpacing * 2;\n    } else if (this.cellIndex === 0 || this.cellIndex === this.ownerRow.childWidgets.length - 1) {\n      cellSpacingToLayout = actualCellSpacing + actualCellSpacing / 2;\n    } else {\n      cellSpacingToLayout = actualCellSpacing;\n    }\n    return cellSpacingToLayout;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getCellSizeInfo = function (isAutoFit) {\n    var isSetWidth = true;\n    var layout = undefined;\n    if (!isNullOrUndefined(this.bodyWidget) && !isNullOrUndefined(this.bodyWidget.page)) {\n      if (!isNullOrUndefined(this.bodyWidget.page.documentHelper)) {\n        layout = this.bodyWidget.page.documentHelper.layout;\n      }\n    }\n    if (!isNullOrUndefined(layout) && !isNullOrUndefined(layout.currentCell)) {\n      isSetWidth = false;\n      if (this === layout.currentCell) {\n        isSetWidth = true;\n      }\n    }\n    // Gets the minimum preferred width for the table cell.\n    if (isSetWidth && !this.sizeInfo.hasMinimumWidth) {\n      this.sizeInfo.minimumWidth = this.getMinimumPreferredWidth();\n    }\n    // Gets the minimum and maximum word widths.\n    if (isAutoFit) {\n      if (isSetWidth && !this.sizeInfo.hasMinimumWordWidth) {\n        var size = this.getMinimumAndMaximumWordWidth(0, 0);\n        this.sizeInfo.minimumWordWidth = size.minimumWordWidth + this.sizeInfo.minimumWidth;\n        this.sizeInfo.maximumWordWidth = size.maximumWordWidth + this.sizeInfo.minimumWidth;\n        // if minimum and maximum width values are equal, set value as zero.\n        // later, preferred width value is considered for all width values.\n        // if (this.sizeInfo.minimumWidth === this.sizeInfo.minimumWordWidth\n        //     && this.sizeInfo.minimumWordWidth === this.sizeInfo.maximumWordWidth) {\n        //     this.sizeInfo.minimumWordWidth = 0;\n        //     this.sizeInfo.maximumWordWidth = 0;\n        //     this.sizeInfo.minimumWidth = 0;\n        // }\n      }\n    }\n    var sizeInfo = new ColumnSizeInfo();\n    sizeInfo.minimumWidth = this.sizeInfo.minimumWidth;\n    sizeInfo.minimumWordWidth = this.sizeInfo.minimumWordWidth;\n    sizeInfo.maximumWordWidth = this.sizeInfo.maximumWordWidth;\n    return sizeInfo;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getMinimumPreferredWidth = function () {\n    var defaultWidth = this.leftMargin + this.rightMargin + this.getLeftBorderWidth() + this.getRightBorderWidth() + this.getCellSpacing();\n    return defaultWidth;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getPreviousCellLeftBorder = function (leftBorder, previousCell) {\n    if (isNullOrUndefined(previousCell) || !isNullOrUndefined(leftBorder) && leftBorder.lineStyle === 'None' && !leftBorder.hasNoneStyle) {\n      if (!isNullOrUndefined(leftBorder) && !(leftBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n        leftBorder = this.getLeftBorderToRenderByHierarchy(leftBorder, TableRowWidget.getRowOf(leftBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(leftBorder.ownerBase).tableFormat.borders);\n      }\n    }\n    if (isNullOrUndefined(previousCell)) {\n      return leftBorder;\n    } else {\n      var prevCellRightBorder = undefined;\n      if (!isNullOrUndefined(previousCell.cellFormat.borders) && !isNullOrUndefined(previousCell.cellFormat.borders.right) && previousCell.cellFormat.borders.right.lineStyle !== 'None') {\n        prevCellRightBorder = previousCell.cellFormat.borders.right;\n      }\n      if (!isNullOrUndefined(prevCellRightBorder) && prevCellRightBorder.lineStyle !== 'None') {\n        return this.getBorderBasedOnPriority(prevCellRightBorder, leftBorder);\n      } else if (!isNullOrUndefined(leftBorder) && !(leftBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n        return this.getLeftBorderToRenderByHierarchy(leftBorder, TableRowWidget.getRowOf(leftBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(leftBorder.ownerBase).tableFormat.borders);\n      }\n    }\n    return leftBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getBorderBasedOnPriority = function (border, adjacentBorder) {\n    // If the cell and its adjacent cell defined different borders then based on this algorithm the border choose to render.\n    // Reference link :https://msdn.microsoft.com/en-us/library/office/documentformat.openxml.wordprocessing.tablecellborders.aspx\n    if (isNullOrUndefined(border)) {\n      return adjacentBorder;\n    } else if (isNullOrUndefined(adjacentBorder)) {\n      return border;\n    }\n    var borderWeight = border.getBorderWeight();\n    var adjacentBorderWeight = adjacentBorder.getBorderWeight();\n    //the border with higher wight  shall be displayed.\n    if (borderWeight === adjacentBorderWeight) {\n      //if the border is equal weight the based on the priority the border will be choosen to render.\n      var borderPriority = border.getPrecedence();\n      var adjacentBorderPriority = adjacentBorder.getPrecedence();\n      if (borderPriority === adjacentBorderPriority) {\n        //The color with the smaller brightness value shall be displayed.\n        var borderColInRGB = HelperMethods.convertHexToRgb(border.color);\n        var R1 = borderColInRGB.r;\n        var G1 = borderColInRGB.g;\n        var B1 = borderColInRGB.b;\n        var adjacentBorderColInRGB = HelperMethods.convertHexToRgb(adjacentBorder.color);\n        var R2 = adjacentBorderColInRGB.r;\n        var G2 = adjacentBorderColInRGB.g;\n        var B2 = adjacentBorderColInRGB.b;\n        var borderBrightness = R1 + B1 + 2 * G1;\n        var adjacentBorderBrightness = R2 + B2 + 2 * G2;\n        if (borderBrightness === adjacentBorderBrightness) {\n          borderBrightness = B1 + 2 * G1;\n          adjacentBorderBrightness = B2 + 2 * G2;\n          if (borderBrightness === adjacentBorderBrightness) {\n            if (G1 === G2) {\n              return border;\n            } else if (G1 > G2) {\n              return adjacentBorder;\n            } else {\n              return border;\n            }\n          } else if (borderBrightness > adjacentBorderBrightness) {\n            return adjacentBorder;\n          } else {\n            return border;\n          }\n        } else if (borderBrightness > adjacentBorderBrightness) {\n          return adjacentBorder;\n        } else {\n          return border;\n        }\n      } else if (borderPriority > adjacentBorderPriority) {\n        return border;\n      } else {\n        return adjacentBorder;\n      }\n    } else if (borderWeight > adjacentBorderWeight) {\n      return border;\n    } else {\n      return adjacentBorder;\n    }\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getLeftBorderToRenderByHierarchy = function (leftBorder, rowBorders, tableBorders) {\n    var ownerCell = TableCellWidget.getCellOf(leftBorder.ownerBase);\n    if (!isNullOrUndefined(ownerCell)) {\n      var isFirstCell = false;\n      if (ownerCell.columnIndex === 0 || ownerCell.cellIndex === 0 && ownerCell.ownerRow.rowFormat.gridBefore > 0) {\n        isFirstCell = true;\n      }\n      var isRowBorderDefined = !isNullOrUndefined(rowBorders.left) && rowBorders.left.lineStyle !== 'None' && rowBorders.left.isBorderDefined;\n      if (!isNullOrUndefined(leftBorder) && leftBorder.lineStyle === 'None' && (!leftBorder.isBorderDefined || isRowBorderDefined) || isNullOrUndefined(leftBorder)) {\n        if (isFirstCell) {\n          leftBorder = rowBorders.left;\n          if (!isNullOrUndefined(leftBorder) && leftBorder.lineStyle === 'None' || isNullOrUndefined(leftBorder)) {\n            leftBorder = tableBorders.left;\n          }\n        } else {\n          leftBorder = rowBorders.vertical;\n          if (!isNullOrUndefined(leftBorder) && leftBorder.lineStyle === 'None' || isNullOrUndefined(leftBorder)) {\n            leftBorder = tableBorders.vertical;\n          }\n        }\n      }\n    }\n    return leftBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.getCellRightBorder = function (tableCell) {\n    var rightBorder = undefined;\n    var cellBorder = tableCell.cellFormat.borders;\n    var rowBorders = !isNullOrUndefined(tableCell.ownerRow) ? tableCell.ownerRow.rowFormat.borders : undefined;\n    var tableBorders = !isNullOrUndefined(tableCell.ownerTable) ? tableCell.ownerTable.tableFormat.borders : undefined;\n    if (!isNullOrUndefined(cellBorder.right)) {\n      rightBorder = cellBorder.right;\n    }\n    if (isNullOrUndefined(rightBorder)) {\n      rightBorder = tableCell.getRightBorderToRenderByHierarchy(rightBorder, rowBorders, tableBorders);\n    }\n    if (tableCell.ownerTable.tableFormat.cellSpacing > 0) {\n      rightBorder = tableCell.getRightBorderToRenderByHierarchy(rightBorder, rowBorders, tableBorders);\n    } else {\n      var nextCell = this.getNextCell(tableCell);\n      // if the border is shared then choose the border based on Conflict Resolution algorithm.\n      rightBorder = tableCell.getAdjacentCellRightBorder(rightBorder, nextCell);\n    }\n    if (isNullOrUndefined(rightBorder)) {\n      rightBorder = new WBorder(tableCell.cellFormat.borders);\n    }\n    return rightBorder;\n  };\n  TableCellWidget.getNextCell = function (tableCell) {\n    var nextCell = undefined;\n    var columnSpan = tableCell.cellFormat.columnSpan;\n    if (!isNullOrUndefined(tableCell.nextWidget)) {\n      //Validates whether the next cell in same row is adjacent right cell and sets to nextCell.\n      //If the next cell is not in the same row and it is vertically merged, we have handled in serverside\n      //to copy border based on priority of current cell right border and next cell left border.\n      var cell = tableCell.nextWidget;\n      if (tableCell.columnIndex + columnSpan === cell.columnIndex) {\n        nextCell = cell;\n      }\n    }\n    return nextCell;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getAdjacentCellRightBorder = function (rightBorder, nextCell) {\n    if (isNullOrUndefined(nextCell) || !isNullOrUndefined(rightBorder) && rightBorder.lineStyle === 'None' && !rightBorder.hasNoneStyle) {\n      if (!isNullOrUndefined(rightBorder) && !(rightBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n        rightBorder = this.getRightBorderToRenderByHierarchy(rightBorder, TableRowWidget.getRowOf(rightBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(rightBorder.ownerBase).tableFormat.borders);\n      }\n    }\n    if (isNullOrUndefined(nextCell)) {\n      return rightBorder;\n    } else {\n      var nextCellLeftBorder = undefined;\n      if (!isNullOrUndefined(nextCell.cellFormat.borders) && !isNullOrUndefined(nextCell.cellFormat.borders.left) && nextCell.cellFormat.borders.left.lineStyle !== 'None') {\n        nextCellLeftBorder = nextCell.cellFormat.borders.left;\n      }\n      if (!isNullOrUndefined(nextCellLeftBorder) && nextCellLeftBorder.lineStyle !== 'None') {\n        return this.getBorderBasedOnPriority(rightBorder, nextCellLeftBorder);\n      } else if (!isNullOrUndefined(rightBorder) && !(rightBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n        return this.getRightBorderToRenderByHierarchy(rightBorder, TableRowWidget.getRowOf(rightBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(rightBorder.ownerBase).tableFormat.borders);\n      }\n    }\n    return rightBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getRightBorderToRenderByHierarchy = function (rightBorder, rowBorders, tableBorders) {\n    var ownerCell = TableCellWidget.getCellOf(rightBorder.ownerBase);\n    if (!isNullOrUndefined(ownerCell)) {\n      var isLastCell = false;\n      //Have to check lastcell logic\n      if (ownerCell.columnIndex + ownerCell.cellFormat.columnSpan === ownerCell.ownerTable.tableHolder.columns.length || ownerCell.cellIndex === ownerCell.ownerRow.childWidgets.length - 1) {\n        isLastCell = true;\n      }\n      var isRowBorderDefined = !isNullOrUndefined(rowBorders.right) && rowBorders.right.lineStyle !== 'None' && rowBorders.right.isBorderDefined;\n      if (!isNullOrUndefined(rightBorder) && rightBorder.lineStyle === 'None' && (!rightBorder.isBorderDefined || isRowBorderDefined) || isNullOrUndefined(rightBorder)) {\n        if (isLastCell) {\n          rightBorder = rowBorders.right;\n          if (!isNullOrUndefined(rightBorder) && rightBorder.lineStyle === 'None' || isNullOrUndefined(rightBorder)) {\n            rightBorder = tableBorders.right;\n          }\n        } else {\n          rightBorder = rowBorders.vertical;\n          if (!isNullOrUndefined(rightBorder) && rightBorder.lineStyle === 'None' || isNullOrUndefined(rightBorder)) {\n            rightBorder = tableBorders.vertical;\n          }\n        }\n      }\n    }\n    return rightBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.getCellTopBorder = function (tableCell) {\n    var topBorder = undefined;\n    var cellBorder = tableCell.cellFormat.borders;\n    var rowBorders = !isNullOrUndefined(tableCell.ownerRow) ? tableCell.ownerRow.rowFormat.borders : undefined;\n    var tableBorders = !isNullOrUndefined(tableCell.ownerTable) ? tableCell.ownerTable.tableFormat.borders : undefined;\n    if (!isNullOrUndefined(cellBorder.top)) {\n      topBorder = cellBorder.top;\n    }\n    if (isNullOrUndefined(topBorder)) {\n      topBorder = tableCell.getTopBorderToRenderByHierarchy(topBorder, rowBorders, tableBorders);\n    }\n    if (tableCell.ownerTable.tableFormat.cellSpacing > 0) {\n      topBorder = tableCell.getTopBorderToRenderByHierarchy(topBorder, rowBorders, tableBorders);\n    } else {\n      var prevTopCell = tableCell.getTopAdjacentCell();\n      //If the border is shared then choose the border based on Conflict Resolution algorithm.\n      topBorder = tableCell.getPreviousCellTopBorder(topBorder, prevTopCell);\n    }\n    if (isNullOrUndefined(topBorder)) {\n      topBorder = new WBorder(tableCell.cellFormat.borders);\n    }\n    return topBorder;\n  };\n  TableCellWidget.prototype.getTopAdjacentCell = function () {\n    var previousRow = this.ownerRow.previousWidget;\n    var cell;\n    if (!isNullOrUndefined(previousRow)) {\n      cell = previousRow.getVerticalMergeStartCell(this.columnIndex, this.cellFormat.columnSpan);\n    }\n    return cell;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getPreviousCellTopBorder = function (topBorder, previousTopCell) {\n    if (isNullOrUndefined(previousTopCell) || !isNullOrUndefined(topBorder) && topBorder.lineStyle === 'None' && !topBorder.hasNoneStyle) {\n      if (!isNullOrUndefined(topBorder) && !(topBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n        topBorder = this.getTopBorderToRenderByHierarchy(topBorder, TableRowWidget.getRowOf(topBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(topBorder.ownerBase).tableFormat.borders);\n      }\n    }\n    if (isNullOrUndefined(previousTopCell)) {\n      return topBorder;\n    } else {\n      var prevTopCellBottomBorder = undefined;\n      if (!isNullOrUndefined(previousTopCell.cellFormat.borders) && !isNullOrUndefined(previousTopCell.cellFormat.borders.bottom)) {\n        prevTopCellBottomBorder = this.getBottomBorderToRenderByHierarchy(previousTopCell.cellFormat.borders.bottom, previousTopCell.ownerRow.rowFormat.borders, previousTopCell.ownerTable.tableFormat.borders);\n      }\n      if (!isNullOrUndefined(prevTopCellBottomBorder) && prevTopCellBottomBorder.lineStyle !== 'None') {\n        return this.getBorderBasedOnPriority(topBorder, prevTopCellBottomBorder);\n      } else if (!isNullOrUndefined(topBorder) && !(topBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n        return this.getTopBorderToRenderByHierarchy(topBorder, TableRowWidget.getRowOf(topBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(topBorder.ownerBase).tableFormat.borders);\n      }\n    }\n    return topBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getTopBorderToRenderByHierarchy = function (topBorder, rowBorders, tableBorders) {\n    var ownerCell = TableCellWidget.getCellOf(topBorder.ownerBase);\n    if (!isNullOrUndefined(ownerCell)) {\n      var isFirstRow = isNullOrUndefined(ownerCell.ownerRow.previousWidget);\n      var isRowBorderDefined = !isNullOrUndefined(rowBorders.top) && rowBorders.top.lineStyle !== 'None' && rowBorders.top.isBorderDefined;\n      if (!isNullOrUndefined(topBorder) && topBorder.lineStyle === 'None' && (!topBorder.isBorderDefined || isRowBorderDefined) || isNullOrUndefined(topBorder)) {\n        if (isFirstRow) {\n          topBorder = rowBorders.top;\n          if (!isNullOrUndefined(topBorder) && topBorder.lineStyle === 'None' || isNullOrUndefined(topBorder)) {\n            topBorder = tableBorders.top;\n          }\n        } else {\n          topBorder = rowBorders.horizontal;\n          if (!isNullOrUndefined(topBorder) && topBorder.lineStyle === 'None' || isNullOrUndefined(topBorder)) {\n            topBorder = tableBorders.horizontal;\n          }\n        }\n      }\n    }\n    return topBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.getCellBottomBorder = function (tableCell) {\n    var bottomBorder = undefined;\n    var cellBorder = tableCell.cellFormat.borders;\n    var rowBorders = !isNullOrUndefined(tableCell.ownerRow) ? tableCell.ownerRow.rowFormat.borders : undefined;\n    var tableBorders = !isNullOrUndefined(tableCell.ownerTable) ? tableCell.ownerTable.tableFormat.borders : undefined;\n    if (!isNullOrUndefined(cellBorder.bottom)) {\n      bottomBorder = cellBorder.bottom;\n    }\n    if (isNullOrUndefined(bottomBorder)) {\n      bottomBorder = tableCell.getBottomBorderToRenderByHierarchy(bottomBorder, rowBorders, tableBorders); // select the left border based on heirarchy.\n    }\n    if (tableCell.ownerTable.tableFormat.cellSpacing > 0) {\n      bottomBorder = tableCell.getBottomBorderToRenderByHierarchy(bottomBorder, rowBorders, tableBorders);\n    } else {\n      var nextBottomCell = undefined;\n      var nextRow = undefined;\n      var rowSpan = tableCell.cellFormat.rowSpan;\n      if (rowSpan === 1) {\n        nextRow = tableCell.ownerRow.nextWidget;\n      } else if (rowSpan > 1) {\n        var row = tableCell.containerWidget;\n        do {\n          row = row.nextWidget;\n          if (isNullOrUndefined(row)) {\n            break;\n          } else if (row.index === tableCell.rowIndex + rowSpan) {\n            nextRow = row;\n            break;\n          }\n        } while (row);\n      }\n      if (!isNullOrUndefined(nextRow)) {\n        nextBottomCell = nextRow.getCellWidget(tableCell.columnIndex, tableCell.cellFormat.columnSpan);\n      }\n      //If the border is shared then choose the border based on Conflict Resolution algorithm.\n      bottomBorder = tableCell.getAdjacentCellBottomBorder(bottomBorder, nextBottomCell);\n    }\n    if (isNullOrUndefined(bottomBorder)) {\n      bottomBorder = new WBorder(tableCell.cellFormat.borders);\n    }\n    return bottomBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getAdjacentCellBottomBorder = function (bottomBorder, nextBottomCell) {\n    if (isNullOrUndefined(nextBottomCell) || !isNullOrUndefined(bottomBorder) && bottomBorder.lineStyle === 'None' && !bottomBorder.hasNoneStyle) {\n      if (!isNullOrUndefined(bottomBorder) && !(bottomBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n        bottomBorder = this.getBottomBorderToRenderByHierarchy(bottomBorder, TableRowWidget.getRowOf(bottomBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(bottomBorder.ownerBase).tableFormat.borders);\n      }\n    }\n    if (isNullOrUndefined(nextBottomCell)) {\n      return bottomBorder;\n    } else {\n      var prevBottomCellTopBorder = undefined;\n      if (!isNullOrUndefined(nextBottomCell.cellFormat.borders) && !isNullOrUndefined(nextBottomCell.cellFormat.borders.top) && nextBottomCell.cellFormat.borders.top.lineStyle !== 'None') {\n        prevBottomCellTopBorder = nextBottomCell.cellFormat.borders.top;\n      }\n      if (!isNullOrUndefined(prevBottomCellTopBorder) && prevBottomCellTopBorder.lineStyle !== 'None') {\n        return this.getBorderBasedOnPriority(bottomBorder, prevBottomCellTopBorder);\n      } else if (!isNullOrUndefined(bottomBorder) && !(bottomBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n        return this.getBottomBorderToRenderByHierarchy(bottomBorder, TableRowWidget.getRowOf(bottomBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(bottomBorder.ownerBase).tableFormat.borders);\n      }\n    }\n    return bottomBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getBottomBorderToRenderByHierarchy = function (bottomBorder, rowBorders, tableBorders) {\n    var ownerCell = TableCellWidget.getCellOf(bottomBorder.ownerBase);\n    if (!isNullOrUndefined(ownerCell)) {\n      var isLastRow = isNullOrUndefined(ownerCell.ownerRow.nextWidget);\n      var isRowBorderDefined = !isNullOrUndefined(rowBorders.bottom) && rowBorders.bottom.lineStyle !== 'None' && rowBorders.bottom.isBorderDefined;\n      if (!isNullOrUndefined(bottomBorder) && bottomBorder.lineStyle === 'None' && (!bottomBorder.isBorderDefined || isRowBorderDefined) || isNullOrUndefined(bottomBorder)) {\n        if (isLastRow) {\n          bottomBorder = rowBorders.bottom;\n          if (!isNullOrUndefined(bottomBorder) && bottomBorder.lineStyle === 'None' || isNullOrUndefined(bottomBorder)) {\n            bottomBorder = tableBorders.bottom;\n          }\n        } else {\n          bottomBorder = rowBorders.horizontal;\n          if (!isNullOrUndefined(bottomBorder) && bottomBorder.lineStyle === 'None' || isNullOrUndefined(bottomBorder)) {\n            bottomBorder = tableBorders.horizontal;\n          }\n        }\n      }\n    }\n    return bottomBorder;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.getCellOf = function (node) {\n    if (node instanceof WBorders) {\n      if (node.ownerBase instanceof WCellFormat && node.ownerBase.ownerBase instanceof TableCellWidget) {\n        return node.ownerBase.ownerBase;\n      } else {\n        return undefined;\n      }\n    }\n    return undefined;\n  };\n  /**\n   * Updates the Widget left.\n   * @private\n   */\n  TableCellWidget.prototype.updateWidgetLeft = function (x) {\n    this.x = x;\n    this.updateChildWidgetLeft(x);\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.updateChildWidgetLeft = function (left, updateLeftIndent) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var widget = this.childWidgets[i];\n      widget.x = left;\n      if (updateLeftIndent && widget instanceof ParagraphWidget) {\n        widget.x = left + HelperMethods.convertPointToPixel(widget.leftIndent);\n      }\n      if (widget instanceof TableWidget) {\n        var tableWidget = widget;\n        tableWidget.updateChildWidgetLeft(left, updateLeftIndent);\n        if (tableWidget.isBidiTable) {\n          var clientArea = new Rect(tableWidget.x, tableWidget.y, tableWidget.width, tableWidget.height);\n          tableWidget.shiftWidgetsForRtlTable(clientArea, tableWidget);\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var block = this.childWidgets[i];\n      var widthInfo = block.getMinimumAndMaximumWordWidth(minimumWordWidth, maximumWordWidth);\n      minimumWordWidth = widthInfo.minimumWordWidth;\n      maximumWordWidth = widthInfo.maximumWordWidth;\n    }\n    return {\n      'minimumWordWidth': minimumWordWidth,\n      'maximumWordWidth': maximumWordWidth\n    };\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.destroyInternal = function (viewer) {\n    // let viewer: LayoutViewer = undefined;\n    // let page: Page = this.getPage();\n    // if (!isNullOrUndefined(page ))\n    //     viewer = page.viewer;\n    if (!isNullOrUndefined(this.childWidgets)) {\n      for (var i = 0; i < this.childWidgets.length; i++) {\n        var widget = this.childWidgets[i];\n        if (widget instanceof ParagraphWidget) {\n          widget.destroyInternal(viewer);\n        } else {\n          widget.destroyInternal(viewer);\n        }\n        i--;\n      }\n      this.childWidgets = undefined;\n      if (!isNullOrUndefined(viewer.documentHelper.selection)) {\n        if (viewer.documentHelper.selection.selectedWidgets.containsKey(this)) {\n          viewer.documentHelper.selection.selectedWidgets.remove(this);\n        }\n      }\n    }\n    this.destroy();\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.clone = function () {\n    var cell = new TableCellWidget();\n    cell.cellFormat.copyFormat(this.cellFormat);\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var block = this.childWidgets[i].clone();\n      cell.childWidgets.push(block);\n      block.containerWidget = cell;\n      block.index = i;\n    }\n    cell.leftBorderWidth = this.leftBorderWidth;\n    cell.rightBorderWidth = this.rightBorderWidth;\n    cell.isRenderBookmarkEnd = this.isRenderBookmarkEnd;\n    cell.isRenderBookmarkStart = this.isRenderBookmarkStart;\n    if (this.margin) {\n      cell.margin = this.margin.clone();\n    }\n    cell.columnIndex = this.columnIndex;\n    cell.x = this.x;\n    cell.y = this.y;\n    cell.height = this.height;\n    cell.width = this.width;\n    if (this.contentControlProperties) {\n      cell.contentControlProperties = this.contentControlProperties;\n    }\n    return cell;\n  };\n  /**\n   * @private\n   */\n  TableCellWidget.prototype.destroy = function () {\n    // if (this.cellFormat) {\n    //     this.cellFormat.destroy();\n    // }\n    this.cellFormat = undefined;\n    this.rowIndex = undefined;\n    this.columnIndex = undefined;\n    this.isSplittedCell = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  TableCellWidget.prototype.componentDestroy = function () {\n    if (this.cellFormat) {\n      this.cellFormat.destroy();\n    }\n    this.cellFormat = undefined;\n    this.contentControlProperties = undefined;\n    this.rowIndex = undefined;\n    this.columnIndex = undefined;\n    this.isRenderBookmarkStart = undefined;\n    this.isRenderBookmarkEnd = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return TableCellWidget;\n}(BlockWidget);\nexport { TableCellWidget };\n/**\n * @private\n */\nvar LineWidget = /** @class */function () {\n  /**\n   * Initialize the constructor of LineWidget\n   */\n  function LineWidget(paragraphWidget) {\n    /**\n     * @private\n     */\n    this.children = [];\n    /**\n     * @private\n     */\n    this.x = 0;\n    /**\n     * @private\n     */\n    this.y = 0;\n    /**\n     * @private\n     */\n    this.width = 0;\n    /**\n     * @private\n     */\n    this.height = 0;\n    /**\n     * @private\n     */\n    this.marginTop = 0;\n    /**\n     * @private\n     */\n    this.maxBaseLine = 0;\n    /**\n    * @private\n    */\n    this.skipClipImage = false;\n    this.paragraph = paragraphWidget;\n  }\n  Object.defineProperty(LineWidget.prototype, \"renderedElements\", {\n    /**\n     * Rendered elements contains reordered element for RTL layout\n     */\n    get: function () {\n      if (!isNullOrUndefined(this.layoutedElements)) {\n        return this.layoutedElements;\n      }\n      return this.children;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LineWidget.prototype, \"indexInOwner\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.paragraph && this.paragraph.childWidgets) {\n        return this.paragraph.childWidgets.indexOf(this);\n      }\n      return -1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LineWidget.prototype, \"nextLine\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var paragraph = this.paragraph;\n      var lineIndex = this.indexInOwner;\n      if (lineIndex <= paragraph.childWidgets.length - 2) {\n        return paragraph.childWidgets[lineIndex + 1];\n      } else if (paragraph.nextSplitWidget) {\n        var line = paragraph.nextSplitWidget.firstChild;\n        if (line instanceof LineWidget && line.paragraph.equals(this.paragraph)) {\n          return line;\n        }\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LineWidget.prototype, \"previousLine\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var paragraph = this.paragraph;\n      var lineIndex = this.indexInOwner;\n      var splitParagraph = paragraph.previousSplitWidget;\n      if (lineIndex > 0) {\n        return paragraph.childWidgets[lineIndex - 1];\n      } else if (splitParagraph instanceof ParagraphWidget) {\n        var line = splitParagraph.lastChild;\n        if (line instanceof LineWidget && line.paragraph.equals(this.paragraph)) {\n          return line;\n        }\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LineWidget.prototype, \"isEndsWithPageBreak\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.children.length > 0) {\n        var lastElement = this.children[this.children.length - 1];\n        if (lastElement instanceof TextElementBox) {\n          return lastElement.isPageBreak;\n        }\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LineWidget.prototype, \"isEndsWithColumnBreak\", {\n    get: function () {\n      if (this.children.length > 0) {\n        var lastElement = this.children[this.children.length - 1];\n        if (lastElement instanceof TextElementBox) {\n          return lastElement.isColumnBreak;\n        }\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(LineWidget.prototype, \"isEndsWithLineBreak\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.children.length > 0) {\n        var lastElement = this.children[this.children.length - 1];\n        if (lastElement instanceof TextElementBox) {\n          return lastElement.text === '\\v';\n        }\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  LineWidget.prototype.isFirstLine = function () {\n    var index = this.indexInOwner;\n    if (index > -1 && (this.paragraph.previousSplitWidget === undefined || this.paragraph.previousSplitWidget instanceof ParagraphWidget && (this.paragraph.previousSplitWidget.isEndsWithColumnBreak || this.paragraph.previousSplitWidget.isEndsWithPageBreak))) {\n      return index === 0;\n    }\n    return false;\n  };\n  /**\n   * @private\n   */\n  LineWidget.prototype.isLastLine = function () {\n    var index = this.indexInOwner;\n    if (index > -1 && this.paragraph.nextSplitWidget === undefined) {\n      return index === this.paragraph.childWidgets.length - 1;\n    }\n    return false;\n  };\n  /**\n   * @private\n   */\n  LineWidget.prototype.getOffset = function (inline, index) {\n    if (isNullOrUndefined(inline)) {\n      return index;\n    }\n    var textIndex = index;\n    var line = inline.line;\n    for (var i = 0; i < line.children.length; i++) {\n      var inlineElement = line.children[i];\n      if (inline === inlineElement) {\n        break;\n      }\n      if (inlineElement instanceof ListTextElementBox) {\n        continue;\n      }\n      textIndex += inlineElement.length;\n    }\n    return textIndex;\n  };\n  /**\n   * @private\n   */\n  LineWidget.prototype.getEndOffset = function () {\n    var startOffset = 0;\n    var count = 0;\n    for (var i = 0; i < this.children.length; i++) {\n      var inlineElement = this.children[i];\n      if (inlineElement.length === 0) {\n        continue;\n      }\n      if (inlineElement instanceof ListTextElementBox) {\n        continue;\n      }\n      if (inlineElement instanceof TextElementBox || inlineElement instanceof CommentCharacterElementBox || inlineElement instanceof EditRangeStartElementBox || inlineElement instanceof ImageElementBox || inlineElement instanceof EditRangeEndElementBox || inlineElement instanceof BookmarkElementBox || inlineElement instanceof ContentControl || inlineElement instanceof FieldElementBox && HelperMethods.isLinkedFieldCharacter(inlineElement)) {\n        startOffset = count + inlineElement.length;\n      }\n      count += inlineElement.length;\n    }\n    return startOffset;\n  };\n  /**\n   * @private\n   */\n  LineWidget.prototype.getInline = function (offset, indexInInline, bidi, isInsert, isSpellCheck) {\n    bidi = isNullOrUndefined(bidi) ? this.paragraph.bidi : bidi;\n    var inlineElement = undefined;\n    var count = 0;\n    var isStarted = false;\n    if (this.children.length === 0) {\n      if (this.previousLine) {\n        var elementBox = this.previousLine.children[this.previousLine.children.length - 1];\n        if (elementBox instanceof TextElementBox && elementBox.text === '\\v') {\n          inlineElement = this.previousLine.children[this.previousLine.children.length - 1];\n          indexInInline = 1;\n          return {\n            'element': inlineElement,\n            'index': indexInInline\n          };\n        }\n      }\n    }\n    for (var i = 0; i < this.children.length; i++) {\n      inlineElement = this.children[i];\n      if (inlineElement instanceof ListTextElementBox) {\n        continue;\n      }\n      if (!isStarted && (inlineElement instanceof TextElementBox || inlineElement instanceof ImageElementBox || inlineElement instanceof ShapeElementBox || inlineElement instanceof ContentControl || inlineElement instanceof BookmarkElementBox || inlineElement instanceof EditRangeEndElementBox || inlineElement instanceof EditRangeStartElementBox || inlineElement instanceof CommentCharacterElementBox || inlineElement instanceof FieldElementBox && HelperMethods.isLinkedFieldCharacter(inlineElement))) {\n        isStarted = true;\n      }\n      if (isStarted && offset <= count + inlineElement.length) {\n        if (inlineElement instanceof TextElementBox && inlineElement.text === ' ' && inlineElement.revisions.length === 0 && isInsert && !isSpellCheck) {\n          var currentElement = this.getNextTextElement(this, i + 1);\n          inlineElement = !isNullOrUndefined(currentElement) ? currentElement : inlineElement;\n          indexInInline = isNullOrUndefined(currentElement) ? offset - count : 0;\n          return {\n            'element': inlineElement,\n            'index': indexInInline\n          };\n        } else if (offset === count + inlineElement.length && this.children[i + 1] instanceof FootnoteElementBox) {\n          return {\n            'element': this.children[i + 1],\n            'index': indexInInline\n          };\n        } else {\n          indexInInline = offset - count;\n        }\n        return {\n          'element': inlineElement,\n          'index': indexInInline\n        };\n      }\n      count += inlineElement.length;\n    }\n    if (offset > count) {\n      indexInInline = isNullOrUndefined(inlineElement) ? offset : inlineElement.length;\n    }\n    return {\n      'element': inlineElement,\n      'index': indexInInline\n    };\n  };\n  /**\n   * Method to retrieve next element\n   * @param line\n   * @param index\n   */\n  LineWidget.prototype.getNextTextElement = function (line, index) {\n    if (index < line.children.length - 1 && line.children[index]) {\n      return line.children[index];\n    }\n    return null;\n  };\n  /**\n   * @private\n   */\n  LineWidget.prototype.getHierarchicalIndex = function (hierarchicalIndex) {\n    var node = this;\n    hierarchicalIndex = node.paragraph.childWidgets.indexOf(node) + ';' + hierarchicalIndex;\n    if (node.paragraph instanceof BlockWidget) {\n      return node.paragraph.getHierarchicalIndex(hierarchicalIndex);\n    }\n    return hierarchicalIndex;\n  };\n  /**\n   * @private\n   */\n  LineWidget.prototype.clone = function () {\n    var line = new LineWidget(undefined);\n    for (var j = 0; j < this.children.length; j++) {\n      var element = this.children[j];\n      var clone = element.clone();\n      line.children.push(clone);\n      clone.line = line;\n    }\n    line.width = this.width;\n    line.height = this.height;\n    if (!isNullOrUndefined(this.margin)) {\n      line.margin = this.margin.clone();\n    }\n    return line;\n  };\n  /**\n   * @private\n   */\n  LineWidget.prototype.destroy = function () {\n    if (!isNullOrUndefined(this.children)) {\n      for (var i = 0; i < this.children.length; i++) {\n        this.children[i].destroy();\n      }\n      this.children = [];\n    }\n    this.children = undefined;\n    if (this.paragraph) {\n      this.paragraph.removeChild(this.indexInOwner);\n    }\n    this.paragraph = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.width = undefined;\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  LineWidget.prototype.componentDestroy = function () {\n    if (!isNullOrUndefined(this.children)) {\n      for (var i = 0; i < this.children.length; i++) {\n        var elementBox = this.children[i];\n        elementBox.componentDestroy();\n      }\n      this.children = [];\n    }\n    this.children = undefined;\n    this.paragraph = undefined;\n    this.layoutedElements = [];\n    this.layoutedElements = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.width = undefined;\n    this.height = undefined;\n  };\n  return LineWidget;\n}();\nexport { LineWidget };\n/**\n * @private\n */\nvar ElementBox = /** @class */function () {\n  /**\n   * Initialize the constructor of ElementBox\n   */\n  function ElementBox() {\n    /**\n     * @private\n     */\n    this.x = 0;\n    /**\n     * @private\n     */\n    this.y = 0;\n    /**\n     * @private\n     */\n    this.width = 0;\n    /**\n     * @private\n     */\n    this.height = 0;\n    /**\n     * @private\n     */\n    this.margin = new Margin(0, 0, 0, 0);\n    /**\n     * @private\n     */\n    this.padding = new Margin(0, 0, 0, 0);\n    /**\n     * @private\n     */\n    this.characterFormat = undefined;\n    /**\n     * @private\n     */\n    this.isRightToLeft = false;\n    /**\n     * @private\n     */\n    this.canTrigger = false;\n    /**\n     * @private\n     */\n    this.ischangeDetected = false;\n    /**\n     * @private\n     */\n    this.isVisible = false;\n    /**\n     * @private\n     */\n    this.isSpellChecked = false;\n    /**\n     * @private\n     */\n    this.revisions = [];\n    /**\n     * @private\n     */\n    this.canTrack = false;\n    /**\n     * @private\n     */\n    this.removedIds = [];\n    /**\n     * @private\n     */\n    this.isMarkedForRevision = false;\n    /**\n     * @private\n     */\n    this.skipformFieldLength = false;\n    /**\n     * @private\n     */\n    this.characterRange = undefined;\n    this.characterFormat = new WCharacterFormat(this);\n    this.margin = new Margin(0, 0, 0, 0);\n  }\n  Object.defineProperty(ElementBox.prototype, \"isPageBreak\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this instanceof TextElementBox) {\n        return this.text === '\\f';\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"isColumnBreak\", {\n    get: function () {\n      if (this instanceof TextElementBox) {\n        return this.text === String.fromCharCode(14);\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"isValidNodeForTracking\", {\n    /**\n     * @private\n     * Method to indicate whether current element is trackable.\n     */\n    get: function () {\n      if (this instanceof BookmarkElementBox || this instanceof CommentCharacterElementBox || this instanceof EditRangeStartElementBox || this instanceof EditRangeEndElementBox || this instanceof ContentControl) {\n        return false;\n      }\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"isCheckBoxElement\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var element = this;\n      if (element instanceof TextElementBox && !isNullOrUndefined(element.text)) {\n        return element.text === String.fromCharCode(9745) || element.text === String.fromCharCode(9744);\n      }\n      return false;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ElementBox.prototype.linkFieldCharacter = function (documentHelper) {\n    if (!(this instanceof FieldElementBox)) {\n      return;\n    }\n    if (this.fieldType === 0) {\n      var fieldBegin = this;\n      if (isNullOrUndefined(fieldBegin.fieldEnd)) {\n        this.linkFieldTraversingForward(this.line, fieldBegin, fieldBegin);\n        if (documentHelper.fields.indexOf(fieldBegin) === -1) {\n          documentHelper.fields.push(fieldBegin);\n        }\n        if (!isNullOrUndefined(fieldBegin.formFieldData) && documentHelper.formFields.indexOf(fieldBegin) === -1 && !documentHelper.layout.isInsertFormField) {\n          documentHelper.formFields.push(fieldBegin);\n        }\n      }\n    } else if (this.fieldType === 2) {\n      var fieldSeparator = this;\n      //Links the field begin for the current separator.\n      if (isNullOrUndefined(fieldSeparator.fieldBegin)) {\n        this.linkFieldTraversingBackwardSeparator(this.line, fieldSeparator, fieldSeparator);\n      }\n      if (!isNullOrUndefined(fieldSeparator.fieldBegin)) {\n        fieldSeparator.fieldBegin.fieldSeparator = fieldSeparator;\n        //Links to field end traversing from field separator.\n        if (isNullOrUndefined(fieldSeparator.fieldEnd)) {\n          var isFieldEnd = this.linkFieldTraversingForward(this.line, fieldSeparator.fieldBegin, fieldSeparator);\n          if (isFieldEnd) {\n            fieldSeparator.fieldEnd = fieldSeparator.fieldBegin.fieldEnd;\n          }\n        }\n        if (fieldSeparator.fieldEnd) {\n          fieldSeparator.fieldEnd.fieldSeparator = fieldSeparator;\n        }\n      }\n    } else {\n      var fieldEnd = this;\n      //Links the field begin and separator for the current end.\n      if (isNullOrUndefined(fieldEnd.fieldBegin)) {\n        this.linkFieldTraversingBackward(this.line, fieldEnd, fieldEnd);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  ElementBox.prototype.linkFieldTraversingBackward = function (line, fieldEnd, previousNode) {\n    var k = line.children.length - 1;\n    if (line.children.indexOf(previousNode) > -1) {\n      k = line.children.indexOf(previousNode) - 1;\n    }\n    for (var j = k; j >= 0; j--) {\n      var childNode = line.children[j];\n      if (childNode instanceof FieldElementBox) {\n        if (childNode.fieldType === 0) {\n          if (isNullOrUndefined(childNode.fieldEnd)) {\n            fieldEnd.fieldBegin = childNode;\n            if (isNullOrUndefined(childNode.fieldEnd)) {\n              childNode.fieldEnd = fieldEnd;\n            }\n            if (fieldEnd.fieldSeparator && isNullOrUndefined(fieldEnd.fieldSeparator.fieldBegin)) {\n              fieldEnd.fieldSeparator.fieldBegin = childNode;\n              if (isNullOrUndefined(childNode.fieldSeparator)) {\n                childNode.fieldSeparator = fieldEnd.fieldSeparator;\n              }\n            }\n            return !isNullOrUndefined(fieldEnd.fieldBegin);\n          }\n        } else if (childNode.fieldType === 2 && isNullOrUndefined(childNode.fieldEnd)) {\n          fieldEnd.fieldSeparator = childNode;\n          childNode.fieldEnd = fieldEnd;\n          if (!isNullOrUndefined(childNode.fieldBegin)) {\n            fieldEnd.fieldBegin = childNode.fieldBegin;\n          }\n        }\n      }\n    }\n    if (line.previousLine) {\n      this.linkFieldTraversingBackward(line.previousLine, fieldEnd, this);\n    } else if (line.paragraph.previousRenderedWidget instanceof ParagraphWidget && line.paragraph.previousRenderedWidget.childWidgets.length > 0) {\n      var prevParagraph = line.paragraph.previousRenderedWidget;\n      this.linkFieldTraversingBackward(prevParagraph.childWidgets[prevParagraph.childWidgets.length - 1], fieldEnd, this);\n    }\n    return true;\n  };\n  /**\n   * @private\n   */\n  ElementBox.prototype.linkFieldTraversingForward = function (line, fieldBegin, previousNode) {\n    var i = 0;\n    if (line.children.indexOf(previousNode) > -1) {\n      i = line.children.indexOf(previousNode) + 1;\n    }\n    for (var j = i; j < line.children.length; j++) {\n      var node = line.children[j];\n      if (node instanceof FieldElementBox) {\n        if (node.fieldType === 1) {\n          if (isNullOrUndefined(node.fieldBegin)) {\n            fieldBegin.fieldEnd = node;\n          }\n          if (fieldBegin.fieldEnd && isNullOrUndefined(fieldBegin.fieldEnd.fieldBegin)) {\n            fieldBegin.fieldEnd.fieldBegin = fieldBegin;\n          }\n          return true;\n        } else if (isNullOrUndefined(fieldBegin.fieldSeparator)) {\n          if (node.fieldType === 2 && isNullOrUndefined(node.fieldBegin)) {\n            fieldBegin.fieldSeparator = node;\n            if (fieldBegin.fieldSeparator && isNullOrUndefined(fieldBegin.fieldSeparator.fieldBegin)) {\n              fieldBegin.fieldSeparator.fieldBegin = fieldBegin;\n            }\n            if (!isNullOrUndefined(node.fieldEnd)) {\n              fieldBegin.fieldEnd = node.fieldEnd;\n              fieldBegin.fieldSeparator.fieldEnd = fieldBegin.fieldEnd;\n              return true;\n            }\n          } else {\n            return false;\n          }\n        }\n      }\n    }\n    if (line.nextLine) {\n      this.linkFieldTraversingForward(line.nextLine, fieldBegin, this);\n    } else if (line.paragraph.nextRenderedWidget instanceof ParagraphWidget && line.paragraph.nextRenderedWidget.childWidgets.length > 0) {\n      this.linkFieldTraversingForward(line.paragraph.nextRenderedWidget.childWidgets[0], fieldBegin, this);\n    } else if (line.paragraph.nextRenderedWidget instanceof TableWidget) {\n      var tableWidget = line.paragraph.nextRenderedWidget;\n      tableWidget = tableWidget.getSplitWidgets().pop();\n      if (!isNullOrUndefined(tableWidget.nextRenderedWidget) && tableWidget.nextRenderedWidget instanceof ParagraphWidget && tableWidget.nextRenderedWidget.childWidgets.length > 0) {\n        this.linkFieldTraversingForward(tableWidget.nextRenderedWidget.childWidgets[0], fieldBegin, this);\n      }\n    }\n    return true;\n  };\n  /**\n   * @private\n   */\n  ElementBox.prototype.linkFieldTraversingBackwardSeparator = function (line, fieldSeparator, previousNode) {\n    var index = line.children.length - 1;\n    if (line.children.indexOf(previousNode) > -1) {\n      index = line.children.indexOf(previousNode) - 1;\n    }\n    for (var i = index; i >= 0; i--) {\n      var childElement = line.children[i];\n      if (childElement instanceof FieldElementBox) {\n        if (childElement instanceof FieldElementBox && childElement.fieldType === 0) {\n          if (isNullOrUndefined(childElement.fieldSeparator)) {\n            fieldSeparator.fieldBegin = childElement;\n          }\n          return !isNullOrUndefined(fieldSeparator.fieldBegin);\n        }\n      }\n    }\n    if (line.previousLine) {\n      this.linkFieldTraversingBackwardSeparator(line.previousLine, fieldSeparator, this);\n    } else if (line.paragraph.previousRenderedWidget instanceof ParagraphWidget && line.paragraph.previousRenderedWidget.childWidgets.length > 0) {\n      line = line.paragraph.previousRenderedWidget.childWidgets[line.paragraph.previousRenderedWidget.childWidgets.length - 1];\n      this.linkFieldTraversingBackwardSeparator(line, fieldSeparator, this);\n    } else {\n      return true;\n    }\n    return true;\n  };\n  Object.defineProperty(ElementBox.prototype, \"length\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.getLength();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"indexInOwner\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.line instanceof LineWidget && this.line.children ? this.line.children.indexOf(this) : -1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"previousElement\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var index = this.indexInOwner;\n      if (index > 0 && index < this.line.children.length) {\n        return this.line.children[index - 1];\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"nextElement\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var index = this.indexInOwner;\n      if (index > -1 && index < this.line.children.length - 1) {\n        return this.line.children[index + 1];\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"nextNode\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var index = this.line.children.indexOf(this);\n      var lineIndex = this.line.paragraph.childWidgets.indexOf(this.line);\n      if (index < this.line.children.length - 1) {\n        return this.line.children[index + 1];\n      } else if (lineIndex < this.line.paragraph.childWidgets.length - 1) {\n        return this.line.paragraph.childWidgets[lineIndex + 1].children[0];\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"nextValidNodeForTracking\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var elementBox = this;\n      while (!isNullOrUndefined(elementBox) && (elementBox instanceof BookmarkElementBox || elementBox instanceof CommentCharacterElementBox || elementBox instanceof EditRangeStartElementBox || elementBox instanceof EditRangeEndElementBox || elementBox instanceof ContentControl)) {\n        elementBox = elementBox.nextNode;\n      }\n      return elementBox;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"previousValidNodeForTracking\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var elementBox = this;\n      while (!isNullOrUndefined(elementBox) && (elementBox instanceof BookmarkElementBox || elementBox instanceof CommentCharacterElementBox || elementBox instanceof EditRangeStartElementBox || elementBox instanceof EditRangeEndElementBox || elementBox instanceof ContentControl)) {\n        elementBox = elementBox.previousNode;\n      }\n      return elementBox;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"previousNode\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var index = this.line.children.indexOf(this);\n      var lineIndex = this.line.paragraph.childWidgets.indexOf(this.line);\n      if (index > 0) {\n        return this.line.children[index - 1];\n      } else if (lineIndex > 0) {\n        var lineWidget = this.line.paragraph.childWidgets[lineIndex - 1];\n        return lineWidget.children[lineWidget.children.length - 1];\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ElementBox.prototype, \"paragraph\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.line) {\n        return this.line.paragraph;\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ElementBox.prototype.destroy = function () {\n    if (!isNullOrUndefined(this.line) && this.line.children && this.line.children.indexOf(this) > -1) {\n      var index = this.line.children.indexOf(this);\n      this.line.children.splice(index, 1);\n    }\n    this.line = undefined;\n    if (this.characterFormat) {\n      this.characterFormat.destroy();\n    }\n    this.characterFormat = undefined;\n    if (this.margin) {\n      this.margin.destroy();\n    }\n    this.margin = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.width = undefined;\n    this.height = undefined;\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  ElementBox.prototype.componentDestroy = function () {\n    if (this.characterFormat) {\n      this.characterFormat.destroy();\n    }\n    this.characterFormat = undefined;\n    if (this.margin) {\n      this.margin.destroy();\n    }\n    this.margin = undefined;\n    if (this.padding) {\n      this.padding.destroy();\n    }\n    this.padding = undefined;\n    this.contentControlProperties = undefined;\n    this.line = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.width = undefined;\n    this.height = undefined;\n  };\n  /**\n   * @private\n   */\n  ElementBox.objectCharacter = String.fromCharCode(65532);\n  return ElementBox;\n}();\nexport { ElementBox };\n/**\n * @private\n */\nvar FieldElementBox = /** @class */function (_super) {\n  __extends(FieldElementBox, _super);\n  function FieldElementBox(type) {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.fieldType = 0;\n    /**\n     * @private\n     */\n    _this.fieldCodeType = '';\n    /**\n     * @private\n     */\n    _this.hasFieldEnd = false;\n    /**\n    * @private\n    */\n    _this.fieldBeginInternal = undefined;\n    _this.fieldSeparatorInternal = undefined;\n    _this.fieldEndInternal = undefined;\n    _this.fieldType = type;\n    return _this;\n  }\n  Object.defineProperty(FieldElementBox.prototype, \"fieldBegin\", {\n    get: function () {\n      return this.fieldBeginInternal;\n    },\n    set: function (field) {\n      this.fieldBeginInternal = field;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FieldElementBox.prototype, \"fieldSeparator\", {\n    get: function () {\n      return this.fieldSeparatorInternal;\n    },\n    set: function (field) {\n      this.fieldSeparatorInternal = field;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FieldElementBox.prototype, \"fieldEnd\", {\n    get: function () {\n      return this.fieldEndInternal;\n    },\n    set: function (field) {\n      this.fieldEndInternal = field;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FieldElementBox.prototype, \"resultText\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (!isNullOrUndefined(this.formFieldData) && this.fieldType === 0 && !isNullOrUndefined(this.fieldSeparator) && !isNullOrUndefined(this.fieldEnd)) {\n        var textElement = this.fieldSeparator.nextElement;\n        var text = '';\n        do {\n          if (textElement instanceof TextElementBox) {\n            text += textElement.text;\n          }\n          textElement = textElement.nextNode;\n          if (textElement === this.fieldEnd) {\n            break;\n          }\n        } while (textElement);\n        return text;\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  FieldElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  /**\n   * @private\n   */\n  FieldElementBox.prototype.clone = function () {\n    var field = new FieldElementBox(this.fieldType);\n    if (this.fieldType === 0 && !isNullOrUndefined(this.formFieldData)) {\n      field.formFieldData = this.formFieldData.clone();\n    }\n    field.characterFormat.copyFormat(this.characterFormat);\n    if (this.margin) {\n      field.margin = this.margin.clone();\n    }\n    field.width = this.width;\n    field.height = this.height;\n    if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n      if (this.revisions.length > 0) {\n        for (var i = 0; i < this.revisions.length; i++) {\n          var revision = this.revisions[i];\n          field.revisions.push(revision.clone());\n        }\n      }\n    } else {\n      if (this.revisions.length > 0) {\n        field.removedIds = Revision.cloneRevisions(this.revisions);\n      } else {\n        field.removedIds = this.removedIds.slice();\n      }\n    }\n    field.fieldCodeType = this.fieldCodeType;\n    return field;\n  };\n  /**\n   * @private\n   */\n  FieldElementBox.prototype.destroy = function () {\n    this.fieldType = undefined;\n    this.hasFieldEnd = undefined;\n    this.fieldBeginInternal = undefined;\n    this.fieldEndInternal = undefined;\n    this.fieldSeparatorInternal = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  FieldElementBox.prototype.componentDestroy = function () {\n    if (this.formFieldData) {\n      this.formFieldData.destroy();\n    }\n    this.formFieldData = undefined;\n    this.fieldCodeType = undefined;\n    this.fieldBeginInternal = undefined;\n    this.fieldEndInternal = undefined;\n    this.fieldSeparatorInternal = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return FieldElementBox;\n}(ElementBox);\nexport { FieldElementBox };\n/**\n * @private\n */\nvar FormField = /** @class */function () {\n  function FormField() {\n    /*\n     * @private\n     */\n    this.name = '';\n    /**\n     * @private\n     */\n    this.enabled = true;\n    /**\n     * @private\n     */\n    this.helpText = '';\n    /**\n     * @private\n     */\n    this.statusText = '';\n  }\n  /**\n   * @private\n   */\n  FormField.prototype.destroy = function () {\n    this.name = undefined;\n    this.helpText = undefined;\n    this.statusText = undefined;\n  };\n  return FormField;\n}();\nexport { FormField };\n/**\n * @private\n */\nvar TextFormField = /** @class */function (_super) {\n  __extends(TextFormField, _super);\n  function TextFormField() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.type = 'Text';\n    /**\n     * @private\n     */\n    _this.maxLength = 0;\n    /**\n     * @private\n     */\n    _this.defaultValue = '';\n    /**\n     * @private\n     */\n    _this.format = '';\n    return _this;\n  }\n  /**\n   * @private\n   */\n  TextFormField.prototype.clone = function () {\n    var textForm = new TextFormField();\n    textForm.type = this.type;\n    textForm.name = this.name;\n    textForm.enabled = this.enabled;\n    textForm.helpText = this.helpText;\n    textForm.statusText = this.statusText;\n    textForm.maxLength = this.maxLength;\n    textForm.defaultValue = this.defaultValue;\n    textForm.format = this.format;\n    return textForm;\n  };\n  /**\n   * @private\n   */\n  TextFormField.prototype.getFormFieldInfo = function () {\n    var textFormField = {\n      defaultValue: this.defaultValue,\n      enabled: this.enabled,\n      format: this.format,\n      helpText: this.helpText,\n      maxLength: this.maxLength,\n      type: this.type,\n      name: this.name\n    };\n    return textFormField;\n  };\n  /**\n   * @private\n   */\n  TextFormField.prototype.copyFieldInfo = function (info) {\n    if (!isNullOrUndefined(info.defaultValue)) {\n      this.defaultValue = info.defaultValue;\n    }\n    if (!isNullOrUndefined(info.enabled)) {\n      this.enabled = info.enabled;\n    }\n    if (!isNullOrUndefined(info.format)) {\n      this.format = info.format;\n    }\n    if (!isNullOrUndefined(info.helpText)) {\n      this.helpText = info.helpText;\n    }\n    if (!isNullOrUndefined(info.maxLength)) {\n      this.maxLength = info.maxLength;\n    }\n    if (!isNullOrUndefined(info.type)) {\n      this.type = info.type;\n    }\n  };\n  /**\n   * @private\n   */\n  TextFormField.prototype.destroy = function () {\n    this.format = undefined;\n    this.defaultValue = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  return TextFormField;\n}(FormField);\nexport { TextFormField };\n/**\n * @private\n */\nvar CheckBoxFormField = /** @class */function (_super) {\n  __extends(CheckBoxFormField, _super);\n  function CheckBoxFormField() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.sizeType = 'Auto';\n    /**\n     * @private\n     */\n    _this.size = 11;\n    /**\n     * @private\n     */\n    _this.defaultValue = false;\n    /**\n     * @private\n     */\n    _this.checked = false;\n    return _this;\n  }\n  /**\n   * @private\n   */\n  CheckBoxFormField.prototype.clone = function () {\n    var checkBoxForm = new CheckBoxFormField();\n    checkBoxForm.name = this.name;\n    checkBoxForm.enabled = this.enabled;\n    checkBoxForm.helpText = this.helpText;\n    checkBoxForm.statusText = this.statusText;\n    checkBoxForm.sizeType = this.sizeType;\n    checkBoxForm.size = this.size;\n    checkBoxForm.defaultValue = this.defaultValue;\n    checkBoxForm.checked = this.checked;\n    return checkBoxForm;\n  };\n  /**\n   * @private\n   */\n  CheckBoxFormField.prototype.getFormFieldInfo = function () {\n    var checkBoxFormField = {\n      defaultValue: this.defaultValue,\n      enabled: this.enabled,\n      helpText: this.helpText,\n      size: this.size,\n      sizeType: this.sizeType,\n      name: this.name\n    };\n    return checkBoxFormField;\n  };\n  /**\n   * @private\n   */\n  CheckBoxFormField.prototype.copyFieldInfo = function (info) {\n    if (!isNullOrUndefined(info.defaultValue)) {\n      this.defaultValue = info.defaultValue;\n      this.checked = info.defaultValue;\n    }\n    if (!isNullOrUndefined(info.enabled)) {\n      this.enabled = info.enabled;\n    }\n    if (!isNullOrUndefined(info.size)) {\n      this.size = info.size;\n    }\n    if (!isNullOrUndefined(info.helpText)) {\n      this.helpText = info.helpText;\n    }\n    if (!isNullOrUndefined(info.sizeType)) {\n      this.sizeType = info.sizeType;\n    }\n  };\n  /**\n   * @private\n   */\n  CheckBoxFormField.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n  };\n  return CheckBoxFormField;\n}(FormField);\nexport { CheckBoxFormField };\n/**\n * @private\n */\nvar DropDownFormField = /** @class */function (_super) {\n  __extends(DropDownFormField, _super);\n  function DropDownFormField() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.dropdownItems = [];\n    /**\n     * @private\n     */\n    _this.selectedIndex = 0;\n    return _this;\n  }\n  /**\n   * @private\n   */\n  DropDownFormField.prototype.clone = function () {\n    var dropDown = new DropDownFormField();\n    dropDown.name = this.name;\n    dropDown.enabled = this.enabled;\n    dropDown.helpText = this.helpText;\n    dropDown.statusText = this.statusText;\n    dropDown.dropdownItems = this.dropdownItems.slice();\n    dropDown.selectedIndex = this.selectedIndex;\n    return dropDown;\n  };\n  /**\n   * @private\n   */\n  DropDownFormField.prototype.getFormFieldInfo = function () {\n    var dropDownFormField = {\n      dropdownItems: this.dropdownItems.slice(),\n      enabled: this.enabled,\n      helpText: this.helpText,\n      name: this.name\n    };\n    return dropDownFormField;\n  };\n  /**\n   * @private\n   */\n  DropDownFormField.prototype.copyFieldInfo = function (info) {\n    if (!isNullOrUndefined(info.dropdownItems)) {\n      this.dropdownItems = info.dropdownItems;\n    }\n    if (!isNullOrUndefined(info.enabled)) {\n      this.enabled = info.enabled;\n    }\n    if (!isNullOrUndefined(info.helpText)) {\n      this.helpText = info.helpText;\n    }\n  };\n  /**\n   * @private\n   */\n  DropDownFormField.prototype.destroy = function () {\n    this.dropdownItems = [];\n    this.dropdownItems = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  return DropDownFormField;\n}(FormField);\nexport { DropDownFormField };\n/**\n * @private\n */\nvar TextElementBox = /** @class */function (_super) {\n  __extends(TextElementBox, _super);\n  function TextElementBox() {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.baselineOffset = 0;\n    /**\n     * @private\n     */\n    _this.text = '';\n    /**\n     * @private\n     */\n    _this.trimEndWidth = 0;\n    /**\n     * @private\n     */\n    _this.ignoreOnceItems = [];\n    /**\n     * @private\n     */\n    _this.istextCombined = false;\n    /**\n     * @private\n     */\n    _this.scriptType = FontScriptType.English;\n    /**\n     * @private\n     */\n    _this.renderedFontFamily = undefined;\n    _this.errorCollection = [];\n    return _this;\n  }\n  /**\n   * @private\n   */\n  TextElementBox.prototype.getLength = function () {\n    return this.text ? this.text.length : 0;\n  };\n  /**\n   * @private\n   */\n  TextElementBox.prototype.clone = function () {\n    var textEle = new TextElementBox();\n    textEle.characterFormat.copyFormat(this.characterFormat);\n    textEle.text = this.text;\n    if (this.margin) {\n      textEle.margin = this.margin.clone();\n    }\n    textEle.baselineOffset = this.baselineOffset;\n    if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n      if (this.revisions.length > 0) {\n        for (var i = 0; i < this.revisions.length; i++) {\n          var revision = this.revisions[i];\n          textEle.revisions.push(revision.clone());\n        }\n      }\n    } else {\n      if (this.revisions.length > 0) {\n        textEle.removedIds = Revision.cloneRevisions(this.revisions);\n      } else {\n        textEle.removedIds = this.removedIds.slice();\n      }\n    }\n    textEle.width = this.width;\n    textEle.height = this.height;\n    if (this.contentControlProperties) {\n      textEle.contentControlProperties = this.contentControlProperties;\n    }\n    return textEle;\n  };\n  /**\n   * @private\n   */\n  TextElementBox.prototype.destroy = function () {\n    this.text = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * @private\n   */\n  TextElementBox.prototype.componentDestroy = function () {\n    this.text = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return TextElementBox;\n}(ElementBox);\nexport { TextElementBox };\n/**\n * @private\n */\nvar Footnote = /** @class */function () {\n  function Footnote() {\n    this.separator = [];\n    this.continuationNotice = [];\n    this.continuationSeparator = [];\n  }\n  /**\n   * @private\n   */\n  Footnote.prototype.clear = function () {\n    if (this.separator) {\n      for (var i = 0; i < this.separator.length; i++) {\n        var bodyWidget = this.separator[i];\n        bodyWidget.destroy();\n      }\n      this.separator = [];\n    }\n    if (this.continuationSeparator) {\n      for (var i = 0; i < this.continuationSeparator.length; i++) {\n        var bodyWidget = this.continuationSeparator[i];\n        bodyWidget.destroy();\n      }\n      this.continuationSeparator = [];\n    }\n    if (this.continuationNotice) {\n      for (var i = 0; i < this.continuationNotice.length; i++) {\n        var bodyWidget = this.continuationNotice[i];\n        bodyWidget.destroy();\n      }\n      this.continuationNotice = [];\n    }\n  };\n  Footnote.prototype.destroy = function () {\n    this.separator = [];\n    this.continuationSeparator = [];\n    this.continuationNotice = [];\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  Footnote.prototype.componentDestroy = function () {\n    if (this.separator) {\n      for (var i = 0; i < this.separator.length; i++) {\n        var bodyWidget = this.separator[i];\n        bodyWidget.componentDestroy();\n      }\n      this.separator = [];\n    }\n    this.separator = undefined;\n    if (this.continuationSeparator) {\n      for (var i = 0; i < this.continuationSeparator.length; i++) {\n        var bodyWidget = this.continuationSeparator[i];\n        bodyWidget.componentDestroy();\n      }\n      this.continuationSeparator = [];\n    }\n    this.continuationSeparator = undefined;\n    if (this.continuationNotice) {\n      for (var i = 0; i < this.continuationNotice.length; i++) {\n        var bodyWidget = this.continuationNotice[i];\n        bodyWidget.componentDestroy();\n      }\n      this.continuationNotice = [];\n    }\n    this.continuationNotice = undefined;\n  };\n  return Footnote;\n}();\nexport { Footnote };\n/**\n * @private\n */\nvar FootnoteElementBox = /** @class */function (_super) {\n  __extends(FootnoteElementBox, _super);\n  function FootnoteElementBox() {\n    var _this = _super.call(this) || this;\n    _this.isLayout = false;\n    _this.bodyWidget = new BodyWidget();\n    _this.bodyWidget.footNoteReference = _this;\n    return _this;\n  }\n  FootnoteElementBox.prototype.clone = function () {\n    var span = new FootnoteElementBox();\n    span.text = this.text;\n    span.characterFormat.copyFormat(this.characterFormat);\n    span.height = this.height;\n    span.footnoteType = this.footnoteType;\n    span.width = this.width;\n    span.symbolCode = this.symbolCode;\n    span.bodyWidget.childWidgets = this.bodyWidget.childWidgets;\n    span.bodyWidget.page = this.bodyWidget.page;\n    if (this.margin) {\n      span.margin = this.margin.clone();\n    }\n    return span;\n  };\n  FootnoteElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  FootnoteElementBox.prototype.destroy = function () {\n    this.symbolCode = '';\n    this.symbolFontName = '';\n    this.customMarker = '';\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  FootnoteElementBox.prototype.componentDestroy = function () {\n    if (this.characterFormat) {\n      this.characterFormat.destroy();\n      this.characterFormat = undefined;\n    }\n    this.symbolCode = '';\n    this.symbolFontName = '';\n    this.customMarker = '';\n    if (this.bodyWidget) {\n      this.bodyWidget.componentDestroy();\n    }\n    this.bodyWidget = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return FootnoteElementBox;\n}(TextElementBox);\nexport { FootnoteElementBox };\n/**\n * @private\n */\nvar ErrorTextElementBox = /** @class */function (_super) {\n  __extends(ErrorTextElementBox, _super);\n  function ErrorTextElementBox() {\n    var _this = _super.call(this) || this;\n    _this.startIn = undefined;\n    _this.endIn = undefined;\n    return _this;\n  }\n  Object.defineProperty(ErrorTextElementBox.prototype, \"start\", {\n    get: function () {\n      return this.startIn;\n    },\n    set: function (value) {\n      this.startIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ErrorTextElementBox.prototype, \"end\", {\n    get: function () {\n      return this.endIn;\n    },\n    set: function (value) {\n      this.endIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  ErrorTextElementBox.prototype.destroy = function () {\n    this.start = undefined;\n    this.end = undefined;\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  ErrorTextElementBox.prototype.componentDestroy = function () {\n    if (this.startIn) {\n      this.startIn.destroy();\n    }\n    this.startIn = undefined;\n    if (this.endIn) {\n      this.endIn.destroy();\n    }\n    this.endIn = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return ErrorTextElementBox;\n}(TextElementBox);\nexport { ErrorTextElementBox };\n/**\n * @private\n */\nvar FieldTextElementBox = /** @class */function (_super) {\n  __extends(FieldTextElementBox, _super);\n  function FieldTextElementBox() {\n    var _this = _super.call(this) || this;\n    _this.fieldText = '';\n    return _this;\n  }\n  Object.defineProperty(FieldTextElementBox.prototype, \"text\", {\n    get: function () {\n      return this.fieldText;\n    },\n    set: function (value) {\n      this.fieldText = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  FieldTextElementBox.prototype.clone = function () {\n    var fieldSpan = new FieldTextElementBox();\n    fieldSpan.characterFormat.copyFormat(this.characterFormat);\n    fieldSpan.fieldBegin = this.fieldBegin;\n    fieldSpan.text = this.text;\n    if (this.margin) {\n      fieldSpan.margin = this.margin.clone();\n    }\n    if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n      if (this.revisions.length > 0) {\n        for (var i = 0; i < this.revisions.length; i++) {\n          var revisionChanges = this.revisions[i];\n          fieldSpan.revisions.push(revisionChanges.clone());\n        }\n      }\n    } else {\n      if (this.revisions.length > 0) {\n        fieldSpan.removedIds = Revision.cloneRevisions(this.revisions);\n      } else {\n        fieldSpan.removedIds = this.removedIds.slice();\n      }\n    }\n    fieldSpan.width = this.width;\n    fieldSpan.height = this.height;\n    return fieldSpan;\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  FieldTextElementBox.prototype.componentDestroy = function () {\n    this.fieldText = undefined;\n    this.fieldBegin = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return FieldTextElementBox;\n}(TextElementBox);\nexport { FieldTextElementBox };\n/**\n * @private\n */\nvar TabElementBox = /** @class */function (_super) {\n  __extends(TabElementBox, _super);\n  function TabElementBox() {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.tabText = '';\n    /**\n     * @private\n     */\n    _this.tabLeader = 'None';\n    return _this;\n  }\n  /**\n   * @private\n   */\n  TabElementBox.prototype.destroy = function () {\n    this.tabText = undefined;\n    this.tabLeader = undefined;\n  };\n  /**\n   * @private\n   */\n  TabElementBox.prototype.componentDestroy = function () {\n    this.tabText = undefined;\n    this.tabLeader = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  /**\n   * @private\n   */\n  TabElementBox.prototype.clone = function () {\n    var tabSpan = new TabElementBox();\n    tabSpan.characterFormat.copyFormat(this.characterFormat);\n    tabSpan.tabText = this.tabText;\n    tabSpan.tabLeader = this.tabLeader;\n    tabSpan.text = this.text;\n    if (this.margin) {\n      tabSpan.margin = this.margin.clone();\n    }\n    tabSpan.width = this.width;\n    tabSpan.height = this.height;\n    if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n      if (this.revisions.length > 0) {\n        for (var i = 0; i < this.revisions.length; i++) {\n          var revision = this.revisions[i];\n          tabSpan.revisions.push(revision.clone());\n        }\n      }\n    } else {\n      if (this.revisions.length > 0) {\n        tabSpan.removedIds = Revision.cloneRevisions(this.revisions);\n      } else {\n        tabSpan.removedIds = this.removedIds.slice();\n      }\n    }\n    return tabSpan;\n  };\n  return TabElementBox;\n}(TextElementBox);\nexport { TabElementBox };\n/**\n * @private\n */\nvar BookmarkElementBox = /** @class */function (_super) {\n  __extends(BookmarkElementBox, _super);\n  function BookmarkElementBox(type) {\n    var _this = _super.call(this) || this;\n    _this.bookmarkTypeIn = 0;\n    _this.refereneceIn = undefined;\n    _this.nameIn = '';\n    _this.bookmarkTypeIn = type;\n    return _this;\n  }\n  Object.defineProperty(BookmarkElementBox.prototype, \"bookmarkType\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.bookmarkTypeIn;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BookmarkElementBox.prototype, \"properties\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.propertiesIn;\n    },\n    /**\n     * @private\n     */\n    set: function (properties) {\n      this.propertiesIn = properties;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BookmarkElementBox.prototype, \"name\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.nameIn;\n    },\n    /**\n     * @private\n     */\n    set: function (name) {\n      this.nameIn = name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BookmarkElementBox.prototype, \"reference\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.refereneceIn;\n    },\n    /**\n     * @private\n     */\n    set: function (reference) {\n      this.refereneceIn = reference;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  BookmarkElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  /**\n   * @private\n   */\n  BookmarkElementBox.prototype.destroy = function () {\n    this.name = undefined;\n    this.reference = undefined;\n    this.bookmarkTypeIn = undefined;\n  };\n  /**\n   * @private\n   */\n  BookmarkElementBox.prototype.componentDestroy = function () {\n    this.name = undefined;\n    this.reference = undefined;\n    this.bookmarkTypeIn = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  /**\n   * Clones the bookmark element box.\n   * @param element - book mark element\n   */\n  /**\n   * @private\n   */\n  BookmarkElementBox.prototype.clone = function () {\n    var span = new BookmarkElementBox(this.bookmarkType);\n    span.name = this.name;\n    span.reference = this.reference;\n    span.properties = this.properties;\n    if (this.margin) {\n      span.margin = this.margin.clone();\n    }\n    if (this.revisions.length > 0) {\n      span.removedIds = Revision.cloneRevisions(this.revisions);\n    } else {\n      span.removedIds = this.removedIds.slice();\n    }\n    span.width = this.width;\n    span.height = this.height;\n    if (this.contentControlProperties) {\n      span.contentControlProperties = this.contentControlProperties;\n    }\n    return span;\n  };\n  return BookmarkElementBox;\n}(ElementBox);\nexport { BookmarkElementBox };\n/**\n * @private\n */\nvar ContentControl = /** @class */function (_super) {\n  __extends(ContentControl, _super);\n  function ContentControl(widgetType) {\n    var _this = _super.call(this) || this;\n    _this.contentControlWidgetType = widgetType;\n    _this.contentControlProperties = new ContentControlProperties(widgetType);\n    return _this;\n  }\n  /**\n   * @private\n   */\n  ContentControl.prototype.getLength = function () {\n    return 1;\n  };\n  /**\n   * @private\n   */\n  ContentControl.prototype.clone = function () {\n    var span = new ContentControl(this.contentControlWidgetType);\n    span.characterFormat.copyFormat(this.characterFormat);\n    span.contentControlProperties = this.contentControlProperties;\n    span.contentControlWidgetType = this.contentControlWidgetType;\n    if (this.margin) {\n      span.margin = this.margin.clone();\n    }\n    if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n      if (this.revisions.length > 0) {\n        for (var i = 0; i < this.revisions.length; i++) {\n          var revisionChange = this.revisions[i];\n          span.revisions.push(revisionChange.clone());\n        }\n      }\n    } else {\n      if (this.revisions.length > 0) {\n        span.removedIds = Revision.cloneRevisions(this.revisions);\n      } else {\n        span.removedIds = this.removedIds.slice();\n      }\n    }\n    span.type = this.type;\n    span.width = this.width;\n    span.height = this.height;\n    span.reference = this.reference;\n    return span;\n  };\n  /**\n   * @private\n   */\n  ContentControl.prototype.destroy = function () {\n    this.contentControlProperties = undefined;\n    this.contentControlWidgetType = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  ContentControl.prototype.componentDestroy = function () {\n    if (this.contentControlProperties) {\n      this.contentControlProperties.destroy();\n      this.contentControlProperties = undefined;\n    }\n    this.contentControlWidgetType = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return ContentControl;\n}(ElementBox);\nexport { ContentControl };\n/**\n * @private\n */\n/**\n * @private\n */\nvar ContentControlProperties = /** @class */function () {\n  function ContentControlProperties(widgetType) {\n    /**\n     * @private\n     */\n    this.contentControlListItems = [];\n    this.contentControlWidgetType = widgetType;\n    this.characterFormat = new WCharacterFormat();\n  }\n  /**\n   * @private\n   */\n  ContentControlProperties.prototype.destroy = function () {\n    if (this.characterFormat) {\n      this.characterFormat.destroy();\n      this.characterFormat = undefined;\n    }\n    if (this.xmlMapping) {\n      this.xmlMapping.destroy();\n      this.xmlMapping = undefined;\n    }\n    this.lockContentControl = undefined;\n    this.lockContents = undefined;\n    this.tag = undefined;\n    this.color = undefined;\n    this.title = undefined;\n    this.appearance = undefined;\n    this.type = undefined;\n    this.hasPlaceHolderText = undefined;\n    this.multiline = undefined;\n    this.isTemporary = undefined;\n    this.isChecked = undefined;\n    this.dateCalendarType = undefined;\n    this.dateStorageFormat = undefined;\n    this.dateDisplayLocale = undefined;\n    this.dateDisplayFormat = undefined;\n  };\n  /**\n   * @private\n   */\n  ContentControlProperties.prototype.clone = function () {\n    var span = new ContentControlProperties(this.contentControlWidgetType);\n    span.lockContentControl = this.lockContentControl;\n    span.lockContents = this.lockContents;\n    span.tag = this.tag;\n    span.color = this.color;\n    span.title = this.title;\n    span.appearance = this.appearance;\n    span.type = this.type;\n    span.hasPlaceHolderText = this.hasPlaceHolderText;\n    span.multiline = this.multiline;\n    span.isTemporary = this.isTemporary;\n    span.isChecked = this.isChecked;\n    span.dateCalendarType = this.dateCalendarType;\n    span.dateStorageFormat = this.dateStorageFormat;\n    span.dateDisplayLocale = this.dateDisplayLocale;\n    span.dateDisplayFormat = this.dateDisplayFormat;\n    if (this.contentControlListItems.length > 0) {\n      for (var i = 0; i < this.contentControlListItems.length; i++) {\n        span.contentControlListItems.push(this.contentControlListItems[i].clone());\n      }\n    }\n    if (this.checkedState) {\n      span.checkedState = this.checkedState.clone();\n    }\n    if (this.uncheckedState) {\n      span.uncheckedState = this.uncheckedState.clone();\n    }\n    if (this.xmlMapping) {\n      span.xmlMapping = this.xmlMapping.clone();\n    }\n    return span;\n  };\n  return ContentControlProperties;\n}();\nexport { ContentControlProperties };\n/**\n * @private\n */\nvar ContentControlListItems = /** @class */function () {\n  function ContentControlListItems() {}\n  /**\n   * @private\n   */\n  ContentControlListItems.prototype.destroy = function () {\n    this.displayText = undefined;\n    this.value = undefined;\n  };\n  /**\n   * @private\n   */\n  ContentControlListItems.prototype.clone = function () {\n    var span = new ContentControlListItems();\n    span.displayText = this.displayText;\n    span.value = this.value;\n    return span;\n  };\n  return ContentControlListItems;\n}();\nexport { ContentControlListItems };\n/**\n * @private\n */\nvar CheckBoxState = /** @class */function () {\n  function CheckBoxState() {}\n  /**\n   * @private\n   */\n  CheckBoxState.prototype.destroy = function () {\n    this.font = undefined;\n    this.value = undefined;\n  };\n  /**\n   * @private\n   */\n  CheckBoxState.prototype.clone = function () {\n    var span = new CheckBoxState();\n    span.font = this.font;\n    span.value = this.value;\n    return span;\n  };\n  return CheckBoxState;\n}();\nexport { CheckBoxState };\n/**\n * @private\n */\nvar XmlMapping = /** @class */function () {\n  function XmlMapping() {}\n  /**\n   * @private\n   */\n  XmlMapping.prototype.destroy = function () {\n    this.isMapped = undefined;\n    this.isWordMl = undefined;\n    this.prefixMapping = undefined;\n    this.xPath = undefined;\n    this.storeItemId = undefined;\n    this.customXmlPart = undefined;\n  };\n  /**\n   * @private\n   */\n  XmlMapping.prototype.clone = function () {\n    var span = new XmlMapping();\n    span.isMapped = this.isMapped;\n    span.isWordMl = this.isWordMl;\n    span.prefixMapping = this.prefixMapping;\n    span.xPath = this.xPath;\n    span.storeItemId = this.storeItemId;\n    if (this.customXmlPart) {\n      span.customXmlPart = this.customXmlPart.clone();\n    }\n    return span;\n  };\n  return XmlMapping;\n}();\nexport { XmlMapping };\n/**\n * @private\n */\nvar CustomXmlPart = /** @class */function () {\n  function CustomXmlPart() {}\n  /**\n   * @private\n   */\n  CustomXmlPart.prototype.destroy = function () {\n    this.id = undefined;\n    this.xml = undefined;\n  };\n  /**\n   * @private\n   */\n  CustomXmlPart.prototype.clone = function () {\n    var span = new CustomXmlPart();\n    span.id = this.id;\n    span.xml = this.xml;\n    return span;\n  };\n  return CustomXmlPart;\n}();\nexport { CustomXmlPart };\n/**\n * @private\n */\nvar ShapeCommon = /** @class */function (_super) {\n  __extends(ShapeCommon, _super);\n  function ShapeCommon() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.name = '';\n    /**\n     * @private\n     */\n    _this.alternateText = '';\n    /**\n     * @private\n     */\n    _this.title = '';\n    return _this;\n  }\n  /**\n   *\n   * @private\n   */\n  ShapeCommon.prototype.getLength = function () {\n    return 1;\n  };\n  /**\n   * @private\n   */\n  ShapeCommon.prototype.clone = function () {\n    var shape = new ShapeElementBox();\n    return shape;\n  };\n  return ShapeCommon;\n}(ElementBox);\nexport { ShapeCommon };\n/**\n * @private\n */\nvar ShapeBase = /** @class */function (_super) {\n  __extends(ShapeBase, _super);\n  function ShapeBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.verticalPosition = 0;\n    /**\n     * @private\n     */\n    _this.horizontalPosition = 0;\n    /**\n     * @private\n     */\n    _this.textWrappingStyle = 'Inline';\n    /**\n     * @private\n     */\n    _this.distanceBottom = 0;\n    /**\n     * @private\n     */\n    _this.distanceLeft = 0;\n    /**\n     * @private\n     */\n    _this.distanceRight = 0;\n    /**\n     * @private\n     */\n    _this.distanceTop = 0;\n    return _this;\n  }\n  return ShapeBase;\n}(ShapeCommon);\nexport { ShapeBase };\n/**\n * @private\n */\nvar ShapeElementBox = /** @class */function (_super) {\n  __extends(ShapeElementBox, _super);\n  function ShapeElementBox() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @private\n   */\n  ShapeElementBox.prototype.clone = function () {\n    var shape = new ShapeElementBox();\n    shape.characterFormat.copyFormat(this.characterFormat);\n    shape.x = this.x;\n    shape.y = this.y;\n    shape.width = this.width;\n    shape.height = this.height;\n    shape.shapeId = this.shapeId;\n    shape.name = this.name;\n    shape.alternateText = this.alternateText;\n    shape.title = this.title;\n    shape.widthScale = this.widthScale;\n    shape.heightScale = this.heightScale;\n    shape.visible = this.visible;\n    shape.verticalPosition = this.verticalPosition;\n    shape.verticalAlignment = this.verticalAlignment;\n    shape.verticalOrigin = this.verticalOrigin;\n    shape.verticalRelativePercent = this.verticalRelativePercent;\n    shape.horizontalPosition = this.horizontalPosition;\n    shape.horizontalAlignment = this.horizontalAlignment;\n    shape.horizontalOrigin = this.horizontalOrigin;\n    shape.horizontalRelativePercent = this.horizontalRelativePercent;\n    shape.heightRelativePercent = this.heightRelativePercent;\n    shape.widthRelativePercent = this.widthRelativePercent;\n    shape.zOrderPosition = this.zOrderPosition;\n    shape.allowOverlap = this.allowOverlap;\n    shape.textWrappingStyle = this.textWrappingStyle;\n    shape.textWrappingType = this.textWrappingType;\n    shape.distanceBottom = this.distanceBottom;\n    shape.distanceLeft = this.distanceLeft;\n    shape.distanceRight = this.distanceRight;\n    shape.distanceTop = this.distanceTop;\n    shape.layoutInCell = this.layoutInCell;\n    shape.lockAnchor = this.lockAnchor;\n    shape.autoShapeType = this.autoShapeType;\n    if (this.lineFormat) {\n      shape.lineFormat = this.lineFormat.clone();\n    }\n    if (this.fillFormat) {\n      shape.fillFormat = this.fillFormat.clone();\n    }\n    if (this.textFrame) {\n      shape.textFrame = this.textFrame.clone();\n      shape.textFrame.containerShape = shape;\n    }\n    if (this.margin) {\n      shape.margin = this.margin.clone();\n    }\n    if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n      if (this.revisions.length > 0) {\n        for (var i = 0; i < this.revisions.length; i++) {\n          var revision = this.revisions[i];\n          shape.revisions.push(revision.clone());\n        }\n      }\n    } else {\n      if (this.revisions.length > 0) {\n        shape.removedIds = Revision.cloneRevisions(this.revisions);\n      } else {\n        shape.removedIds = this.removedIds.slice();\n      }\n    }\n    return shape;\n  };\n  return ShapeElementBox;\n}(ShapeBase);\nexport { ShapeElementBox };\n/**\n * @private\n */\nvar TextFrame = /** @class */function (_super) {\n  __extends(TextFrame, _super);\n  function TextFrame() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * @private\n     */\n    _this.marginLeft = 0;\n    /**\n     * @private\n     */\n    _this.marginRight = 0;\n    /**\n     * @private\n     */\n    _this.marginTop = 0;\n    /**\n     * @private\n     */\n    _this.marginBottom = 0;\n    return _this;\n  }\n  TextFrame.prototype.equals = function () {\n    return false;\n  };\n  TextFrame.prototype.destroyInternal = function () {\n    //return;\n  };\n  TextFrame.prototype.getHierarchicalIndex = function (index) {\n    var line = this.containerShape.line;\n    var offset = line.getOffset(this.containerShape, 0).toString();\n    return line.getHierarchicalIndex(offset);\n  };\n  TextFrame.prototype.getTableCellWidget = function () {\n    return undefined;\n  };\n  /**\n   * @private\n   */\n  TextFrame.prototype.clone = function () {\n    var textFrame = new TextFrame();\n    textFrame.textVerticalAlignment = this.textVerticalAlignment;\n    textFrame.marginBottom = this.marginBottom;\n    textFrame.marginLeft = this.marginLeft;\n    textFrame.marginRight = this.marginRight;\n    textFrame.marginTop = this.marginTop;\n    for (var i = 0; i < this.childWidgets.length; i++) {\n      var block = this.childWidgets[i].clone();\n      textFrame.childWidgets.push(block);\n      block.index = i;\n      block.containerWidget = textFrame;\n    }\n    return textFrame;\n  };\n  return TextFrame;\n}(Widget);\nexport { TextFrame };\n/**\n * @private\n */\nvar LineFormat = /** @class */function () {\n  function LineFormat() {}\n  /**\n   * @private\n   */\n  LineFormat.prototype.clone = function () {\n    var lineFormat = new LineFormat();\n    lineFormat.lineFormatType = this.lineFormatType;\n    lineFormat.color = this.color;\n    lineFormat.weight = this.weight;\n    lineFormat.dashStyle = this.dashStyle;\n    lineFormat.line = this.line;\n    return lineFormat;\n  };\n  return LineFormat;\n}();\nexport { LineFormat };\n/**\n * @private\n */\nvar FillFormat = /** @class */function () {\n  function FillFormat() {}\n  /**\n   * @private\n   */\n  FillFormat.prototype.clone = function () {\n    var fillFormat = new FillFormat();\n    fillFormat.color = this.color;\n    fillFormat.fill = this.fill;\n    return fillFormat;\n  };\n  return FillFormat;\n}();\nexport { FillFormat };\n/**\n * @private\n */\nvar ImageElementBox = /** @class */function (_super) {\n  __extends(ImageElementBox, _super);\n  function ImageElementBox(isInlineImage) {\n    var _this = _super.call(this) || this;\n    _this.imageStr = '';\n    _this.imgElement = undefined;\n    _this.isInlineImageIn = true;\n    _this.crop = false;\n    /**\n     * @private\n     */\n    _this.left = 0;\n    /**\n     * @private\n     */\n    _this.top = 0;\n    /**\n     * @private\n     */\n    _this.right = 0;\n    /**\n     * @private\n     */\n    _this.bottom = 0;\n    /**\n     * @private\n     */\n    _this.isMetaFile = false;\n    /**\n     * @private\n     */\n    _this.isCompressed = false;\n    _this.isInlineImageIn = isInlineImage;\n    return _this;\n  }\n  Object.defineProperty(ImageElementBox.prototype, \"isCrop\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.crop;\n    },\n    set: function (value) {\n      this.crop = value;\n      if (value) {\n        var right = 0;\n        var bottom = 0;\n        if (this.left !== 0) {\n          this.cropX = this.left * this.cropWidthScale / 100;\n        } else {\n          this.cropX = 0;\n        }\n        if (this.top !== 0) {\n          this.cropY = this.top * this.cropHeightScale / 100;\n        } else {\n          this.cropY = 0;\n        }\n        if (this.right !== 0) {\n          right = this.right * this.cropWidthScale / 100;\n        }\n        if (this.bottom !== 0) {\n          bottom = this.bottom * this.cropHeightScale / 100;\n        }\n        this.cropWidth = this.cropWidthScale - (this.cropX + right);\n        this.cropHeight = this.cropHeightScale - (this.cropY + bottom);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ImageElementBox.prototype, \"isInlineImage\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isInlineImageIn;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ImageElementBox.prototype, \"element\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (isNullOrUndefined(this.imgElement)) {\n        this.imgElement = document.createElement('img');\n      }\n      return this.imgElement;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ImageElementBox.prototype, \"length\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return 1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ImageElementBox.prototype, \"imageString\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.imageStr;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.imageStr = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ImageElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  /**\n   * @private\n   */\n  ImageElementBox.prototype.clone = function () {\n    var image = new ImageElementBox(this.isInlineImage);\n    image.characterFormat.copyFormat(this.characterFormat);\n    image.imageString = this.imageString;\n    image.element.src = this.element.src;\n    image.isMetaFile = this.isMetaFile;\n    image.isCompressed = this.isCompressed;\n    image.metaFileImageString = this.metaFileImageString;\n    image.width = this.width;\n    image.height = this.height;\n    image.top = this.top;\n    image.left = this.left;\n    image.bottom = this.bottom;\n    image.right = this.right;\n    image.cropHeightScale = this.cropHeightScale;\n    image.cropWidthScale = this.cropWidthScale;\n    image.cropX = this.cropX;\n    image.cropY = this.cropY;\n    image.isCrop = this.isCrop;\n    image.x = this.x;\n    image.y = this.y;\n    if (this.margin) {\n      image.margin = this.margin.clone();\n    }\n    if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n      if (this.revisions.length > 0) {\n        for (var i = 0; i < this.revisions.length; i++) {\n          var revision = this.revisions[i];\n          image.revisions.push(revision.clone());\n        }\n      }\n    } else {\n      if (this.revisions.length > 0) {\n        image.removedIds = Revision.cloneRevisions(this.revisions);\n      } else {\n        image.removedIds = this.removedIds.slice();\n      }\n    }\n    image.name = this.name;\n    image.alternateText = this.alternateText;\n    image.title = this.title;\n    image.visible = this.visible;\n    image.widthScale = this.widthScale;\n    image.heightScale = this.heightScale;\n    image.verticalPosition = this.verticalPosition;\n    image.verticalOrigin = this.verticalOrigin;\n    image.verticalAlignment = this.verticalAlignment;\n    image.horizontalPosition = this.horizontalPosition;\n    image.horizontalOrigin = this.horizontalOrigin;\n    image.horizontalAlignment = this.horizontalAlignment;\n    image.allowOverlap = this.allowOverlap;\n    image.textWrappingStyle = this.textWrappingStyle;\n    image.textWrappingType = this.textWrappingType;\n    image.layoutInCell = this.layoutInCell;\n    image.zOrderPosition = this.zOrderPosition;\n    return image;\n  };\n  /**\n   * @private\n   */\n  ImageElementBox.prototype.destroy = function () {\n    this.imgElement = undefined;\n    this.imageString = undefined;\n    this.isInlineImageIn = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  return ImageElementBox;\n}(ShapeBase);\nexport { ImageElementBox };\n/**\n * @private\n */\nvar ListTextElementBox = /** @class */function (_super) {\n  __extends(ListTextElementBox, _super);\n  function ListTextElementBox(listLevel, isListFollowCharacter) {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.baselineOffset = 0;\n    /**\n     * @private\n     */\n    _this.trimEndWidth = 0;\n    /**\n     * @private\n     */\n    _this.isFollowCharacter = false;\n    _this.listLevel = listLevel;\n    _this.isFollowCharacter = isListFollowCharacter;\n    return _this;\n  }\n  /**\n   * @private\n   */\n  ListTextElementBox.prototype.getLength = function () {\n    return this.text ? this.text.length : 0;\n  };\n  /**\n   * @private\n   */\n  ListTextElementBox.prototype.clone = function () {\n    var list = new ListTextElementBox(this.listLevel, this.isFollowCharacter);\n    list.text = this.text;\n    list.baselineOffset = this.baselineOffset;\n    if (this.margin) {\n      list.margin = this.margin.clone();\n    }\n    list.width = this.width;\n    list.height = this.height;\n    return list;\n  };\n  /**\n   * @private\n   */\n  ListTextElementBox.prototype.destroy = function () {\n    this.text = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  return ListTextElementBox;\n}(ElementBox);\nexport { ListTextElementBox };\n/**\n * @private\n */\nvar EditRangeEndElementBox = /** @class */function (_super) {\n  __extends(EditRangeEndElementBox, _super);\n  function EditRangeEndElementBox() {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.editRangeStart = undefined;\n    _this.editRangeId = -1;\n    return _this;\n  }\n  /**\n   * @private\n   */\n  EditRangeEndElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  /**\n   * @private\n   */\n  EditRangeEndElementBox.prototype.destroy = function () {\n    this.editRangeStart = undefined;\n  };\n  /**\n   * @private\n   */\n  EditRangeEndElementBox.prototype.clone = function () {\n    var end = new EditRangeEndElementBox();\n    end.editRangeStart = this.editRangeStart;\n    end.editRangeId = this.editRangeId;\n    return end;\n  };\n  return EditRangeEndElementBox;\n}(ElementBox);\nexport { EditRangeEndElementBox };\n/**\n * @private\n */\nvar EditRangeStartElementBox = /** @class */function (_super) {\n  __extends(EditRangeStartElementBox, _super);\n  function EditRangeStartElementBox() {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.columnFirst = -1;\n    /**\n     * @private\n     */\n    _this.columnLast = -1;\n    /**\n     * @private\n     */\n    _this.user = '';\n    /**\n     * @private\n     */\n    _this.group = '';\n    _this.editRangeId = -1;\n    return _this;\n  }\n  /**\n   * @private\n   */\n  EditRangeStartElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  /**\n   * @private\n   */\n  EditRangeStartElementBox.prototype.renderLockMark = function (currentUser, locale) {\n    if (isNullOrUndefined(this.editRangeMark)) {\n      var user = currentUser === this.user ? 'you' : this.user;\n      this.editRangeMark = document.createElement('div');\n      this.editRangeMark.style.display = 'none';\n      this.editRangeMark.classList.add('e-de-lock-mark');\n      var span = document.createElement('span');\n      span.className = 'e-icons e-de-ctnr-lock';\n      this.editRangeMark.appendChild(span);\n      this.editRangeMark.title = locale.getConstant('This region is locked by') + ' ' + user;\n    }\n    if (this.line && isNullOrUndefined(this.editRangeMark.parentElement)) {\n      var documentHelper = this.line.paragraph.bodyWidget.page.documentHelper;\n      documentHelper.pageContainer.appendChild(this.editRangeMark);\n    }\n  };\n  /**\n   * @private\n   */\n  EditRangeStartElementBox.prototype.removeEditRangeMark = function () {\n    if (this.editRangeMark) {\n      this.editRangeMark.parentElement.removeChild(this.editRangeMark);\n      this.editRangeMark = undefined;\n    }\n  };\n  /**\n   * @private\n   */\n  EditRangeStartElementBox.prototype.destroy = function () {\n    this.user = undefined;\n    this.columnFirst = undefined;\n    this.columnLast = undefined;\n  };\n  /**\n   * @private\n   */\n  EditRangeStartElementBox.prototype.clone = function () {\n    var start = new EditRangeStartElementBox();\n    start.columnFirst = this.columnFirst;\n    start.columnLast = this.columnLast;\n    start.user = this.user;\n    start.group = this.group;\n    start.editRangeEnd = this.editRangeEnd;\n    start.editRangeId = this.editRangeId;\n    return start;\n  };\n  return EditRangeStartElementBox;\n}(ElementBox);\nexport { EditRangeStartElementBox };\n/**\n * @private\n */\nvar ChartElementBox = /** @class */function (_super) {\n  __extends(ChartElementBox, _super);\n  /**\n   * @private\n   */\n  function ChartElementBox() {\n    var _this = _super.call(this) || this;\n    /**\n     * @private\n     */\n    _this.chartTitle = '';\n    /**\n     * @private\n     */\n    _this.chartType = '';\n    /**\n     * @private\n     */\n    _this.chartElement = undefined;\n    /**\n     * @private\n     */\n    _this.chartCategory = [];\n    /**\n     * @private\n     */\n    _this.chartSeries = [];\n    _this.chartArea = new ChartArea();\n    _this.chartPlotArea = new ChartArea();\n    _this.chartTitleArea = new ChartTitleArea();\n    _this.chartLegend = new ChartLegend();\n    _this.chartPrimaryCategoryAxis = new ChartCategoryAxis();\n    _this.chartPrimaryValueAxis = new ChartCategoryAxis();\n    _this.chartDataTable = new ChartDataTable();\n    return _this;\n  }\n  /**\n   * @private\n   */\n  ChartElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  Object.defineProperty(ChartElementBox.prototype, \"title\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.chartTitle;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.chartTitle = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartElementBox.prototype, \"type\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.chartType;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.chartType = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartElementBox.prototype, \"chartGapWidth\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.gapWidth;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.gapWidth = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartElementBox.prototype, \"chartOverlap\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.overlap;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.overlap = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartElementBox.prototype, \"targetElement\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (isNullOrUndefined(this.div)) {\n        this.div = createElement('div');\n      }\n      return this.div;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartElementBox.prototype, \"officeChart\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.officeChartInternal;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      if (value) {\n        this.officeChartInternal = value;\n        this.officeChartInternal.chart.loaded = this.onChartLoaded.bind(this);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  ChartElementBox.prototype.onChartLoaded = function () {\n    var _this = this;\n    this.officeChart.convertChartToImage(this.officeChart.chart, this.width, this.height).then(function (dataURL) {\n      _this.imageString = dataURL;\n      _this.element.src = dataURL;\n    });\n  };\n  /**\n   * @private\n   */\n  ChartElementBox.prototype.clone = function () {\n    var chart = new ChartElementBox();\n    chart.chartTitle = this.chartTitle;\n    chart.chartType = this.chartType;\n    chart.height = this.height;\n    chart.width = this.width;\n    chart.gapWidth = this.gapWidth;\n    chart.overlap = this.overlap;\n    for (var i = 0; i < this.chartCategory.length; i++) {\n      var chartCategory = this.chartCategory[i].clone();\n      chart.chartCategory.push(chartCategory);\n    }\n    for (var i = 0; i < this.chartSeries.length; i++) {\n      var series = this.chartSeries[i].clone();\n      chart.chartSeries.push(series);\n    }\n    chart.chartArea = this.chartArea.clone();\n    chart.chartPlotArea = this.chartPlotArea.clone();\n    chart.chartLegend = this.chartLegend.clone();\n    chart.chartTitleArea = this.chartTitleArea.clone();\n    chart.chartPrimaryCategoryAxis = this.chartPrimaryCategoryAxis.clone();\n    chart.chartPrimaryValueAxis = this.chartPrimaryValueAxis.clone();\n    chart.chartDataTable = this.chartDataTable.clone();\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartElementBox.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    if (this.officeChartInternal) {\n      this.officeChartInternal.chart.loaded = undefined;\n      this.officeChartInternal.destroy();\n      this.officeChartInternal = undefined;\n    }\n    if (this.div) {\n      this.div = undefined;\n    }\n    this.chartTitle = undefined;\n    this.chartType = undefined;\n    this.chartArea = undefined;\n    this.chartPlotArea = undefined;\n    this.chartCategory = [];\n    this.chartSeries = [];\n    this.chartTitleArea = undefined;\n    this.chartLegend = undefined;\n    this.chartPrimaryCategoryAxis = undefined;\n    this.chartPrimaryValueAxis = undefined;\n    this.chartDataTable = undefined;\n    this.chartElement = undefined;\n  };\n  return ChartElementBox;\n}(ImageElementBox);\nexport { ChartElementBox };\n/**\n * @private\n */\nvar ChartArea = /** @class */function () {\n  function ChartArea() {}\n  Object.defineProperty(ChartArea.prototype, \"chartForeColor\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.foreColor;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.foreColor = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartArea.prototype.clone = function () {\n    var chart = new ChartArea();\n    chart.foreColor = this.foreColor;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartArea.prototype.destroy = function () {\n    this.foreColor = undefined;\n  };\n  return ChartArea;\n}();\nexport { ChartArea };\n/**\n * @private\n */\nvar ChartCategory = /** @class */function () {\n  function ChartCategory() {\n    /**\n     * @private\n     */\n    this.categoryXName = '';\n    /**\n     * @private\n     */\n    this.chartData = [];\n  }\n  Object.defineProperty(ChartCategory.prototype, \"xName\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.categoryXName;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.categoryXName = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartCategory.prototype.clone = function () {\n    var chart = new ChartCategory();\n    chart.categoryXName = this.categoryXName;\n    for (var i = 0; i < this.chartData.length; i++) {\n      var chartData = this.chartData[i].clone();\n      chart.chartData.push(chartData);\n    }\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartCategory.prototype.destroy = function () {\n    this.categoryXName = undefined;\n    this.chartData = [];\n  };\n  return ChartCategory;\n}();\nexport { ChartCategory };\n/**\n * @private\n */\nvar ChartData = /** @class */function () {\n  function ChartData() {}\n  Object.defineProperty(ChartData.prototype, \"yAxisValue\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.yValue;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.yValue = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartData.prototype, \"xAxisValue\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.xValue;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.xValue = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartData.prototype, \"bubbleSize\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.size;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.size = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartData.prototype.clone = function () {\n    var chart = new ChartData();\n    chart.yValue = this.yValue;\n    chart.xValue = this.xValue;\n    chart.size = this.size;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartData.prototype.destroy = function () {\n    this.xValue = undefined;\n    this.yValue = undefined;\n    this.size = undefined;\n  };\n  return ChartData;\n}();\nexport { ChartData };\n/**\n * @private\n */\nvar ChartLegend = /** @class */function () {\n  /**\n   * @private\n   */\n  function ChartLegend() {\n    this.chartTitleArea = new ChartTitleArea();\n  }\n  Object.defineProperty(ChartLegend.prototype, \"chartLegendPostion\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.legendPostion;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.legendPostion = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartLegend.prototype.clone = function () {\n    var chart = new ChartLegend();\n    chart.legendPostion = this.legendPostion;\n    chart.chartTitleArea = this.chartTitleArea.clone();\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartLegend.prototype.destroy = function () {\n    this.legendPostion = undefined;\n    this.chartTitleArea = undefined;\n  };\n  return ChartLegend;\n}();\nexport { ChartLegend };\n/**\n * @private\n */\nvar ChartSeries = /** @class */function () {\n  function ChartSeries() {\n    /**\n     * @private\n     */\n    this.chartDataFormat = [];\n    /**\n     * @private\n     */\n    this.trendLines = [];\n    this.errorBar = new ChartErrorBar();\n    this.dataLabels = new ChartDataLabels();\n    this.seriesFormat = new ChartSeriesFormat();\n  }\n  Object.defineProperty(ChartSeries.prototype, \"seriesName\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.name;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.name = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartSeries.prototype, \"firstSliceAngle\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.sliceAngle;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.sliceAngle = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartSeries.prototype, \"doughnutHoleSize\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.holeSize;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.holeSize = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartSeries.prototype.clone = function () {\n    var chart = new ChartSeries();\n    chart.name = this.name;\n    chart.sliceAngle = this.sliceAngle;\n    chart.holeSize = this.holeSize;\n    chart.errorBar = this.errorBar.clone();\n    chart.dataLabels = this.dataLabels.clone();\n    chart.seriesFormat = this.seriesFormat.clone();\n    for (var i = 0; i < this.chartDataFormat.length; i++) {\n      var format = this.chartDataFormat[i].clone();\n      chart.chartDataFormat.push(format);\n    }\n    for (var i = 0; i < this.trendLines.length; i++) {\n      var trendLine = this.trendLines[i].clone();\n      chart.trendLines.push(trendLine);\n    }\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartSeries.prototype.destroy = function () {\n    this.name = undefined;\n    this.errorBar = undefined;\n    this.trendLines = undefined;\n    this.chartDataFormat = [];\n  };\n  return ChartSeries;\n}();\nexport { ChartSeries };\n/**\n * @private\n */\nvar ChartErrorBar = /** @class */function () {\n  function ChartErrorBar() {}\n  Object.defineProperty(ChartErrorBar.prototype, \"errorType\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.type;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.type = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartErrorBar.prototype, \"errorDirection\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.direction;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.direction = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartErrorBar.prototype, \"errorEndStyle\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.endStyle;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.endStyle = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartErrorBar.prototype, \"numberValue\", {\n    get: function () {\n      return this.errorValue;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.errorValue = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartErrorBar.prototype.clone = function () {\n    var chart = new ChartErrorBar();\n    chart.type = this.type;\n    chart.errorDirection = this.errorDirection;\n    chart.endStyle = this.endStyle;\n    chart.errorValue = this.errorValue;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartErrorBar.prototype.destroy = function () {\n    this.type = undefined;\n    this.errorDirection = undefined;\n    this.endStyle = undefined;\n  };\n  return ChartErrorBar;\n}();\nexport { ChartErrorBar };\n/**\n * @private\n */\nvar ChartSeriesFormat = /** @class */function () {\n  function ChartSeriesFormat() {}\n  Object.defineProperty(ChartSeriesFormat.prototype, \"markerStyle\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.style;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.style = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartSeriesFormat.prototype, \"markerColor\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.color;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.color = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartSeriesFormat.prototype, \"numberValue\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.size;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.size = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartSeriesFormat.prototype.clone = function () {\n    var chart = new ChartSeriesFormat();\n    chart.style = this.style;\n    chart.color = this.color;\n    chart.size = this.size;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartSeriesFormat.prototype.destroy = function () {\n    this.style = undefined;\n    this.color = undefined;\n    this.size = undefined;\n  };\n  return ChartSeriesFormat;\n}();\nexport { ChartSeriesFormat };\n/**\n * @private\n */\nvar ChartDataLabels = /** @class */function () {\n  function ChartDataLabels() {}\n  Object.defineProperty(ChartDataLabels.prototype, \"labelPosition\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.position;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.position = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"fontName\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.name;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.name = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"fontColor\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.color;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.color = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"fontSize\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.size;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.size = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"isLegendKey\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isLegend;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isLegend = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"isBubbleSize\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isBubble;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isBubble = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"isCategoryName\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isCategory;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isCategory = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"isSeriesName\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isSeries;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isSeries = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"isValue\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isValueEnabled;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isValueEnabled = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"isPercentage\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isPercentageEnabled;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isPercentageEnabled = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataLabels.prototype, \"isLeaderLines\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.showLeaderLines;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.showLeaderLines = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartDataLabels.prototype.clone = function () {\n    var chart = new ChartDataLabels();\n    chart.position = this.position;\n    chart.name = this.name;\n    chart.color = this.color;\n    chart.size = this.size;\n    chart.isBubble = this.isBubble;\n    chart.isLegend = this.isLegend;\n    chart.isCategory = this.isCategory;\n    chart.isSeries = this.isSeries;\n    chart.isValueEnabled = this.isValueEnabled;\n    chart.isPercentageEnabled = this.isPercentageEnabled;\n    chart.showLeaderLines = this.showLeaderLines;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartDataLabels.prototype.destroy = function () {\n    this.position = undefined;\n  };\n  return ChartDataLabels;\n}();\nexport { ChartDataLabels };\n/**\n * @private\n */\nvar ChartTrendLines = /** @class */function () {\n  function ChartTrendLines() {}\n  Object.defineProperty(ChartTrendLines.prototype, \"trendLineType\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.type;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.type = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartTrendLines.prototype, \"trendLineName\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.name;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.name = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartTrendLines.prototype, \"interceptValue\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.intercept;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.intercept = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartTrendLines.prototype, \"forwardValue\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.forward;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.forward = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartTrendLines.prototype, \"backwardValue\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.backward;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.backward = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartTrendLines.prototype, \"isDisplayRSquared\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.displayRSquared;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.displayRSquared = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartTrendLines.prototype, \"isDisplayEquation\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.displayEquation;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.displayEquation = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartTrendLines.prototype.clone = function () {\n    var chart = new ChartTrendLines();\n    chart.type = this.type;\n    chart.name = this.name;\n    chart.forward = this.forward;\n    chart.backward = this.backward;\n    chart.intercept = this.intercept;\n    chart.displayEquation = this.displayEquation;\n    chart.displayRSquared = this.displayRSquared;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartTrendLines.prototype.destroy = function () {\n    this.type = undefined;\n    this.name = undefined;\n    this.forward = undefined;\n    this.backward = undefined;\n  };\n  return ChartTrendLines;\n}();\nexport { ChartTrendLines };\n/**\n * @private\n */\nvar ChartTitleArea = /** @class */function () {\n  /**\n   * @private\n   */\n  function ChartTitleArea() {\n    this.dataFormat = new ChartDataFormat();\n    this.layout = new ChartLayout();\n  }\n  Object.defineProperty(ChartTitleArea.prototype, \"chartfontName\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.fontName;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.fontName = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartTitleArea.prototype, \"chartFontSize\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.fontSize;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.fontSize = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartTitleArea.prototype.clone = function () {\n    var chart = new ChartTitleArea();\n    chart.fontName = this.fontName;\n    chart.fontSize = this.fontSize;\n    chart.dataFormat = this.dataFormat.clone();\n    chart.layout = this.layout.clone();\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartTitleArea.prototype.destroy = function () {\n    this.fontName = undefined;\n    this.fontSize = undefined;\n    this.dataFormat = undefined;\n    this.layout = undefined;\n  };\n  return ChartTitleArea;\n}();\nexport { ChartTitleArea };\n/**\n * @private\n */\nvar ChartDataFormat = /** @class */function () {\n  /**\n   * @private\n   */\n  function ChartDataFormat() {\n    this.fill = new ChartFill();\n    this.line = new ChartFill();\n  }\n  /**\n   * @private\n   */\n  ChartDataFormat.prototype.clone = function () {\n    var chart = new ChartDataFormat();\n    chart.fill = this.fill.clone();\n    chart.line = this.line.clone();\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartDataFormat.prototype.destroy = function () {\n    this.fill = undefined;\n    this.line = undefined;\n  };\n  return ChartDataFormat;\n}();\nexport { ChartDataFormat };\n/**\n * @private\n */\nvar ChartFill = /** @class */function () {\n  function ChartFill() {}\n  Object.defineProperty(ChartFill.prototype, \"color\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.fillColor;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.fillColor = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartFill.prototype, \"rgb\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.fillRGB;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.fillRGB = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartFill.prototype.clone = function () {\n    var chart = new ChartFill();\n    chart.fillColor = this.fillColor;\n    chart.fillRGB = this.fillRGB;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartFill.prototype.destroy = function () {\n    this.fillColor = undefined;\n    this.fillRGB = undefined;\n  };\n  return ChartFill;\n}();\nexport { ChartFill };\n/**\n * @private\n */\nvar ChartLayout = /** @class */function () {\n  function ChartLayout() {}\n  Object.defineProperty(ChartLayout.prototype, \"chartLayoutLeft\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.layoutX;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.layoutX = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartLayout.prototype, \"chartLayoutTop\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.layoutY;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.layoutY = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartLayout.prototype.clone = function () {\n    var chart = new ChartLayout();\n    chart.layoutX = this.layoutX;\n    chart.layoutY = this.layoutY;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartLayout.prototype.destroy = function () {\n    this.layoutX = undefined;\n    this.layoutY = undefined;\n  };\n  return ChartLayout;\n}();\nexport { ChartLayout };\n/**\n * @private\n */\nvar ChartCategoryAxis = /** @class */function () {\n  function ChartCategoryAxis() {\n    this.chartTitleArea = new ChartTitleArea();\n  }\n  Object.defineProperty(ChartCategoryAxis.prototype, \"majorTick\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.majorTickMark;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.majorTickMark = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"minorTick\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.minorTickMark;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.minorTickMark = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"tickPosition\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.tickLabelPostion;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.tickLabelPostion = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"minorGridLines\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.hasMinorGridLines;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.hasMinorGridLines = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"majorGridLines\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.hasMajorGridLines;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.hasMajorGridLines = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"interval\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.majorUnit;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.majorUnit = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"isAutoInternal\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isAutoMajor;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isAutoMajor = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"max\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.maximumValue;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.maximumValue = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"min\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.minimumValue;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.minimumValue = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"categoryAxisTitle\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.title;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.title = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"categoryAxisType\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.categoryType;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.categoryType = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"categoryNumberFormat\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.numberFormat;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.numberFormat = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"axisFontSize\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.fontSize;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.fontSize = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartCategoryAxis.prototype, \"axisFontName\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.fontName;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.fontName = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartCategoryAxis.prototype.clone = function () {\n    var chart = new ChartCategoryAxis();\n    chart.title = this.title;\n    chart.categoryType = this.categoryType;\n    chart.numberFormat = this.numberFormat;\n    chart.fontSize = this.fontSize;\n    chart.fontName = this.fontName;\n    chart.hasMajorGridLines = this.hasMajorGridLines;\n    chart.hasMinorGridLines = this.hasMinorGridLines;\n    chart.minimumValue = this.minimumValue;\n    chart.maximumValue = this.maximumValue;\n    chart.majorUnit = this.majorUnit;\n    chart.isAutoMajor = this.isAutoMajor;\n    chart.majorTickMark = this.majorTickMark;\n    chart.minorTickMark = this.minorTickMark;\n    chart.tickLabelPostion = this.tickLabelPostion;\n    chart.chartTitleArea = this.chartTitleArea.clone();\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartCategoryAxis.prototype.destroy = function () {\n    this.title = undefined;\n    this.categoryType = undefined;\n    this.numberFormat = undefined;\n    this.chartTitleArea = undefined;\n    this.minimumValue = undefined;\n    this.maximumValue = undefined;\n    this.fontSize = undefined;\n    this.fontName = undefined;\n    this.majorUnit = undefined;\n    this.majorTickMark = undefined;\n    this.minorTickMark = undefined;\n    this.tickLabelPostion = undefined;\n  };\n  return ChartCategoryAxis;\n}();\nexport { ChartCategoryAxis };\n/**\n * @private\n */\nvar ChartDataTable = /** @class */function () {\n  function ChartDataTable() {}\n  Object.defineProperty(ChartDataTable.prototype, \"showSeriesKeys\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isSeriesKeys;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isSeriesKeys = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataTable.prototype, \"hasHorzBorder\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isHorzBorder;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isHorzBorder = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataTable.prototype, \"hasVertBorder\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isVertBorder;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isVertBorder = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ChartDataTable.prototype, \"hasBorders\", {\n    /**\n     * @private\n     */\n    get: function () {\n      return this.isBorders;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.isBorders = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  ChartDataTable.prototype.clone = function () {\n    var chart = new ChartDataTable();\n    chart.isSeriesKeys = this.isSeriesKeys;\n    chart.isHorzBorder = this.isHorzBorder;\n    chart.isVertBorder = this.isVertBorder;\n    chart.isBorders = this.isBorders;\n    return chart;\n  };\n  /**\n   * @private\n   */\n  ChartDataTable.prototype.destroy = function () {\n    this.isSeriesKeys = undefined;\n    this.isHorzBorder = undefined;\n    this.isVertBorder = undefined;\n    this.isBorders = undefined;\n  };\n  return ChartDataTable;\n}();\nexport { ChartDataTable };\n/**\n * @private\n */\nvar CommentCharacterElementBox = /** @class */function (_super) {\n  __extends(CommentCharacterElementBox, _super);\n  function CommentCharacterElementBox(type) {\n    var _this = _super.call(this) || this;\n    _this.commentType = 0;\n    _this.commentId = '';\n    _this.commentType = type;\n    return _this;\n  }\n  Object.defineProperty(CommentCharacterElementBox.prototype, \"comment\", {\n    get: function () {\n      return this.commentInternal;\n    },\n    set: function (value) {\n      this.commentInternal = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  CommentCharacterElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  CommentCharacterElementBox.prototype.clone = function () {\n    var comment = new CommentCharacterElementBox(this.commentType);\n    comment.commentId = this.commentId;\n    comment.commentType = this.commentType;\n    if (!isNullOrUndefined(this.commentInternal)) {\n      comment.commentInternal = this.commentInternal.clone();\n    }\n    return comment;\n  };\n  CommentCharacterElementBox.prototype.renderCommentMark = function (topPosition, leftPosition) {\n    var documentHelper = this.line.paragraph.bodyWidget.page.documentHelper;\n    var commentMarkDictionary = documentHelper.render.commentMarkDictionary;\n    if (this.commentType === 0 && isNullOrUndefined(this.commentMark)) {\n      this.commentMark = document.createElement('div');\n      this.commentMark.style.display = 'none';\n      this.commentMark.classList.add('e-de-cmt-mark');\n      var span = document.createElement('span');\n      span.classList.add('e-icons');\n      span.classList.add('e-de-cmt-mark-icon');\n      this.commentMark.appendChild(span);\n    }\n    if (this.line && isNullOrUndefined(this.commentMark.parentElement)) {\n      documentHelper.pageContainer.appendChild(this.commentMark);\n      this.commentMark.addEventListener('click', this.selectComment.bind(this));\n    }\n    var positionOverlap = false;\n    var overlapKey;\n    for (var index = 0; index < commentMarkDictionary.length; index++) {\n      if (this.elementsOverlap(commentMarkDictionary.keys[index], topPosition, leftPosition)) {\n        positionOverlap = true;\n        overlapKey = commentMarkDictionary.keys[index];\n        break;\n      }\n    }\n    if (positionOverlap) {\n      var ifNotPresent = true;\n      for (var index = 0; index < commentMarkDictionary.get(overlapKey).length; index++) {\n        if (commentMarkDictionary.get(overlapKey)[index] === this) {\n          ifNotPresent = false;\n          break;\n        }\n      }\n      if (ifNotPresent) {\n        commentMarkDictionary.get(overlapKey).push(this);\n      }\n    } else {\n      commentMarkDictionary.add(this.commentMark, [this]);\n    }\n    for (var index = 0; index < commentMarkDictionary.length; index++) {\n      var element = commentMarkDictionary.keys[index];\n      if (commentMarkDictionary.get(element).length == 1) {\n        if (commentMarkDictionary.get(element)[0].commentMark) {\n          if (commentMarkDictionary.get(element)[0].commentMark.firstElementChild.classList.contains('e-de-multi-cmt-mark')) {\n            classList(commentMarkDictionary.get(element)[0].commentMark.firstElementChild, ['e-de-cmt-mark-icon'], ['e-de-multi-cmt-mark']);\n          } else if (commentMarkDictionary.get(element)[0].commentInternal.isResolved && commentMarkDictionary.get(element)[0].commentMark.firstElementChild.classList.contains('e-de-cmt-mark-icon')) {\n            classList(commentMarkDictionary.get(element)[0].commentMark.firstElementChild, ['e-de-cmt-resolve-icon'], ['e-de-cmt-mark-icon']);\n          } else if (!commentMarkDictionary.get(element)[0].commentInternal.isResolved && commentMarkDictionary.get(element)[0].commentMark.firstElementChild.classList.contains('e-de-cmt-resolve-icon')) {\n            classList(commentMarkDictionary.get(element)[0].commentMark.firstElementChild, ['e-de-cmt-mark-icon'], ['e-de-cmt-resolve-icon']);\n          }\n        }\n      }\n      if (commentMarkDictionary.get(element).length > 1) {\n        for (var z = 0; z < commentMarkDictionary.get(element).length; z++) {\n          var resolve = true;\n          for (var z_1 = 0; z_1 < commentMarkDictionary.get(element).length; z_1++) {\n            if (commentMarkDictionary.get(element)[z_1].commentInternal && !commentMarkDictionary.get(element)[z_1].commentInternal.isResolved) {\n              resolve = false;\n              break;\n            }\n          }\n          if (commentMarkDictionary.get(element)[z].commentMark) {\n            if (commentMarkDictionary.get(element)[z].commentMark.firstElementChild.classList.contains('e-de-cmt-mark-icon')) {\n              classList(commentMarkDictionary.get(element)[z].commentMark.firstElementChild, ['e-de-multi-cmt-mark'], ['e-de-cmt-mark-icon']);\n            } else if (!resolve && commentMarkDictionary.get(element)[z].commentMark.firstElementChild.classList.contains('e-de-multi-cmt-resolve')) {\n              classList(commentMarkDictionary.get(element)[z].commentMark.firstElementChild, ['e-de-multi-cmt-mark'], ['e-de-multi-cmt-resolve']);\n            } else if (resolve) {\n              classList(commentMarkDictionary.get(element)[z].commentMark.firstElementChild, ['e-de-multi-cmt-resolve'], ['e-de-multi-cmt-mark']);\n            }\n          }\n        }\n      }\n    }\n  };\n  CommentCharacterElementBox.prototype.elementsOverlap = function (elementOne, top, left) {\n    var width = elementOne.offsetWidth;\n    var height = elementOne.offsetHeight;\n    var elementOneTop = parseFloat(elementOne.style.top);\n    var elementOneLeft = parseFloat(elementOne.style.left);\n    var elementOneBottom = elementOneTop + height;\n    var elementOneRight = elementOneLeft + width;\n    var elementTwoTop = parseFloat(top);\n    var elementTwoLeft = parseFloat(left);\n    var elementTwoBottom = elementTwoTop + height;\n    var elementTwoRight = elementTwoLeft + width;\n    return !(elementOneTop > elementTwoBottom || elementOneRight < elementTwoLeft || elementOneBottom < elementTwoTop || elementOneLeft > elementTwoRight);\n  };\n  CommentCharacterElementBox.prototype.selectComment = function () {\n    var documentHelper = this.line.paragraph.bodyWidget.page.documentHelper;\n    var commentMarkDictionary = documentHelper.render.commentMarkDictionary;\n    var topPosition = this.commentMark.style.top;\n    var leftPosition = this.commentMark.style.left;\n    var currentIndex = 0;\n    var navigationArray = [];\n    for (var index = 0; index < commentMarkDictionary.keys.length; index++) {\n      if (this.elementsOverlap(commentMarkDictionary.keys[index], topPosition, leftPosition)) {\n        navigationArray = commentMarkDictionary.get(commentMarkDictionary.keys[index]);\n        break;\n      }\n    }\n    if (!documentHelper.owner.documentHelper.currentSelectedComment) {\n      currentIndex = 0;\n    } else {\n      for (var index = 0; index < navigationArray.length; index++) {\n        if (navigationArray[index].comment === documentHelper.owner.documentHelper.currentSelectedComment) {\n          currentIndex = index;\n          break;\n        }\n      }\n      if (currentIndex < navigationArray.length - 1) {\n        currentIndex += 1;\n      } else {\n        currentIndex = 0;\n      }\n    }\n    if (documentHelper.owner) {\n      if (!documentHelper.owner.commentReviewPane.commentPane.isEditMode) {\n        documentHelper.selectComment(navigationArray[currentIndex].comment);\n      } else {\n        documentHelper.owner.showComments = true;\n      }\n    }\n  };\n  CommentCharacterElementBox.prototype.removeCommentMark = function () {\n    if (this.commentMark && this.commentMark.parentElement) {\n      this.commentMark.removeEventListener('click', this.selectComment.bind(this));\n      this.commentMark.parentElement.removeChild(this.commentMark);\n    }\n  };\n  CommentCharacterElementBox.prototype.destroy = function () {\n    if (this.commentMark) {\n      this.removeCommentMark();\n    }\n    this.commentMark = undefined;\n    this.commentInternal = undefined;\n    this.commentId = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return CommentCharacterElementBox;\n}(ElementBox);\nexport { CommentCharacterElementBox };\n/**\n * @private\n */\nvar CommentElementBox = /** @class */function (_super) {\n  __extends(CommentElementBox, _super);\n  function CommentElementBox(date) {\n    var _this = _super.call(this, 0) || this;\n    _this.authorIn = '';\n    _this.initialIn = '';\n    _this.done = false;\n    _this.textIn = '';\n    _this.isReply = false;\n    _this.ownerComment = undefined;\n    _this.mentionsIn = [];\n    _this.createdDate = date;\n    _this.replyComments = [];\n    return _this;\n  }\n  Object.defineProperty(CommentElementBox.prototype, \"commentStart\", {\n    get: function () {\n      return this.commentStartIn;\n    },\n    set: function (value) {\n      this.commentStartIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CommentElementBox.prototype, \"commentEnd\", {\n    get: function () {\n      return this.commentEndIn;\n    },\n    set: function (value) {\n      this.commentEndIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CommentElementBox.prototype, \"author\", {\n    get: function () {\n      return this.authorIn;\n    },\n    set: function (value) {\n      this.authorIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CommentElementBox.prototype, \"initial\", {\n    get: function () {\n      return this.initialIn;\n    },\n    set: function (value) {\n      this.initialIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CommentElementBox.prototype, \"isResolved\", {\n    get: function () {\n      return this.done;\n    },\n    set: function (value) {\n      this.done = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CommentElementBox.prototype, \"date\", {\n    get: function () {\n      return this.createdDate;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CommentElementBox.prototype, \"text\", {\n    get: function () {\n      return this.textIn;\n    },\n    set: function (value) {\n      this.textIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(CommentElementBox.prototype, \"mentions\", {\n    get: function () {\n      return this.mentionsIn;\n    },\n    set: function (value) {\n      this.mentionsIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  CommentElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  CommentElementBox.prototype.clone = function () {\n    var comment = new CommentElementBox(this.date);\n    comment.author = this.author;\n    comment.initial = this.initial;\n    comment.commentId = this.commentId;\n    comment.replyComments = this.replyComments;\n    comment.isResolved = this.isResolved;\n    comment.text = this.text;\n    return comment;\n  };\n  CommentElementBox.prototype.destroy = function () {\n    if (this.replyComments && this.replyComments.length > 0) {\n      for (var i = 0; i < this.replyComments.length; i++) {\n        var replyComment = this.replyComments[i];\n        replyComment.destroy();\n      }\n      this.replyComments = [];\n    }\n    this.replyComments = undefined;\n    if (this.commentStartIn) {\n      this.commentStartIn.destroy();\n      this.commentStartIn = undefined;\n    }\n    if (this.commentEndIn) {\n      this.commentEndIn.destroy();\n      this.commentEndIn = undefined;\n    }\n    this.commentId = undefined;\n    this.createdDate = undefined;\n    this.initialIn = undefined;\n    this.textIn = undefined;\n    this.authorIn = undefined;\n    this.ownerComment = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  return CommentElementBox;\n}(CommentCharacterElementBox);\nexport { CommentElementBox };\n/**\n * @private\n */\nvar Page = /** @class */function () {\n  /**\n   * Initialize the constructor of Page\n   */\n  function Page(documentHelper) {\n    /**\n     * Specifies the Bonding Rectangle\n     * @private\n     */\n    this.boundingRectangle = new Rect(96, 96, 816, 1056);\n    /**\n     * @private\n     */\n    this.repeatHeaderRowTableWidget = false;\n    /**\n     * Specifies the bodyWidgets\n     * @default []\n     * @private\n     */\n    this.bodyWidgets = [];\n    /**\n     * @private\n     */\n    this.headerWidgetIn = undefined;\n    /**\n     * @private\n     */\n    this.footerWidgetIn = undefined;\n    /**\n     * @private\n     */\n    this.footnoteWidget = undefined;\n    /**\n     * @private\n     */\n    this.endnoteWidget = undefined;\n    /**\n     * @private\n     */\n    this.currentPageNum = 1;\n    /**\n     * @private\n     */\n    this.allowNextPageRendering = true;\n    this.documentHelper = documentHelper;\n    // let text: string = 'DocumentEditor';\n  }\n  Object.defineProperty(Page.prototype, \"headerWidget\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (!isNullOrUndefined(this.headerWidgetIn)) {\n        if (this.headerWidgetIn.parentHeaderFooter) {\n          return this.headerWidgetIn.parentHeaderFooter;\n        }\n      }\n      return this.headerWidgetIn;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.headerWidgetIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Page.prototype, \"footerWidget\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (!isNullOrUndefined(this.footerWidgetIn)) {\n        if (this.footerWidgetIn.parentHeaderFooter) {\n          return this.footerWidgetIn.parentHeaderFooter;\n        }\n      }\n      return this.footerWidgetIn;\n    },\n    /**\n     * @private\n     */\n    set: function (value) {\n      this.footerWidgetIn = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Page.prototype, \"index\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.documentHelper) {\n        return this.documentHelper.pages.indexOf(this);\n      }\n      return -1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Page.prototype, \"previousPage\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var index = this.index;\n      if (index > 0) {\n        return this.documentHelper.pages[index - 1];\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Page.prototype, \"nextPage\", {\n    /**\n     * @private\n     */\n    get: function () {\n      var index = this.index;\n      if (index < this.documentHelper.pages.length - 1) {\n        return this.documentHelper.pages[index + 1];\n      }\n      return undefined;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Page.prototype, \"sectionIndex\", {\n    /**\n     * @private\n     */\n    get: function () {\n      if (this.bodyWidgets.length > 0) {\n        return this.bodyWidgets[0].index;\n      }\n      return -1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Page.prototype, \"viewer\", {\n    get: function () {\n      return this.documentHelper.owner.viewer;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Page.prototype.destroy = function () {\n    if (this.headerWidget && this.headerWidget.page === this) {\n      this.headerWidget.page = undefined;\n    }\n    if (this.footerWidget && this.footerWidget.page === this) {\n      this.footerWidget.page = undefined;\n    }\n    if (this.headerWidgetIn && !isNullOrUndefined(this.headerWidgetIn.parentHeaderFooter)) {\n      if (this.viewer && this.documentHelper.owner.editorModule) {\n        this.documentHelper.owner.editorModule.removeFieldInWidget(this.headerWidgetIn);\n        // Remove content control\n        this.documentHelper.owner.editorModule.removeFieldInWidget(this.headerWidgetIn, false, true);\n      }\n      this.headerWidgetIn.destroy();\n      this.headerWidget = undefined;\n    }\n    if (this.footerWidgetIn && !isNullOrUndefined(this.footerWidgetIn.parentHeaderFooter)) {\n      if (this.viewer && this.documentHelper.owner.editorModule) {\n        this.documentHelper.owner.editorModule.removeFieldInWidget(this.footerWidgetIn);\n        // Remove content control\n        this.documentHelper.owner.editorModule.removeFieldInWidget(this.footerWidgetIn, false, true);\n      }\n      this.footerWidgetIn.destroy();\n      this.footerWidgetIn = undefined;\n    }\n    this.bodyWidgets = [];\n    this.bodyWidgets = undefined;\n    if (!isNullOrUndefined(this.documentHelper)) {\n      if (!isNullOrUndefined(this.documentHelper.pages)) {\n        this.documentHelper.removePage(this);\n      }\n    }\n    this.documentHelper = undefined;\n  };\n  /**\n   * Disposes the internal objects which are maintained.\n   * @private\n   */\n  Page.prototype.componentDestroy = function () {\n    if (this.headerWidgetIn) {\n      this.headerWidgetIn.componentDestroy();\n      this.headerWidgetIn = undefined;\n    }\n    if (this.footerWidgetIn) {\n      this.footerWidgetIn.componentDestroy();\n      this.footerWidgetIn = undefined;\n    }\n    if (this.bodyWidgets) {\n      for (var i = 0; i < this.bodyWidgets.length; i++) {\n        var bodyWidget = this.bodyWidgets[i];\n        bodyWidget.componentDestroy();\n      }\n      this.bodyWidgets = [];\n      this.bodyWidgets = undefined;\n    }\n    this.documentHelper = undefined;\n  };\n  return Page;\n}();\nexport { Page };\n/**\n * @private\n */\nvar WTableHolder = /** @class */function () {\n  function WTableHolder() {\n    this.tableColumns = [];\n    /**\n     * @private\n     */\n    this.tableWidth = 0;\n  }\n  Object.defineProperty(WTableHolder.prototype, \"columns\", {\n    get: function () {\n      return this.tableColumns;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @private\n   */\n  WTableHolder.prototype.resetColumns = function () {\n    for (var i = 0; i < this.tableColumns.length; i++) {\n      this.tableColumns[i].destroy();\n    }\n    this.tableColumns = [];\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.getPreviousSpannedCellWidth = function (previousColumnIndex, curColumnIndex) {\n    var width = 0;\n    for (var i = previousColumnIndex; i < curColumnIndex; i++) {\n      width += this.tableColumns[i].preferredWidth;\n    }\n    return width;\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.addColumns = function (currentColumnIndex, columnSpan, width, sizeInfo, offset, preferredWidthType) {\n    for (var i = this.columns.length; i < columnSpan; i++) {\n      this.columns.push(new WColumn());\n    }\n    var availableWidth = 0;\n    for (var j = currentColumnIndex; j < columnSpan; j++) {\n      availableWidth += this.columns[j].preferredWidth;\n    }\n    // If width to add is greater than preferred width, then preferred width will be increased.\n    // In case of Grid span > 1, only last grid column width will be updated.\n    var gridSpan = columnSpan - currentColumnIndex;\n    if (!(gridSpan > 1) && availableWidth < width) {\n      this.columns[columnSpan - 1].preferredWidth += width - availableWidth;\n    }\n    if (sizeInfo.minimumWordWidth > this.columns[columnSpan - 1].minimumWordWidth) {\n      this.columns[columnSpan - 1].minimumWordWidth = sizeInfo.minimumWordWidth;\n    }\n    if (sizeInfo.maximumWordWidth > this.columns[columnSpan - 1].maximumWordWidth) {\n      this.columns[columnSpan - 1].maximumWordWidth = sizeInfo.maximumWordWidth;\n    }\n    if (sizeInfo.minimumWidth > this.columns[columnSpan - 1].minimumWidth) {\n      this.columns[columnSpan - 1].minimumWidth = sizeInfo.minimumWidth;\n    }\n    if (offset > this.columns[columnSpan - 1].endOffset) {\n      this.columns[columnSpan - 1].endOffset = offset;\n    }\n    this.columns[columnSpan - 1].widthType = preferredWidthType;\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.getTotalWidth = function (type) {\n    var width = 0;\n    for (var i = 0; i < this.columns.length; i++) {\n      var column = this.columns[i];\n      width += type === 0 ? column.preferredWidth : type === 1 ? column.minimumWordWidth : type === 2 ? column.maximumWordWidth : column.minimumWidth;\n    }\n    return width;\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.isFitColumns = function (containerWidth, preferredTableWidth, isAutoWidth) {\n    // Gets total preferred width.\n    var totalColumnWidth = this.getTotalWidth(0);\n    // If auto table width, based on total column widths, minimum value will be updated.\n    if (isAutoWidth) {\n      this.tableWidth = preferredTableWidth > totalColumnWidth ? totalColumnWidth : preferredTableWidth;\n    } else {\n      this.tableWidth = preferredTableWidth;\n    }\n    // If total columns width doesn't match table width, then all grid column widths will be updated by even factor.\n    // If totalColumnWidth < TableWidth, all grid columns are enlarged. Otherwise shrinked.\n    if (totalColumnWidth !== this.tableWidth) {\n      var factor = this.tableWidth / totalColumnWidth;\n      factor = isNaN(factor) || factor === Infinity ? 1 : factor;\n      for (var i = 0; i < this.columns.length; i++) {\n        var column = this.columns[i];\n        //column.PreferredWidth = factor * column.PreferredWidth;\n        if (factor * column.preferredWidth < column.minWidth) {\n          return false;\n        }\n      }\n      return true;\n    } else {\n      return true;\n    }\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.isAllColumnHasPointWidthType = function () {\n    var isPointWidthType = true;\n    for (var i = 0; i < this.columns.length; i++) {\n      if (this.columns[i].widthType != 'Point') {\n        isPointWidthType = false;\n      }\n    }\n    return isPointWidthType;\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.autoFitColumn = function (containerWidth, preferredTableWidth, isAuto, isNestedTable, isAutoFit, hasSpannedCells, indent, pageContainerWidth) {\n    // Cell's preferred width should be considered until the table width fits to the container width.\n    var maxTotal = 0;\n    var minTotal = 0;\n    // For preferred width set as 0 pixels (not auto), then minimum word width only need to be considered.\n    // But currently there is no way to find any one of cell in particular column has 0 px preferred width set.\n    // If all columns are set as 0 pixels, then this will work.\n    var remainingWidthTotal = 0;\n    var isAllColumnPointWidth = true;\n    var minWidthExceedCellWidth = 0;\n    var columnIndexCollection = [];\n    for (var i = 0; i < this.columns.length; i++) {\n      var column = this.columns[i];\n      // If preferred width of column is less than column minimum width and also column is empty, considered column preferred width\n      if (column.minimumWordWidth === 0 && column.maximumWordWidth === 0 && column.minWidth === 0) {\n        column.minimumWordWidth = column.preferredWidth;\n        column.maximumWordWidth = column.preferredWidth;\n        column.minWidth = column.preferredWidth;\n      }\n      if (column.widthType !== 'Point') {\n        isAllColumnPointWidth = false;\n      }\n      var difference = 0;\n      maxTotal += column.preferredWidth > column.maximumWordWidth ? column.preferredWidth : column.maximumWordWidth;\n      minTotal += column.preferredWidth > column.minimumWordWidth ? column.preferredWidth : column.minimumWordWidth;\n      var preferred = column.preferredWidth === 0 ? column.minimumWordWidth : column.preferredWidth > column.minimumWordWidth ? column.preferredWidth : column.minimumWordWidth;\n      difference = column.maximumWordWidth - preferred;\n      remainingWidthTotal += difference > 0 ? difference : 0;\n      if (column.preferredWidth < column.minimumWordWidth) {\n        minWidthExceedCellWidth += column.minimumWordWidth - column.preferredWidth;\n      } else {\n        columnIndexCollection.push(i);\n      }\n    }\n    // Try to fit maximum word width to match preferredTableWidth.\n    if (maxTotal <= preferredTableWidth) {\n      for (var i = 0; i < this.columns.length; i++) {\n        var column = this.columns[i];\n        if (column.widthType === 'Point') {\n          if (column.preferredWidth < column.minimumWordWidth) {\n            column.preferredWidth = column.minimumWordWidth;\n          }\n          continue;\n        }\n        if (column.preferredWidth < column.maximumWordWidth) {\n          // if (isNestedTable) {\n          //     column.preferredWidth = column.minimumWidth + column.minimumWordWidth;\n          // } else {\n          column.preferredWidth = column.maximumWordWidth;\n          //}\n        }\n      }\n      // If the width is defined for table(cells undefined) then fit the columns to preferred table width using FitColumns.\n      if (!isAuto) {\n        this.fitColumns(containerWidth, preferredTableWidth, isAuto, isAutoFit);\n      }\n    } else {\n      var totalPreferredWidth = this.getTotalWidth(0);\n      if (isAllColumnPointWidth && !hasSpannedCells) {\n        if (minTotal > containerWidth) {\n          if (containerWidth > totalPreferredWidth) {\n            minWidthExceedCellWidth -= containerWidth - totalPreferredWidth;\n          }\n          if (columnIndexCollection.length > 0 && minWidthExceedCellWidth > 0) {\n            var averageWidth = minWidthExceedCellWidth / columnIndexCollection.length;\n            for (var i = 0; i < this.columns.length; i++) {\n              var column = this.columns[i];\n              if (columnIndexCollection.indexOf(i) === -1) {\n                column.preferredWidth = column.minimumWordWidth;\n              } else {\n                column.preferredWidth = column.preferredWidth - averageWidth;\n              }\n            }\n            totalPreferredWidth = this.getTotalWidth(0);\n          }\n        }\n      }\n      // If the table preferred table width is set, then check its greater than total minimum word width. \n      // If yes then set table preferred table width as container width. Else, check whether the total minimum word width is less than container width.\n      // If yes, then set total minimum word width as container width. Else, set the container width to container width.\n      if (!isAuto) {\n        //let totalMinimumWordWidth: number = this.getTotalWidth(1);\n        //if (preferredTableWidth > totalMinimumWordWidth && totalMinimumWordWidth < containerWidth) {\n        var considerMinAsTableWidth = false;\n        if (preferredTableWidth < minTotal && minTotal + (isNullOrUndefined(indent) ? 0 : indent) < containerWidth) {\n          considerMinAsTableWidth = true;\n        }\n        this.fitColumns(containerWidth, considerMinAsTableWidth ? minTotal : preferredTableWidth, isAuto, isAutoFit);\n        return;\n        //}\n        //containerWidth = preferredTableWidth < totalMinimumWordWidth ? totalMinimumWordWidth < containerWidth ? totalMinimumWordWidth : containerWidth : preferredTableWidth;\n      }\n      // Try to fit minimum word width to match preferredTableWidth or containerWidth.\n      if (minTotal <= preferredTableWidth || minTotal <= containerWidth) {\n        var availableWidth = containerWidth > preferredTableWidth ? containerWidth : preferredTableWidth;\n        availableWidth = availableWidth - minTotal;\n        for (var i = 0; i < this.columns.length; i++) {\n          var column = this.columns[i];\n          if (column.widthType === 'Point') {\n            continue;\n          }\n          if (column.preferredWidth === 0) {\n            column.preferredWidth = column.minimumWordWidth;\n          } else {\n            if (column.preferredWidth < column.minimumWordWidth) {\n              column.preferredWidth = column.minimumWordWidth;\n            }\n          }\n          var difference = column.maximumWordWidth - column.preferredWidth;\n          difference = difference > 0 ? difference : 0;\n          var factor = availableWidth * (difference / remainingWidthTotal);\n          column.preferredWidth += isNaN(factor) ? 0 : factor;\n        }\n      } else {\n        // Try to fit minimum width for each column and allot remaining space to columns based on their minimum word width.\n        var totalMinimumWordWidth = this.getTotalWidth(1);\n        var totalMinWidth = this.getTotalWidth(3);\n        if (totalMinWidth > 2112) {\n          var cellWidth = 2112 / this.columns.length;\n          for (var i = 0; i < this.columns.length; i++) {\n            this.columns[i].preferredWidth = cellWidth;\n          }\n        } else {\n          var availableWidth = 0;\n          if (totalMinWidth < containerWidth && containerWidth - totalMinWidth >= 1 && !isAllColumnPointWidth || isAllColumnPointWidth && !hasSpannedCells && totalMinimumWordWidth > containerWidth) {\n            availableWidth = containerWidth - totalMinWidth;\n            for (var i = 0; i < this.columns.length; i++) {\n              var column = this.columns[i];\n              // The factor depends of current column's minimum word width and total minimum word width.\n              var factor = availableWidth * column.minimumWordWidth / totalMinimumWordWidth;\n              factor = isNaN(factor) ? 0 : factor;\n              column.preferredWidth = (column.minimumWidth == 0 ? 1 : column.minimumWidth) + factor;\n            }\n            // table width exceeds container width\n          } else if (totalPreferredWidth > containerWidth) {\n            var factor = containerWidth / totalPreferredWidth;\n            for (var i = 0; i < this.columns.length; i++) {\n              var column = this.columns[i];\n              column.preferredWidth = column.preferredWidth * factor;\n            }\n          }\n        }\n      }\n    }\n    this.tableWidth = this.getTotalWidth(0);\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.getValidColumnIndex = function (index) {\n    var endOffset = 0;\n    for (var i = 0; i < this.columns.length; i++) {\n      var column = this.columns[i];\n      if (i < index) {\n        endOffset = column.endOffset;\n      } else if (endOffset === column.endOffset) {\n        //Increment the columnIndex if next column has zero width.\n        index++;\n      } else {\n        break;\n      }\n    }\n    return index;\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.fitColumns = function (containerWidth, preferredTableWidth, isAutoWidth, isAutoFit, indent) {\n    if (isNullOrUndefined(indent)) {\n      indent = 0;\n    }\n    // Gets total preferred width.\n    var totalColumnWidth = this.getTotalWidth(0);\n    // Neglected left indent value, because in preferred table width left indent value is neglected\n    if (isAutoWidth) {\n      totalColumnWidth -= indent;\n    }\n    // If auto table width, based on total column widths, minimum value will be updated.\n    if (isAutoWidth) {\n      this.tableWidth = totalColumnWidth;\n    } else {\n      this.tableWidth = preferredTableWidth;\n    }\n    // If total columns width doesn't match table width, then all grid column widths will be updated by even factor.\n    // If totalColumnWidth < TableWidth, all grid columns are enlarged. Otherwise shrinked.\n    if (totalColumnWidth !== this.tableWidth) {\n      var factor = this.tableWidth / totalColumnWidth;\n      factor = isNaN(factor) || factor === Infinity ? 1 : factor;\n      for (var i = 0; i < this.columns.length; i++) {\n        var column = this.columns[i];\n        if (column.widthType === 'Percent' && !isAutoWidth && !isAutoFit && totalColumnWidth > this.tableWidth) {\n          if (i !== 0 && column.endOffset > this.tableWidth) {\n            var totalCellWidth = this.getCellWidth(0, i + 1, preferredTableWidth);\n            if (totalCellWidth > this.tableWidth) {\n              column.preferredWidth -= totalCellWidth - this.tableWidth;\n              if (column.preferredWidth === 0 || column.preferredWidth < column.minimumWidth) {\n                column.preferredWidth = column.minimumWidth > 0 ? column.minimumWidth : 1;\n                this.columns[0].preferredWidth -= column.preferredWidth;\n              }\n            }\n          }\n        } else {\n          column.preferredWidth = factor * column.preferredWidth;\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.getCellWidth = function (columnIndex, columnSpan, preferredTableWidth) {\n    var width = 0;\n    for (var i = 0; i < columnSpan; i++) {\n      width += this.tableColumns[i + columnIndex].preferredWidth;\n    }\n    return width;\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.validateColumnWidths = function () {\n    for (var i = 0; i < this.columns.length; i++) {\n      if (i === 0) {\n        if (this.columns[i].preferredWidth !== this.columns[i].endOffset) {\n          this.columns[i].preferredWidth = this.columns[i].endOffset;\n        }\n      } else {\n        // If Previous column offset + current column preferred width is less than current column offset, \n        // Then current column preferred width is set to current column offset - previous column offset.\n        if (this.columns[i - 1].endOffset + this.columns[i].preferredWidth < this.columns[i].endOffset) {\n          if (this.columns[i - 1].endOffset === 0) {\n            this.columns[i].preferredWidth = this.columns[i].endOffset - this.getPreviousValidOffset(i - 2);\n          } else {\n            this.columns[i].preferredWidth = this.columns[i].endOffset - this.columns[i - 1].endOffset;\n          }\n        }\n      }\n    }\n  };\n  WTableHolder.prototype.getPreviousValidOffset = function (columnIndex) {\n    for (var j = columnIndex; j >= 0; j--) {\n      if (this.columns[j].endOffset !== 0) {\n        return this.columns[j].endOffset;\n      }\n    }\n    return 0;\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.clone = function () {\n    var tableHolder = new WTableHolder();\n    tableHolder.tableWidth = this.tableWidth;\n    for (var i = 0; i < this.columns.length; i++) {\n      tableHolder.columns.push(this.columns[i].clone());\n    }\n    return tableHolder;\n  };\n  /**\n   * @private\n   */\n  WTableHolder.prototype.destroy = function () {\n    if (!isNullOrUndefined(this.tableColumns)) {\n      for (var i = 0; i < this.tableColumns.length; i++) {\n        var column = this.tableColumns[i];\n        column.destroy();\n      }\n    }\n    this.tableColumns = [];\n    this.tableColumns = undefined;\n    this.tableWidth = undefined;\n  };\n  return WTableHolder;\n}();\nexport { WTableHolder };\n/**\n * @private\n */\nvar WColumn = /** @class */function () {\n  function WColumn() {\n    /**\n     * @private\n     */\n    this.preferredWidth = 0;\n    /**\n     * @private\n     */\n    this.minWidth = 0;\n    /**\n     * @private\n     */\n    this.maxWidth = 0;\n    /**\n     * @private\n     */\n    this.endOffset = 0;\n    /**\n     * @private\n     */\n    this.minimumWordWidth = 0;\n    /**\n     * @private\n     */\n    this.maximumWordWidth = 0;\n    /**\n     * @private\n     */\n    this.minimumWidth = 0;\n  }\n  /**\n   * @private\n   */\n  WColumn.prototype.clone = function () {\n    var column = new WColumn();\n    column.preferredWidth = this.preferredWidth;\n    column.minWidth = this.minWidth;\n    column.maxWidth = this.maxWidth;\n    return column;\n  };\n  /**\n   * @private\n   */\n  WColumn.prototype.destroy = function () {\n    this.preferredWidth = undefined;\n    this.minWidth = undefined;\n    this.maxWidth = undefined;\n  };\n  return WColumn;\n}();\nexport { WColumn };\n/**\n * @private\n */\nvar ColumnSizeInfo = /** @class */function () {\n  function ColumnSizeInfo() {\n    /**\n     * @private\n     */\n    this.minimumWordWidth = 0;\n    /**\n     * @private\n     */\n    this.maximumWordWidth = 0;\n    /**\n     * @private\n     */\n    this.minimumWidth = 0;\n    /**\n     * @private\n     */\n    this.hasMinimumWidth = false;\n    /**\n     * @private\n     */\n    this.hasMinimumWordWidth = false;\n    /**\n     * @private\n     */\n    this.hasMaximumWordWidth = false;\n  }\n  return ColumnSizeInfo;\n}();\nexport { ColumnSizeInfo };\n/**\n * @private\n */\nvar CommentEditInfo = /** @class */function () {\n  function CommentEditInfo() {}\n  return CommentEditInfo;\n}();\nexport { CommentEditInfo };\n/**\n * @private\n */\nvar BreakElementBox = /** @class */function (_super) {\n  __extends(BreakElementBox, _super);\n  function BreakElementBox() {\n    return _super.call(this) || this;\n  }\n  /**\n   * @private\n   */\n  BreakElementBox.prototype.clone = function () {\n    var breakElement = _super.prototype.clone.call(this);\n    breakElement.breakClearType = this.breakClearType;\n    return breakElement;\n  };\n  /*\n  * @Private\n  */\n  BreakElementBox.prototype.destroy = function () {\n    this.breakClearType = undefined;\n    _super.prototype.destroy.call(this);\n  };\n  /*\n  * @Private\n  */\n  BreakElementBox.prototype.componentDestroy = function () {\n    this.breakClearType = undefined;\n    _super.prototype.componentDestroy.call(this);\n  };\n  return BreakElementBox;\n}(TextElementBox);\nexport { BreakElementBox };\n/**\n * @private\n */\nvar TabStopListInfo = /** @class */function () {\n  function TabStopListInfo() {}\n  return TabStopListInfo;\n}();\nexport { TabStopListInfo };\n/**\n * @private\n */\nvar FootnoteEndnoteMarkerElementBox = /** @class */function (_super) {\n  __extends(FootnoteEndnoteMarkerElementBox, _super);\n  function FootnoteEndnoteMarkerElementBox() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @private\n   */\n  FootnoteEndnoteMarkerElementBox.prototype.getLength = function () {\n    return 1;\n  };\n  /**\n   * @private\n   */\n  FootnoteEndnoteMarkerElementBox.prototype.clone = function () {\n    return _super.prototype.clone.call(this);\n  };\n  return FootnoteEndnoteMarkerElementBox;\n}(TextElementBox);\nexport { FootnoteEndnoteMarkerElementBox };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","WTableFormat","WRowFormat","WCellFormat","CharacterRangeType","FontScriptType","WParagraphFormat","WCharacterFormat","WBorder","WBorders","isNullOrUndefined","createElement","classList","Dictionary","HelperMethods","WebLayoutViewer","Revision","Rect","x","y","width","height","defineProperty","get","enumerable","configurable","isIntersecting","currentBound","bottom","right","clone","Padding","left","top","Margin","leftMargin","topMargin","rightMargin","bottomMargin","destroy","undefined","Widget","childWidgets","index","BodyWidget","page","containerWidget","FootNoteWidget","bodyWidgets","indexOf","length","widget","indexInOwner","documentHelper","owner","editorModule","removeEditRange","previousPage","footnoteWidget","previousContainer","TableCellWidget","getPreviousSplitWidget","footNoteType","previousWidget","previousRenderedWidget","TableRowWidget","HeaderFooterWidget","lastChild","allowNextPageRendering","nextPage","nextContainer","getNextSplitWidget","nextWidget","nextRenderedWidget","firstChild","previous","equals","BlockWidget","next","getPreviousSplitWidgets","widgets","previousSplitWidget","unshift","getSplitWidgets","push","nextSplitWidget","combineWidget","viewer","root","shift","splitWidget","combine","TableWidget","combineRows","addWidgets","destroyInternal","LineWidget","ParagraphWidget","paragraph","previousRow","i","previousCell","cellFormat","rowSpan","j","currentCell","columnIndex","isSplittedCell","k","block","splice","ownerRow","removeChild","child","pop","margin","componentDestroy","BlockContainer","_super","_this","apply","arguments","floatingElements","footNoteReference","sectionFormatIn","container","sectionFormat","set","value","getHierarchicalIndex","hierarchicalIndex","node","headerFooterType","pageIndex","pages","removedHeaderFooters","call","getTableCellWidget","touchPoint","childWidget","tableWidth","wrapTextAround","getTableCellWidth","tableCellWidget","n","chilgWidget","headerWidget","footerWidget","headerWidgetIn","footerWidgetIn","type","isEmpty","point","tableCell","headerFooter","parentHeaderFooter","isLayouted","isFieldCodeBlock","locked","lockedBy","TextFrame","containerShape","line","bodyWidget","blockAdv","paragraphFormat","leftIndent","tableFormat","rightIndent","isPageBreak","children","pageBreak","isColumnBreak","columnBreak","getIndex","ownerTable","getContainerWidth","isInsideTable","preferredWidthType","associatedCell","isGridUpdated","containerWidth","columnSpan","tableHolder","columns","preferredWidth","getCellWidth","shape","convertPixelToPoint","textFrame","marginLeft","marginRight","padding","compatibilityMode","firstRow","colIndex","pageWidth","bidi","contentControlProperties","getMinimumAndMaximumWordWidth","minimumWordWidth","maximumWordWidth","Error","footNote","isSectionBreak","isChangeDetected","isCreatedUsingHtmlSpanTag","clientX","characterFormat","isEndsWithPageBreak","isEndsWithColumnBreak","isContainsShapeAlone","containsShape","lineWidget","inline","ShapeBase","textWrappingStyle","inlineElement","TextElementBox","ImageElementBox","BookmarkElementBox","EditRangeEndElementBox","EditRangeStartElementBox","ChartElementBox","ShapeElementBox","ContentControl","FieldElementBox","isLinkedFieldCharacter","getInline","offset","indexInInline","count","isStarted","splittedWidget","ListTextElementBox","getLength","element","getTotalLength","convertPointToPixel","text","elements","imageWidths","add","fieldType","fieldBegin","fieldEnd","fieldSeparator","nextNode","pattern","RegExp","matches","matchInfo","exec","match","matchedValue","wordStartIndex","wordEndIndex","keys","span","startIndex","spanLength","substring","textHelper","getWidth","scriptType","imageWidth","Math","max","maximum","measureParagraph","paraIndent","firstLineIndent","isArabicChar","character","String","fromCharCode","isHebrewChar","isHindiChar","isKoreanChar","isJapanese","isThaiCharacter","isChineseChar","getFontScriptType","inputCharacter","Hindi","Korean","Japanese","Chinese","Arabic","Hebrew","Thai","English","splitTextByFontScriptType","inputText","fontScriptTypes","splittedText","prevCharacterType","currCharacterType","surrogateRegex","test","splitTextRangeByScriptType","lineIndex","isField","iIncrementer","nextLineWidget","m","elementBox","textElement","splitedTextCollection","clonedtextElement","revisions","updateTextElementInRevisionRange","splitLtrAndRtlText","isPrevLTRText","hasRTLCharacter","characterRangeTypes","isTextBidi","isRTLLang","charTypeIndex","isRightToLeftLanguage","localeIdBidi","splitTextByConsecutiveLtrAndRtl","clonedTextElement","characterRange","splittedElementBox","revision","inlineIndex","range","removedIds","combineconsecutiveRTL","currentTxtRange","nextTxtRange","complexScript","RightToLeft","isWordSplitChar","isEqualFormat","compareRevisions","revisionA","revisionB","copyFormat","cloneLine","TablePosition","positioning","allowOverlap","distanceTop","distanceRight","distanceLeft","distanceBottom","verticalAlignment","verticalOrigin","verticalPosition","horizontalAlignment","horizontalOrigin","horizontalPosition","flags","isDefaultFormatUpdated","isContainInsideTable","footnoteElement","leftBorderWidth","rightBorderWidth","topBorderWidth","bottomBorderWidth","WTableHolder","spannedRowCollection","row","combineCells","contains","getOwnerWidth","isBasedOnViewer","getTableWidth","rowWidth","cellWidth","rowWidget","cellWidget","getTableClientWidth","clientWidth","cell","getMinimumPreferredWidth","defaultWidth","fitCellsToClientArea","factor","rowFormat","gridAfterWidth","gridBeforeWidth","calculateGrid","isInsertRow","tempGrid","tempSpanDecimal","spannedCells","tableCellInfo","rowCellInfo","gridBefore","currOffset","gridBeforeWidthType","startOffset","parseFloat","toFixed","removeSpannedCell","gridAfter","rowIndex","containsKey","cellIndex","sort","a","updateColumnSpans","clear","tempSpan","getGridCount","checkTableColumns","isAllColumnHasPointWidth","isAllColumnHasPointWidthType","getTotalWidth","isAutoFit","buildTableColumns","layout","getParentTable","allowAutoFit","resetColumns","rowSpannedCells","isAutoWidth","clientArea","isZeroWidth","pageContainerWidth","splitWidthToTableCells","hasSpannedCells","sizeInfo","ColumnSizeInfo","beforeWidth","alignTablesRowByRow","tableAlignment","gridAfterWidthType","minimumWidth","addColumns","rowSpannedCell","getCellSizeInfo","ownerColumn","insertIndex","validateColumnWidths","autoFitColumn","fitColumns","setWidthToCells","rw","afterWidth","updateProperties","updateAllowAutoFit","currentSelectedTable","autoFitBehavior","z","getMaxRowWidth","updateWidth","dragValue","totalPreferredWidth","ownerWidth","convertPointToPercent","tablePreferredWidth","round","updateChildWidgetLeft","updateLeftIndent","shiftWidgetsForRtlTable","tableWidget","clientAreaX","clientAreaRight","cellSpace","cellSpacing","rowX","updateWidgetLeft","table","isBidiTable","getTableOf","getRowOf","ownerBase","fitChildToClientArea","getColumnCellsForSelection","startCell","endCell","cells","start","end","tableClientWidth","splitWidthToRowCells","insertTableRowsInternal","tableRows","updateRowIndex","getCellStartOffset","headerHeight","isRenderBookmarkEnd","editRangeID","cellHeight","getCellOf","getCell","getCellUsingColumnIndex","tableGrid","prevOffset","tabIndex","tabGrid","gridEndIndex","gridStartIndex","getOffsetIndex","gridWidth","gridDecimalWidth","getCellOffset","updateRowBySpannedCells","getPreviousRowSpannedCells","currentRowIndex","spannedCell","rowSpanEnd","include","isCellsHaveSameWidthUnit","firstCellWidthUnit","updateUniformWidthUnitForCells","getFirstRowWidth","getCellWidget","getValidColumnIndex","colSpan","getVerticalMergeStartCell","matchedCell","spacing","shiftWidgetForRtlTable","prevSpannedCellWidth","prevColumnIndex","getPreviousSpannedCellWidth","sizeInfoInternal","updatedTopBorders","isRenderBookmarkStart","isRenderEditRangeStart","isRenderEditRangeEnd","containsMargins","hasValue","getContainerTable","nextCell","cellPreferredWidth","getCellLeftBorder","leftBorder","cellBorder","borders","rowBorders","tableBorders","getLeftBorderToRenderByHierarchy","prevCell","getPreviousCell","getPreviousCellLeftBorder","getLeftBorderWidth","borderWidth","getLineWidth","getRightBorderWidth","getCellRightBorder","getCellSpacing","actualCellSpacing","cellSpacingToLayout","isSetWidth","hasMinimumWidth","hasMinimumWordWidth","size","lineStyle","hasNoneStyle","prevCellRightBorder","getBorderBasedOnPriority","border","adjacentBorder","borderWeight","getBorderWeight","adjacentBorderWeight","borderPriority","getPrecedence","adjacentBorderPriority","borderColInRGB","convertHexToRgb","color","R1","r","G1","g","B1","adjacentBorderColInRGB","R2","G2","B2","borderBrightness","adjacentBorderBrightness","ownerCell","isFirstCell","isRowBorderDefined","isBorderDefined","vertical","rightBorder","getRightBorderToRenderByHierarchy","getNextCell","getAdjacentCellRightBorder","nextCellLeftBorder","isLastCell","getCellTopBorder","topBorder","getTopBorderToRenderByHierarchy","prevTopCell","getTopAdjacentCell","getPreviousCellTopBorder","previousTopCell","prevTopCellBottomBorder","getBottomBorderToRenderByHierarchy","isFirstRow","horizontal","getCellBottomBorder","bottomBorder","nextBottomCell","nextRow","getAdjacentCellBottomBorder","prevBottomCellTopBorder","isLastRow","widthInfo","selection","selectedWidgets","remove","paragraphWidget","marginTop","maxBaseLine","skipClipImage","layoutedElements","splitParagraph","lastElement","isFirstLine","isLastLine","getOffset","textIndex","getEndOffset","CommentCharacterElementBox","isInsert","isSpellCheck","previousLine","currentElement","getNextTextElement","FootnoteElementBox","ElementBox","isRightToLeft","canTrigger","ischangeDetected","isVisible","isSpellChecked","canTrack","isMarkedForRevision","skipformFieldLength","linkFieldCharacter","linkFieldTraversingForward","fields","formFieldData","formFields","isInsertFormField","linkFieldTraversingBackwardSeparator","isFieldEnd","linkFieldTraversingBackward","previousNode","childNode","prevParagraph","nextLine","childElement","objectCharacter","fieldCodeType","hasFieldEnd","fieldBeginInternal","fieldSeparatorInternal","fieldEndInternal","field","nextElement","isInHeaderFooter","cloneRevisions","slice","FormField","name","enabled","helpText","statusText","TextFormField","maxLength","defaultValue","format","textForm","getFormFieldInfo","textFormField","copyFieldInfo","info","CheckBoxFormField","sizeType","checked","checkBoxForm","checkBoxFormField","DropDownFormField","dropdownItems","selectedIndex","dropDown","dropDownFormField","baselineOffset","trimEndWidth","ignoreOnceItems","istextCombined","renderedFontFamily","errorCollection","textEle","Footnote","separator","continuationNotice","continuationSeparator","isLayout","footnoteType","symbolCode","symbolFontName","customMarker","ErrorTextElementBox","startIn","endIn","FieldTextElementBox","fieldText","fieldSpan","revisionChanges","TabElementBox","tabText","tabLeader","tabSpan","bookmarkTypeIn","refereneceIn","nameIn","propertiesIn","properties","reference","bookmarkType","widgetType","contentControlWidgetType","ContentControlProperties","revisionChange","contentControlListItems","xmlMapping","lockContentControl","lockContents","tag","title","appearance","hasPlaceHolderText","multiline","isTemporary","isChecked","dateCalendarType","dateStorageFormat","dateDisplayLocale","dateDisplayFormat","checkedState","uncheckedState","ContentControlListItems","displayText","CheckBoxState","font","XmlMapping","isMapped","isWordMl","prefixMapping","xPath","storeItemId","customXmlPart","CustomXmlPart","id","xml","ShapeCommon","alternateText","shapeId","widthScale","heightScale","visible","verticalRelativePercent","horizontalRelativePercent","heightRelativePercent","widthRelativePercent","zOrderPosition","textWrappingType","layoutInCell","lockAnchor","autoShapeType","lineFormat","fillFormat","marginBottom","toString","textVerticalAlignment","LineFormat","lineFormatType","weight","dashStyle","FillFormat","fill","isInlineImage","imageStr","imgElement","isInlineImageIn","crop","isMetaFile","isCompressed","cropX","cropWidthScale","cropY","cropHeightScale","cropWidth","cropHeight","document","image","imageString","src","metaFileImageString","isCrop","listLevel","isListFollowCharacter","isFollowCharacter","list","editRangeStart","editRangeId","columnFirst","columnLast","user","group","renderLockMark","currentUser","locale","editRangeMark","style","display","className","appendChild","getConstant","parentElement","pageContainer","removeEditRangeMark","editRangeEnd","chartTitle","chartType","chartElement","chartCategory","chartSeries","chartArea","ChartArea","chartPlotArea","chartTitleArea","ChartTitleArea","chartLegend","ChartLegend","chartPrimaryCategoryAxis","ChartCategoryAxis","chartPrimaryValueAxis","chartDataTable","ChartDataTable","gapWidth","overlap","div","officeChartInternal","chart","loaded","onChartLoaded","bind","officeChart","convertChartToImage","then","dataURL","series","foreColor","ChartCategory","categoryXName","chartData","ChartData","yValue","xValue","legendPostion","ChartSeries","chartDataFormat","trendLines","errorBar","ChartErrorBar","dataLabels","ChartDataLabels","seriesFormat","ChartSeriesFormat","sliceAngle","holeSize","trendLine","direction","endStyle","errorValue","errorDirection","position","isLegend","isBubble","isCategory","isSeries","isValueEnabled","isPercentageEnabled","showLeaderLines","ChartTrendLines","intercept","forward","backward","displayRSquared","displayEquation","dataFormat","ChartDataFormat","ChartLayout","fontName","fontSize","ChartFill","fillColor","fillRGB","layoutX","layoutY","majorTickMark","minorTickMark","tickLabelPostion","hasMinorGridLines","hasMajorGridLines","majorUnit","isAutoMajor","maximumValue","minimumValue","categoryType","numberFormat","isSeriesKeys","isHorzBorder","isVertBorder","isBorders","commentType","commentId","commentInternal","comment","renderCommentMark","topPosition","leftPosition","commentMarkDictionary","render","commentMark","addEventListener","selectComment","positionOverlap","overlapKey","elementsOverlap","ifNotPresent","firstElementChild","isResolved","resolve","z_1","elementOne","offsetWidth","offsetHeight","elementOneTop","elementOneLeft","elementOneBottom","elementOneRight","elementTwoTop","elementTwoLeft","elementTwoBottom","elementTwoRight","currentIndex","navigationArray","currentSelectedComment","commentReviewPane","commentPane","isEditMode","showComments","removeCommentMark","removeEventListener","CommentElementBox","date","authorIn","initialIn","done","textIn","isReply","ownerComment","mentionsIn","createdDate","replyComments","commentStartIn","commentEndIn","author","initial","replyComment","Page","boundingRectangle","repeatHeaderRowTableWidget","endnoteWidget","currentPageNum","removeFieldInWidget","removePage","tableColumns","previousColumnIndex","curColumnIndex","currentColumnIndex","WColumn","availableWidth","gridSpan","endOffset","widthType","column","isFitColumns","preferredTableWidth","totalColumnWidth","isNaN","Infinity","minWidth","isPointWidthType","isAuto","isNestedTable","indent","maxTotal","minTotal","remainingWidthTotal","isAllColumnPointWidth","minWidthExceedCellWidth","columnIndexCollection","difference","preferred","averageWidth","considerMinAsTableWidth","totalMinimumWordWidth","totalMinWidth","totalCellWidth","getPreviousValidOffset","maxWidth","hasMaximumWordWidth","CommentEditInfo","BreakElementBox","breakElement","breakClearType","TabStopListInfo","FootnoteEndnoteMarkerElementBox"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-documenteditor/src/document-editor/implementation/viewer/page.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable */\nimport { WTableFormat, WRowFormat, WCellFormat } from '../format/index';\nimport { CharacterRangeType, FontScriptType } from '../../base/types';\nimport { WParagraphFormat, WCharacterFormat, WBorder, WBorders } from '../format/index';\nimport { isNullOrUndefined, createElement, classList } from '@syncfusion/ej2-base';\nimport { Dictionary } from '../../base/dictionary';\nimport { HelperMethods } from '../editor/editor-helper';\nimport { WebLayoutViewer } from './viewer';\nimport { Revision } from '../track-changes/track-changes';\n/**\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    Object.defineProperty(Rect.prototype, \"right\", {\n        get: function () {\n            return this.x + this.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"bottom\", {\n        get: function () {\n            return this.y + this.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param currentBound\n     * @private\n     */\n    Rect.prototype.isIntersecting = function (currentBound) {\n        if (currentBound.y > this.bottom || this.y > currentBound.bottom ||\n            currentBound.x > this.right || this.x > currentBound.right) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @private\n     */\n    Rect.prototype.clone = function () {\n        return new Rect(this.x, this.y, this.width, this.height);\n    };\n    return Rect;\n}());\nexport { Rect };\n/**\n * @private\n */\nvar Padding = /** @class */ (function () {\n    function Padding(right, left, top, bottom) {\n        this.right = 10;\n        this.left = 10;\n        this.top = 10;\n        this.bottom = 10;\n        this.right = right;\n        this.left = left;\n        this.top = top;\n        this.bottom = bottom;\n    }\n    return Padding;\n}());\nexport { Padding };\n/**\n * @private\n */\nvar Margin = /** @class */ (function () {\n    function Margin(leftMargin, topMargin, rightMargin, bottomMargin) {\n        this.left = leftMargin;\n        this.top = topMargin;\n        this.right = rightMargin;\n        this.bottom = bottomMargin;\n    }\n    Margin.prototype.clone = function () {\n        return new Margin(this.left, this.top, this.right, this.bottom);\n    };\n    Margin.prototype.destroy = function () {\n        this.left = undefined;\n        this.right = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n    };\n    return Margin;\n}());\nexport { Margin };\n/**\n * @private\n */\nvar Widget = /** @class */ (function () {\n    function Widget() {\n        /**\n         * @private\n         */\n        this.childWidgets = [];\n        /**\n         * @private\n         */\n        this.x = 0;\n        /**\n         * @private\n         */\n        this.y = 0;\n        /**\n         * @private\n         */\n        this.width = 0;\n        /**\n         * @private\n         */\n        this.height = 0;\n        /**\n         * @private\n         */\n        this.index = 0;\n    }\n    Object.defineProperty(Widget.prototype, \"indexInOwner\", {\n        get: function () {\n            if (this instanceof BodyWidget && this.page) {\n                if (this.containerWidget instanceof FootNoteWidget) {\n                    return this.containerWidget.bodyWidgets.indexOf(this);\n                }\n                else {\n                    return this.page.bodyWidgets.indexOf(this);\n                }\n            }\n            else if (this.containerWidget && this.containerWidget.childWidgets) {\n                return this.containerWidget.childWidgets.indexOf(this);\n            }\n            else if (this instanceof FootNoteWidget) {\n                return 0;\n            }\n            return -1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Widget.prototype, \"firstChild\", {\n        get: function () {\n            return this.childWidgets.length > 0 ? this.childWidgets[0] : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Widget.prototype, \"lastChild\", {\n        get: function () {\n            if (this.childWidgets) {\n                return this.childWidgets.length > 0 ?\n                    this.childWidgets[this.childWidgets.length - 1] : undefined;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Widget.prototype, \"previousWidget\", {\n        get: function () {\n            var widget = this;\n            var index = this.indexInOwner;\n            if (widget instanceof BodyWidget) {\n                widget = index > 0 ? widget.page.bodyWidgets[index - 1] : undefined;\n            }\n            else {\n                widget = index > 0 ? widget.containerWidget.childWidgets[index - 1] : undefined;\n            }\n            return widget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Widget.prototype, \"nextWidget\", {\n        get: function () {\n            var widget = this;\n            var index = this.indexInOwner;\n            if (index === -1) {\n                return undefined;\n            }\n            if (widget instanceof BodyWidget) {\n                widget = index < widget.page.bodyWidgets.length - 1 ?\n                    widget.page.bodyWidgets[index + 1] : undefined;\n            }\n            else {\n                widget = index < widget.containerWidget.childWidgets.length - 1 ?\n                    widget.containerWidget.childWidgets[index + 1] : undefined;\n            }\n            return widget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Widget.prototype, \"previousRenderedWidget\", {\n        get: function () {\n            var widget = this;\n            var index = this.indexInOwner;\n            if (index < 0) {\n                return undefined;\n            }\n            if (widget instanceof BodyWidget) {\n                if (index > 0 && !(widget.containerWidget instanceof FootNoteWidget)) {\n                    widget = widget.page.bodyWidgets[index - 1];\n                }\n                else if ((widget.containerWidget instanceof FootNoteWidget) && !widget.page.documentHelper.owner.editorModule.removeEditRange) {\n                    if (index <= 0) {\n                        return undefined;\n                    }\n                    widget = widget.containerWidget.bodyWidgets[index - 1];\n                }\n                else {\n                    var page = widget.page.previousPage;\n                    widget = page && page.bodyWidgets.length > 0 ? page.bodyWidgets[page.bodyWidgets.length - 1] : undefined;\n                }\n            }\n            else if (widget instanceof FootNoteWidget) {\n                var page = widget.page;\n                while (page.previousPage) {\n                    page = page.previousPage;\n                    widget = page.footnoteWidget;\n                    if (!isNullOrUndefined(widget)) {\n                        break;\n                    }\n                }\n            }\n            else {\n                if (index > 0) {\n                    widget = widget.containerWidget.childWidgets[index - 1];\n                }\n                else {\n                    var previousContainer = undefined;\n                    if (widget.containerWidget instanceof TableCellWidget) {\n                        previousContainer = widget.containerWidget.getPreviousSplitWidget();\n                    }\n                    else if (widget.containerWidget && widget.containerWidget.containerWidget instanceof FootNoteWidget &&\n                        widget.containerWidget.containerWidget.footNoteType === 'Endnote') {\n                        previousContainer = widget.containerWidget.previousWidget ? widget.containerWidget.previousWidget : widget.containerWidget.previousRenderedWidget;\n                    }\n                    else if (!(widget.containerWidget instanceof TableRowWidget\n                        || widget.containerWidget instanceof HeaderFooterWidget || (widget.containerWidget && widget.containerWidget.containerWidget instanceof FootNoteWidget))) {\n                        // Since cells are lay outed left to right, we should not navigate to previous row.\n                        previousContainer = widget.containerWidget.previousRenderedWidget;\n                    }\n                    while (previousContainer && previousContainer.childWidgets.length === 0) {\n                        previousContainer = previousContainer.previousRenderedWidget;\n                        if (isNullOrUndefined(previousContainer)) {\n                            break;\n                        }\n                    }\n                    widget = previousContainer && previousContainer.constructor === widget.containerWidget.constructor ?\n                        previousContainer.lastChild : undefined;\n                }\n            }\n            return widget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Widget.prototype, \"nextRenderedWidget\", {\n        get: function () {\n            var widget = this;\n            var index = this.indexInOwner;\n            if (index < 0) {\n                return undefined;\n            }\n            if (widget instanceof BodyWidget) {\n                if (index < widget.page.bodyWidgets.length - 1 && !(widget.containerWidget instanceof FootNoteWidget)) {\n                    widget = widget.page.bodyWidgets[index + 1];\n                }\n                else if (widget.containerWidget instanceof FootNoteWidget) {\n                    if (index >= widget.containerWidget.bodyWidgets.length - 1 && !widget.page.documentHelper.owner.editorModule.removeEditRange) {\n                        return undefined;\n                    }\n                    widget = widget.containerWidget.bodyWidgets[index + 1];\n                }\n                else if (widget.page.allowNextPageRendering) {\n                    var page = widget.page.nextPage;\n                    widget = page && page.bodyWidgets.length > 0 ? page.bodyWidgets[0] : undefined;\n                }\n                else {\n                    widget = undefined;\n                }\n            }\n            else if (widget instanceof FootNoteWidget) {\n                var page = widget.page;\n                while (page.allowNextPageRendering && page.nextPage) {\n                    page = page.nextPage;\n                    widget = page.footnoteWidget;\n                    if (!isNullOrUndefined(widget)) {\n                        break;\n                    }\n                }\n            }\n            else {\n                if (index < widget.containerWidget.childWidgets.length - 1) {\n                    widget = widget.containerWidget.childWidgets[index + 1];\n                }\n                else {\n                    var nextContainer = undefined;\n                    if (widget.containerWidget instanceof TableCellWidget) {\n                        nextContainer = widget.containerWidget.getNextSplitWidget();\n                    }\n                    else if (widget.containerWidget && widget.containerWidget.containerWidget instanceof FootNoteWidget &&\n                        widget.containerWidget.containerWidget.footNoteType === 'Endnote') {\n                        nextContainer = widget.containerWidget.nextWidget ? widget.containerWidget.nextWidget : widget.containerWidget.nextRenderedWidget;\n                    }\n                    else if (!(widget.containerWidget instanceof TableRowWidget\n                        || widget.containerWidget instanceof HeaderFooterWidget || (widget.containerWidget && widget.containerWidget.containerWidget instanceof FootNoteWidget))) {\n                        // Since cells are lay outed left to right, we should not navigate to next row.\n                        nextContainer = widget.containerWidget.nextRenderedWidget;\n                    }\n                    while (nextContainer && nextContainer.childWidgets.length === 0 && !(nextContainer instanceof TableCellWidget)) {\n                        nextContainer = nextContainer.nextRenderedWidget;\n                        if (isNullOrUndefined(nextContainer)) {\n                            break;\n                        }\n                    }\n                    widget = nextContainer && nextContainer.constructor === widget.containerWidget.constructor ?\n                        nextContainer.firstChild : undefined;\n                }\n            }\n            return widget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Widget.prototype, \"previousSplitWidget\", {\n        get: function () {\n            var widget = this;\n            if (widget instanceof TableCellWidget) {\n                return widget.getPreviousSplitWidget();\n            }\n            else {\n                var previous = widget.previousRenderedWidget;\n                if (widget instanceof BodyWidget && previous instanceof BodyWidget && widget.equals(previous)) {\n                    return previous;\n                }\n                else if (previous instanceof BlockWidget && widget.index === previous.index && widget.equals(previous)) {\n                    return previous;\n                }\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Widget.prototype, \"nextSplitWidget\", {\n        get: function () {\n            var widget = this;\n            if (widget instanceof TableCellWidget) {\n                return widget.getNextSplitWidget();\n            }\n            else {\n                var next = widget.nextRenderedWidget;\n                if (widget instanceof BodyWidget && next instanceof BodyWidget && widget.equals(next)) {\n                    return next;\n                }\n                else if (next instanceof BlockWidget && widget.index === next.index && widget.equals(next)) {\n                    return next;\n                }\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Widget.prototype.getPreviousSplitWidgets = function () {\n        var widgets = [];\n        var widget = this.previousSplitWidget;\n        while (widget) {\n            widgets.unshift(widget);\n            widget = widget.previousSplitWidget;\n            if (widget && widget == widget.previousSplitWidget) {\n                break;\n            }\n        }\n        return widgets;\n    };\n    Widget.prototype.getSplitWidgets = function () {\n        var widgets = this.getPreviousSplitWidgets();\n        var widget = this;\n        while (widget) {\n            widgets.push(widget);\n            widget = widget.nextSplitWidget;\n        }\n        return widgets;\n    };\n    Widget.prototype.combineWidget = function (viewer) {\n        var root = this;\n        var widgets = this.getSplitWidgets();\n        if (widgets.length > 1) {\n            root = widgets.shift();\n            while (widgets.length > 0) {\n                var splitWidget = widgets.shift();\n                root.combine(splitWidget, viewer);\n            }\n        }\n        if (root instanceof TableWidget) {\n            root.combineRows(viewer);\n        }\n        return root;\n    };\n    Widget.prototype.combine = function (widget, viewer) {\n        if (widget.childWidgets.length > 0) {\n            var lastChild = this.lastChild;\n            if (lastChild instanceof TableWidget) {\n                lastChild.combineWidget(viewer);\n            }\n            else {\n                var firstChild = widget.firstChild;\n                if (!(widget instanceof TableWidget) && lastChild instanceof Widget && firstChild instanceof Widget &&\n                    lastChild.index === firstChild.index) {\n                    lastChild.combine(widget.childWidgets.shift(), viewer);\n                }\n            }\n            this.addWidgets(widget.childWidgets);\n            widget.childWidgets = [];\n        }\n        widget.destroyInternal(viewer);\n    };\n    Widget.prototype.addWidgets = function (childWidgets) {\n        while (childWidgets.length > 0) {\n            var widget = childWidgets.shift();\n            if (widget instanceof LineWidget && this instanceof ParagraphWidget) {\n                widget.paragraph = this;\n                this.height += widget.height;\n            }\n            else if (widget instanceof Widget) {\n                var lastChild = this.lastChild;\n                widget.containerWidget = this;\n                widget.y = lastChild instanceof Widget ? lastChild.y + lastChild.height : this.y;\n                this.height += widget.height;\n            }\n            if (widget instanceof TableRowWidget) {\n                var previousRow = this.childWidgets[this.childWidgets.length - 1];\n                for (var i = 0; i < previousRow.childWidgets.length; i++) {\n                    var previousCell = previousRow.childWidgets[i];\n                    if (previousCell.cellFormat.rowSpan > 1) {\n                        for (var j = 0; j < widget.childWidgets.length; j++) {\n                            var currentCell = widget.childWidgets[j];\n                            if (currentCell.columnIndex === previousCell.columnIndex && currentCell.isSplittedCell && currentCell.cellFormat.rowSpan === previousCell.cellFormat.rowSpan) {\n                                for (var k = 0; k < currentCell.childWidgets.length; k++) {\n                                    var block = currentCell.childWidgets[k];\n                                    currentCell.childWidgets.splice(block.indexInOwner, 1);\n                                    previousCell.childWidgets.push(block);\n                                    block.containerWidget = previousCell;\n                                    k--;\n                                }\n                                currentCell.ownerRow.childWidgets.splice(currentCell.indexInOwner, 1);\n                                currentCell.containerWidget = undefined;\n                                j--;\n                            }\n                        }\n                    }\n                }\n            }\n            this.childWidgets.push(widget);\n        }\n    };\n    Widget.prototype.removeChild = function (index) {\n        if (index > -1 && index < this.childWidgets.length) {\n            this.childWidgets.splice(index, 1);\n        }\n    };\n    Widget.prototype.destroy = function () {\n        if (this.childWidgets) {\n            while (this.childWidgets.length > 0) {\n                var child = this.childWidgets.pop();\n                if (child instanceof LineWidget || child instanceof Widget) {\n                    child.destroy();\n                }\n            }\n        }\n        this.childWidgets = undefined;\n        if (this.containerWidget) {\n            this.containerWidget.removeChild(this.indexInOwner);\n        }\n        this.containerWidget = undefined;\n        // if (this.margin) {\n        //     this.margin.destroy();\n        // }\n        this.margin = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.index = undefined;\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    Widget.prototype.componentDestroy = function () {\n        if (this.childWidgets) {\n            while (this.childWidgets.length > 0) {\n                var child = this.childWidgets.pop();\n                if (child instanceof LineWidget || child instanceof Widget) {\n                    child.componentDestroy();\n                }\n            }\n        }\n        this.childWidgets = undefined;\n        if (this.margin) {\n            this.margin.destroy();\n        }\n        this.margin = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.index = undefined;\n        this.containerWidget = undefined;\n    };\n    return Widget;\n}());\nexport { Widget };\n/**\n * @private\n */\nvar BlockContainer = /** @class */ (function (_super) {\n    __extends(BlockContainer, _super);\n    function BlockContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.floatingElements = [];\n        /**\n         * @private\n         */\n        _this.footNoteReference = undefined;\n        /**\n         * @private\n         */\n        _this.sectionFormatIn = undefined;\n        /**\n        * @private\n        */\n        _this.columnIndex = 0;\n        return _this;\n    }\n    Object.defineProperty(BlockContainer.prototype, \"sectionFormat\", {\n        get: function () {\n            var container = this;\n            if (container instanceof BodyWidget) {\n                return container.sectionFormatIn;\n            }\n            else if (container.page && !isNullOrUndefined(container.page.bodyWidgets)) {\n                return container.page.bodyWidgets[0].sectionFormat;\n            }\n            return undefined;\n        },\n        set: function (value) {\n            if (this instanceof BodyWidget) {\n                this.sectionFormatIn = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BlockContainer.prototype, \"sectionIndex\", {\n        get: function () {\n            var container = this;\n            var index = 0;\n            if (container instanceof BodyWidget) {\n                index = container.index;\n            }\n            else if (container.page) {\n                index = container.page.bodyWidgets[0].index;\n            }\n            return index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BlockContainer.prototype.getHierarchicalIndex = function (hierarchicalIndex) {\n        var documentHelper = undefined;\n        var node = this;\n        if (node instanceof BodyWidget) {\n            hierarchicalIndex = node.index + ';' + hierarchicalIndex;\n        }\n        else if (node instanceof FootNoteWidget) {\n            if (node.footNoteType === 'Footnote') {\n                hierarchicalIndex = 'FN' + ';' + hierarchicalIndex;\n            }\n            else {\n                hierarchicalIndex = 'EN' + ';' + hierarchicalIndex;\n            }\n        }\n        else {\n            if (node.headerFooterType.indexOf('Header') !== -1) {\n                hierarchicalIndex = 'H' + ';' + hierarchicalIndex;\n            }\n            else {\n                hierarchicalIndex = 'F' + ';' + hierarchicalIndex;\n            }\n        }\n        if (!isNullOrUndefined(node.page)) {\n            documentHelper = this.page.documentHelper;\n            var pageIndex = documentHelper.pages.indexOf(this.page);\n            return pageIndex + ';' + hierarchicalIndex;\n        }\n        return hierarchicalIndex;\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    BlockContainer.prototype.componentDestroy = function () {\n        if (this.sectionFormatIn) {\n            this.sectionFormatIn.destroy();\n        }\n        this.sectionFormatIn = undefined;\n        this.floatingElements = [];\n        this.removedHeaderFooters = [];\n        this.footNoteReference = undefined;\n        this.page = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return BlockContainer;\n}(Widget));\nexport { BlockContainer };\n/**\n * @private\n */\nvar BodyWidget = /** @class */ (function (_super) {\n    __extends(BodyWidget, _super);\n    /**\n     * Initialize the constructor of BodyWidget\n     */\n    function BodyWidget() {\n        return _super.call(this) || this;\n    }\n    BodyWidget.prototype.equals = function (widget) {\n        return widget instanceof BodyWidget && widget.sectionFormat === this.sectionFormat;\n    };\n    BodyWidget.prototype.getHierarchicalIndex = function (hierarchicalIndex) {\n        var documentHelper = undefined;\n        var node = this;\n        if (node.containerWidget instanceof FootNoteWidget) {\n            hierarchicalIndex = node.containerWidget.bodyWidgets.indexOf(node) + ';' + hierarchicalIndex;\n            if (node.containerWidget.footNoteType === 'Footnote') {\n                hierarchicalIndex = 'FN' + ';' + hierarchicalIndex;\n            }\n            else {\n                hierarchicalIndex = 'EN' + ';' + hierarchicalIndex;\n            }\n        }\n        else {\n            if (this.page && this.page.bodyWidgets.indexOf(this) !== -1) {\n                hierarchicalIndex = this.page.bodyWidgets.indexOf(this) + ';' + hierarchicalIndex;\n            }\n            else {\n                hierarchicalIndex = node.index + ';' + hierarchicalIndex;\n            }\n        }\n        if (!isNullOrUndefined(node.page)) {\n            documentHelper = this.page.documentHelper;\n            var pageIndex = documentHelper.pages.indexOf(this.page);\n            return pageIndex + ';' + hierarchicalIndex;\n        }\n        return hierarchicalIndex;\n    };\n    BodyWidget.prototype.getTableCellWidget = function (touchPoint) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            if (this.childWidgets[i] instanceof TableWidget) {\n                var childWidget = this.childWidgets[i];\n                var tableWidth = 0;\n                if (childWidget.wrapTextAround) {\n                    tableWidth = childWidget.getTableCellWidth();\n                }\n                if (!(childWidget.wrapTextAround) && childWidget.y <= touchPoint.y && (childWidget.y + childWidget.height) >= touchPoint.y) {\n                    return childWidget.getTableCellWidget(touchPoint);\n                }\n                if ((childWidget.wrapTextAround &&\n                    (childWidget.x <= touchPoint.x && (childWidget.x + tableWidth) >= touchPoint.x &&\n                        childWidget.y <= touchPoint.y && (childWidget.y + childWidget.height) >= touchPoint.y))) {\n                    return childWidget.getTableCellWidget(touchPoint);\n                }\n            }\n        }\n        var tableCellWidget = undefined;\n        if (this.childWidgets.length > 0) {\n            if (this.childWidgets[0].y <= touchPoint.y) {\n                tableCellWidget = this.childWidgets[this.childWidgets.length - 1].getTableCellWidget(touchPoint);\n            }\n            else {\n                tableCellWidget = this.childWidgets[0].getTableCellWidget(touchPoint);\n            }\n        }\n        return tableCellWidget;\n    };\n    BodyWidget.prototype.destroyInternal = function (viewer) {\n        var height = this.height;\n        if (!isNullOrUndefined(this.childWidgets)) {\n            for (var n = 0; n < this.childWidgets.length; n++) {\n                var chilgWidget = this.childWidgets[n];\n                if (chilgWidget instanceof ParagraphWidget) {\n                    chilgWidget.destroyInternal(viewer);\n                }\n                else {\n                    chilgWidget.destroyInternal(viewer);\n                }\n                if (isNullOrUndefined(this.childWidgets)) {\n                    break;\n                }\n                n--;\n            }\n            this.childWidgets = undefined;\n        }\n        // if (this instanceof HeaderFooterWidget && ((this as HeaderFooterWidget).currentNode ))) {\n        //     if (((this as HeaderFooterWidget).currentNode as WHeaderFooter).layoutedWidgets )) {\n        //         let index: number = ((this as HeaderFooterWidget).currentNode as WHeaderFooter).layoutedWidgets.indexOf(this);\n        //         ((this as HeaderFooterWidget).currentNode as WHeaderFooter).layoutedWidgets.splice(index, 1);\n        //     }\n        //     this.currentNode = undefined;\n        if (!isNullOrUndefined(this.page)) {\n            var index = this.indexInOwner;\n            if (this.indexInOwner > -1) {\n                this.page.bodyWidgets.splice(index, 1);\n                if (this.page.bodyWidgets.length === 0) {\n                    this.page.destroy();\n                    // }\n                }\n                else if ((this instanceof HeaderFooterWidget)\n                    && this.page.headerWidget === this) {\n                    this.page.headerWidget = undefined;\n                }\n                else if ((this instanceof HeaderFooterWidget)\n                    && this.page.footerWidget === this) {\n                    this.page.footerWidget = undefined;\n                }\n                this.page = undefined;\n            }\n        }\n        this.destroy();\n    };\n    BodyWidget.prototype.destroy = function () {\n        // if (this.sectionFormatIn) {\n        //     this.sectionFormatIn.destroy();\n        // }\n        this.sectionFormatIn = undefined;\n        if (this.page && this.page.headerWidgetIn) {\n            this.page.headerWidgetIn.page = undefined;\n        }\n        if (this.page && this.page.footerWidgetIn) {\n            this.page.footerWidgetIn.page = undefined;\n        }\n        this.page = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    BodyWidget.prototype.componentDestroy = function () {\n        _super.prototype.componentDestroy.call(this);\n    };\n    return BodyWidget;\n}(BlockContainer));\nexport { BodyWidget };\n/**\n * @private\n */\nvar HeaderFooterWidget = /** @class */ (function (_super) {\n    __extends(HeaderFooterWidget, _super);\n    function HeaderFooterWidget(type) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.isEmpty = false;\n        _this.headerFooterType = type;\n        return _this;\n    }\n    HeaderFooterWidget.prototype.getTableCellWidget = function (point) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            if (this.childWidgets[i] instanceof TableWidget) {\n                var child = this.childWidgets[i];\n                var tableWidth = 0;\n                if (child.wrapTextAround) {\n                    tableWidth = child.getTableCellWidth();\n                }\n                if (!(child.wrapTextAround) && child.y <= point.y && (child.y + child.height) >= point.y) {\n                    return child.getTableCellWidget(point);\n                }\n                if ((child.wrapTextAround &&\n                    (child.x <= point.x && (child.x + tableWidth) >= point.x &&\n                        child.y <= point.y && (child.y + child.height) >= point.y))) {\n                    return child.getTableCellWidget(point);\n                }\n            }\n        }\n        var tableCell = undefined;\n        if (this.childWidgets.length > 0) {\n            if (this.childWidgets[0].y <= point.y) {\n                tableCell = this.childWidgets[this.childWidgets.length - 1].getTableCellWidget(point);\n            }\n            else {\n                tableCell = this.childWidgets[0].getTableCellWidget(point);\n            }\n        }\n        return tableCell;\n    };\n    HeaderFooterWidget.prototype.equals = function (widget) {\n        // Todo: Need to work\n        return widget instanceof HeaderFooterWidget\n            && widget.containerWidget === this.containerWidget;\n    };\n    HeaderFooterWidget.prototype.clone = function () {\n        var headerFooter = new HeaderFooterWidget(this.headerFooterType);\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var block = this.childWidgets[i].clone();\n            headerFooter.childWidgets.push(block);\n            block.index = i;\n            block.containerWidget = headerFooter;\n        }\n        headerFooter.isEmpty = this.isEmpty;\n        headerFooter.x = this.x;\n        headerFooter.y = this.y;\n        headerFooter.height = 0;\n        headerFooter.width = 0;\n        return headerFooter;\n    };\n    HeaderFooterWidget.prototype.destroyInternal = function (viewer) {\n        this.page = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    HeaderFooterWidget.prototype.componentDestroy = function () {\n        _super.prototype.componentDestroy.call(this);\n        this.parentHeaderFooter = undefined;\n    };\n    return HeaderFooterWidget;\n}(BlockContainer));\nexport { HeaderFooterWidget };\n/**\n * @private\n */\nvar BlockWidget = /** @class */ (function (_super) {\n    __extends(BlockWidget, _super);\n    function BlockWidget() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.isLayouted = false;\n        /**\n         * @private\n         */\n        _this.isFieldCodeBlock = false;\n        /**\n         * @private\n         */\n        _this.locked = false;\n        /**\n         * @private\n         */\n        _this.lockedBy = '';\n        return _this;\n    }\n    Object.defineProperty(BlockWidget.prototype, \"bodyWidget\", {\n        get: function () {\n            var widget = this;\n            while (widget.containerWidget) {\n                if (widget.containerWidget instanceof TextFrame) {\n                    var paragraph = widget.containerWidget.containerShape.line.paragraph;\n                    if (paragraph) {\n                        return paragraph.bodyWidget;\n                    }\n                }\n                else if (widget.containerWidget instanceof BlockContainer) {\n                    return widget.containerWidget;\n                }\n                widget = widget.containerWidget;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BlockWidget.prototype, \"leftIndent\", {\n        get: function () {\n            var blockAdv = this;\n            if (blockAdv instanceof ParagraphWidget && blockAdv.paragraphFormat instanceof WParagraphFormat) {\n                return blockAdv.paragraphFormat.leftIndent;\n            }\n            else if (blockAdv instanceof TableWidget && blockAdv.tableFormat instanceof WTableFormat) {\n                return blockAdv.tableFormat.leftIndent;\n            }\n            return 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BlockWidget.prototype, \"rightIndent\", {\n        get: function () {\n            var blockAdv = this;\n            if (blockAdv instanceof ParagraphWidget && blockAdv.paragraphFormat instanceof WParagraphFormat) {\n                return blockAdv.paragraphFormat.rightIndent;\n            }\n            return 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BlockWidget.prototype, \"isInsideTable\", {\n        get: function () {\n            return this.containerWidget instanceof TableCellWidget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BlockWidget.prototype, \"isInHeaderFooter\", {\n        get: function () {\n            return this.bodyWidget instanceof HeaderFooterWidget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BlockWidget.prototype, \"associatedCell\", {\n        get: function () {\n            if (this.containerWidget instanceof TableCellWidget) {\n                return this.containerWidget;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Check whether the paragraph contains only page break.\n     *\n     * @private\n     * @returns {boolean}: Returns true if paragraph contains page break alone.\n     */\n    BlockWidget.prototype.isPageBreak = function () {\n        var isPageBreak = false;\n        if (this instanceof ParagraphWidget) {\n            var paragraph = this;\n            if (paragraph != null && paragraph.childWidgets.length === 1 &&\n                paragraph.firstChild.children.length === 1) {\n                var pageBreak = paragraph.firstChild.children[0];\n                isPageBreak = pageBreak.isPageBreak;\n            }\n        }\n        return isPageBreak;\n    };\n    BlockWidget.prototype.isColumnBreak = function () {\n        var isColumnBreak = false;\n        if (this instanceof ParagraphWidget) {\n            var paragraph = this;\n            if (paragraph != null && paragraph.childWidgets.length === 1 &&\n                paragraph.firstChild.children.length === 1) {\n                var columnBreak = paragraph.firstChild.children[0];\n                isColumnBreak = columnBreak.isColumnBreak;\n            }\n        }\n        return isColumnBreak;\n    };\n    BlockWidget.prototype.getHierarchicalIndex = function (hierarchicalIndex) {\n        var node = this;\n        hierarchicalIndex = node.containerWidget.childWidgets.indexOf(node) + ';' + hierarchicalIndex;\n        if (!isNullOrUndefined(node.containerWidget)) {\n            if (node.containerWidget instanceof TextFrame) {\n                return node.containerWidget.getHierarchicalIndex(hierarchicalIndex);\n            }\n            else if (node.containerWidget instanceof BlockWidget) {\n                return node.containerWidget.getHierarchicalIndex(hierarchicalIndex);\n            }\n            else if (node.containerWidget instanceof BlockContainer) {\n                hierarchicalIndex = node.containerWidget.getHierarchicalIndex(hierarchicalIndex);\n            }\n        }\n        return hierarchicalIndex;\n    };\n    BlockWidget.prototype.getIndex = function () {\n        if (this instanceof ParagraphWidget || this instanceof TableWidget) {\n            return this.containerWidget.childWidgets.indexOf(this);\n        }\n        else if (this instanceof TableRowWidget) {\n            return this.ownerTable.childWidgets.indexOf(this);\n        }\n        else if (this instanceof TableCellWidget) {\n            return this.ownerRow.childWidgets.indexOf(this);\n        }\n        return 0;\n    };\n    BlockWidget.prototype.getContainerWidth = function () {\n        if (this.isInsideTable) {\n            var block = this;\n            if ((block instanceof TableWidget) && block.tableFormat.preferredWidthType === 'Auto' && this.associatedCell.ownerTable.isGridUpdated) {\n                var containerWidth = 0;\n                var columnSpan = this.associatedCell.cellFormat.columnSpan;\n                var columnIndex = this.associatedCell.columnIndex;\n                for (var i = 0; i < columnSpan; i++) {\n                    containerWidth += this.associatedCell.ownerTable.tableHolder.columns[columnIndex].preferredWidth;\n                    columnIndex++;\n                }\n                if (containerWidth > 0) {\n                    return containerWidth;\n                }\n            }\n            return this.associatedCell.getCellWidth(this);\n        }\n        if (this.containerWidget instanceof TextFrame) {\n            var shape = this.containerWidget.containerShape;\n            return HelperMethods.convertPixelToPoint(shape.width) - HelperMethods.convertPixelToPoint(shape.textFrame.marginLeft)\n                - HelperMethods.convertPixelToPoint(shape.textFrame.marginRight);\n        }\n        else {\n            var bodyWidget = this.bodyWidget;\n            var sectionFormat = bodyWidget.sectionFormat;\n            var padding = 0;\n            if (!isNullOrUndefined(bodyWidget.page) && !isNullOrUndefined(bodyWidget.page.documentHelper) &&\n                bodyWidget.page.documentHelper.compatibilityMode !== 'Word2013' && !this.isInsideTable && this instanceof TableWidget) {\n                var firstRow = this.firstChild;\n                padding = firstRow.firstChild.leftMargin + (firstRow).lastChild.rightMargin;\n            }\n            if (bodyWidget instanceof BodyWidget && sectionFormat.columns.length > 1) {\n                var colIndex = bodyWidget.columnIndex;\n                return HelperMethods.convertPixelToPoint(sectionFormat.columns[colIndex].width);\n            }\n            else {\n                return sectionFormat.pageWidth - (sectionFormat.leftMargin + sectionFormat.rightMargin) + padding;\n            }\n        }\n    };\n    Object.defineProperty(BlockWidget.prototype, \"bidi\", {\n        get: function () {\n            if (this instanceof ParagraphWidget && this.paragraphFormat instanceof WParagraphFormat) {\n                return this.paragraphFormat.bidi;\n            }\n            if (this instanceof TableWidget && this.tableFormat instanceof WTableFormat) {\n                return this.tableFormat.bidi;\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    BlockWidget.prototype.componentDestroy = function () {\n        _super.prototype.componentDestroy.call(this);\n        this.contentControlProperties = undefined;\n    };\n    return BlockWidget;\n}(Widget));\nexport { BlockWidget };\n/**\n * @private\n */\nvar FootNoteWidget = /** @class */ (function (_super) {\n    __extends(FootNoteWidget, _super);\n    function FootNoteWidget() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.bodyWidgets = [];\n        return _this;\n    }\n    FootNoteWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n        throw new Error('Method not implemented.');\n    };\n    FootNoteWidget.prototype.getTableCellWidget = function (point) {\n        return undefined;\n    };\n    FootNoteWidget.prototype.equals = function (widget) {\n        // Todo: Need to work\n        return widget instanceof FootNoteWidget\n            && widget.containerWidget === this.containerWidget;\n    };\n    FootNoteWidget.prototype.clone = function () {\n        var footNote = new FootNoteWidget();\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var block = this.childWidgets[i].clone();\n            footNote.childWidgets.push(block);\n            block.index = i;\n            block.containerWidget = footNote;\n        }\n        footNote.block = this.block;\n        return footNote;\n    };\n    FootNoteWidget.prototype.destroyInternal = function (viewer) {\n        this.block = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    FootNoteWidget.prototype.componentDestroy = function () {\n        if (this.bodyWidgets && this.bodyWidgets.length > 0) {\n            for (var i = 0; i < this.bodyWidgets.length; i++) {\n                var bodyWidget = this.bodyWidgets[i];\n                bodyWidget.componentDestroy();\n            }\n            this.bodyWidgets = [];\n        }\n        this.bodyWidgets = undefined;\n        this.block = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return FootNoteWidget;\n}(BlockContainer));\nexport { FootNoteWidget };\n/**\n * @private\n */\nvar ParagraphWidget = /** @class */ (function (_super) {\n    __extends(ParagraphWidget, _super);\n    /**\n     * Initialize the constructor of ParagraphWidget\n     */\n    function ParagraphWidget() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.isSectionBreak = false;\n        /**\n         * @private\n         */\n        _this.isChangeDetected = false;\n        /**\n         * @private\n         */\n        _this.isCreatedUsingHtmlSpanTag = undefined;\n        /**\n         * @private\n         * The clientX having previous left value of empty paragraph\n         */\n        _this.clientX = undefined;\n        /**\n         * @private\n         */\n        _this.floatingElements = [];\n        _this.paragraphFormat = new WParagraphFormat(_this);\n        _this.characterFormat = new WCharacterFormat(_this);\n        return _this;\n    }\n    Object.defineProperty(ParagraphWidget.prototype, \"isEndsWithPageBreak\", {\n        get: function () {\n            if (this.childWidgets.length > 0) {\n                return this.lastChild.isEndsWithPageBreak;\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ParagraphWidget.prototype, \"isEndsWithColumnBreak\", {\n        get: function () {\n            if (this.childWidgets.length > 0) {\n                return this.lastChild.isEndsWithColumnBreak;\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ParagraphWidget.prototype.equals = function (widget) {\n        return widget instanceof ParagraphWidget && widget.paragraphFormat === this.paragraphFormat;\n    };\n    ParagraphWidget.prototype.isContainsShapeAlone = function () {\n        var containsShape = false;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var lineWidget = this.childWidgets[i];\n            for (var j = 0; j < lineWidget.children.length; j++) {\n                var inline = lineWidget.children[j];\n                if (!(inline instanceof ShapeBase) || (inline instanceof ShapeBase && inline.textWrappingStyle === 'Inline')) {\n                    return false;\n                }\n                else {\n                    containsShape = true;\n                }\n            }\n        }\n        return containsShape ? true : false;\n    };\n    ParagraphWidget.prototype.isEmpty = function () {\n        if (isNullOrUndefined(this.childWidgets) || this.childWidgets.length === 0) {\n            return true;\n        }\n        for (var j = 0; j < this.childWidgets.length; j++) {\n            var inlineElement = this.childWidgets[j];\n            for (var i = 0; i < inlineElement.children.length; i++) {\n                var inline = inlineElement.children[i];\n                if (inline.length === 0) {\n                    continue;\n                }\n                if (inline instanceof TextElementBox || inline instanceof ImageElementBox || inline instanceof BookmarkElementBox\n                    || inline instanceof EditRangeEndElementBox || inline instanceof EditRangeStartElementBox\n                    || inline instanceof ChartElementBox || inline instanceof ShapeElementBox\n                    || inline instanceof ContentControl\n                    || (inline instanceof FieldElementBox && HelperMethods.isLinkedFieldCharacter(inline))) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    ParagraphWidget.prototype.getInline = function (offset, indexInInline) {\n        var inline = undefined;\n        var count = 0;\n        var isStarted = false;\n        var splittedWidget = this.getSplitWidgets();\n        for (var k = 0; k < splittedWidget.length; k++) {\n            var widget = splittedWidget[k];\n            for (var j = 0; j < widget.childWidgets.length; j++) {\n                var line = widget.childWidgets[j];\n                for (var i = 0; i < line.children.length; i++) {\n                    inline = line.children[i];\n                    if (inline instanceof ListTextElementBox) {\n                        continue;\n                    }\n                    if (!isStarted && (inline instanceof TextElementBox || inline instanceof ImageElementBox\n                        || inline instanceof ShapeElementBox\n                        || inline instanceof BookmarkElementBox || inline instanceof FieldElementBox\n                        && HelperMethods.isLinkedFieldCharacter(inline))\n                        || inline instanceof ChartElementBox) {\n                        isStarted = true;\n                    }\n                    if (isStarted && offset <= count + inline.length) {\n                        indexInInline = (offset - count);\n                        return { 'element': inline, 'index': indexInInline };\n                    }\n                    count += inline.length;\n                }\n            }\n        }\n        if (offset > count) {\n            indexInInline = isNullOrUndefined(inline) ? offset : inline.length;\n        }\n        return { 'element': inline, 'index': indexInInline };\n    };\n    ParagraphWidget.prototype.getLength = function () {\n        var length = 0;\n        if (isNullOrUndefined(this.childWidgets)) {\n            return length;\n        }\n        for (var j = 0; j < this.childWidgets.length; j++) {\n            var line = this.childWidgets[j];\n            for (var i = 0; i < line.children.length; i++) {\n                var element = line.children[i];\n                if (element instanceof ListTextElementBox) {\n                    continue;\n                }\n                length += element.length;\n            }\n        }\n        return length;\n    };\n    /**\n     * Return the total length by considering splitted paragraph widgets.\n     * @private\n     */\n    ParagraphWidget.prototype.getTotalLength = function () {\n        var offset = 0;\n        var splittedWidget = this.getSplitWidgets();\n        for (var i = 0; i < splittedWidget.length; i++) {\n            offset += splittedWidget[i].getLength();\n        }\n        return offset;\n    };\n    ParagraphWidget.prototype.getTableCellWidget = function (point) {\n        return undefined;\n    };\n    ParagraphWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n        minimumWordWidth = HelperMethods.convertPointToPixel(minimumWordWidth);\n        maximumWordWidth = HelperMethods.convertPointToPixel(maximumWordWidth);\n        if (this.childWidgets.length > 0) {\n            var element = this.childWidgets[0].children[0];\n            var text = '';\n            var elements = new Dictionary();\n            var imageWidths = [];\n            do {\n                if (element instanceof TextElementBox && element.text !== '') {\n                    elements.add(element, text.length);\n                    text += (element.text);\n                }\n                else if (element instanceof FieldElementBox && element.fieldType === 0) {\n                    var fieldBegin = element;\n                    if (!isNullOrUndefined(fieldBegin.fieldEnd)) {\n                        element = isNullOrUndefined(fieldBegin.fieldSeparator) ? fieldBegin.fieldEnd : fieldBegin.fieldSeparator;\n                    }\n                }\n                else if (element instanceof ImageElementBox) {\n                    imageWidths.push(element.width);\n                }\n                if (isNullOrUndefined(element) || isNullOrUndefined(element.nextNode)) {\n                    break;\n                }\n                element = element.nextNode;\n            } while (true);\n            var pattern = new RegExp('\\\\b\\\\w+\\\\b', 'g');\n            var matches = [];\n            var matchInfo = void 0;\n            // eslint-disable  no-cond-assign\n            while (!isNullOrUndefined(matchInfo = pattern.exec(text))) {\n                matches.push(matchInfo);\n            }\n            for (var i = 0; i < matches.length; i++) {\n                var match = matches[i];\n                var width = 0;\n                text = '';\n                var matchedValue = '';\n                var wordStartIndex = 0;\n                var wordEndIndex = match.index;\n                var index = match.index;\n                for (var j = 0; j < elements.keys.length; j++) {\n                    var span = elements.keys[j];\n                    var startIndex = elements.get(span);\n                    var spanLength = span.length;\n                    if (index <= startIndex + spanLength) {\n                        wordStartIndex = index - startIndex;\n                        if (match.index + match[0].length <= startIndex + spanLength) {\n                            wordEndIndex = (match.index + match[0].length) - (startIndex + wordStartIndex);\n                        }\n                        else {\n                            wordEndIndex = spanLength - wordStartIndex;\n                            index += wordEndIndex;\n                        }\n                        text = span.text.substring(wordStartIndex, wordStartIndex + wordEndIndex);\n                        matchedValue = matchedValue + text;\n                    }\n                    if (text !== '') {\n                        width += this.bodyWidget.page.documentHelper.textHelper.getWidth(text, span.characterFormat, span.scriptType);\n                    }\n                    if (matchedValue === match[0]) {\n                        break;\n                    }\n                }\n                if (width !== 0) {\n                    if (minimumWordWidth === 0 || width > minimumWordWidth) {\n                        minimumWordWidth = width;\n                    }\n                }\n            }\n            // Check the image widths present in the paragraph. Consider the maximum image width as minimum word width.\n            var imageWidth = 0;\n            if (imageWidths.length > 0) {\n                imageWidth = Math.max.apply(null, imageWidths);\n            }\n            if (minimumWordWidth === 0 || imageWidth > minimumWordWidth) {\n                minimumWordWidth = imageWidth;\n            }\n            var maximum = this.measureParagraph();\n            if (maximumWordWidth === 0 || maximum > maximumWordWidth) {\n                maximumWordWidth = maximum;\n            }\n        }\n        var leftIndent = 0;\n        if (!this.isEmpty() && this.floatingElements.length == 0 && !isNullOrUndefined(this.paragraphFormat) && this.paragraphFormat.leftIndent > 0\n            && !isNullOrUndefined(this.associatedCell) && !isNullOrUndefined(this.associatedCell.cellFormat) && this.associatedCell.cellFormat.preferredWidthType === 'Point') {\n            var paraIndent = this.paragraphFormat.leftIndent + this.paragraphFormat.firstLineIndent;\n            if ((paraIndent + minimumWordWidth) > this.associatedCell.cellFormat.preferredWidth) {\n                leftIndent = paraIndent;\n            }\n        }\n        return {\n            'maximumWordWidth': HelperMethods.convertPixelToPoint(maximumWordWidth),\n            'minimumWordWidth': HelperMethods.convertPixelToPoint(minimumWordWidth) + leftIndent\n        };\n    };\n    ParagraphWidget.prototype.measureParagraph = function () {\n        var width = 0;\n        var element = this.childWidgets[0].children[0];\n        do {\n            if (element instanceof TextElementBox && element.text !== '') {\n                width += this.bodyWidget.page.documentHelper.textHelper.getWidth(element.text, element.characterFormat, element.scriptType);\n            }\n            else if (element instanceof FieldElementBox && element.fieldType === 0) {\n                var fieldBegin = element;\n                if (fieldBegin.fieldEnd != null) {\n                    element = isNullOrUndefined(fieldBegin.fieldSeparator) ? fieldBegin.fieldEnd : fieldBegin.fieldSeparator;\n                }\n            }\n            else if (element instanceof ImageElementBox) {\n                width += element.width;\n            }\n            if (isNullOrUndefined(element) || isNullOrUndefined(element.nextNode)) {\n                break;\n            }\n            element = element.nextNode;\n        } while (true);\n        // Considered the left and right indent.\n        if (this.leftIndent > 0) {\n            width += this.leftIndent;\n        }\n        if (this.rightIndent > 0) {\n            width += this.rightIndent;\n        }\n        return width;\n    };\n    ParagraphWidget.prototype.isArabicChar = function (character) {\n        //Arabic characters https://en.wikipedia.org/wiki/Arabic_script#Unicode\n        return ((character >= String.fromCharCode(1536) && character <= String.fromCharCode(1791)) //Script-Arab, Arabic characters https://en.wikipedia.org/wiki/Arabic_(Unicode_block)\n            || (character >= String.fromCharCode(1872) && character <= String.fromCharCode(1919)) //Script-Arab, Arabic Supplement characters https://en.wikipedia.org/wiki/Arabic_Supplement\n            || (character >= String.fromCharCode(2208) && character <= String.fromCharCode(2303)) //Script-Arab, Arabic Extended-A characters https://en.wikipedia.org/wiki/Arabic_Extended-A\n            || (character >= String.fromCharCode(64336) && character <= String.fromCharCode(65023)) //Script-Arab, Arabic Presentation Forms-A characters https://en.wikipedia.org/wiki/Arabic_Presentation_Forms-A\n            || (character >= String.fromCharCode(65136) && character <= String.fromCharCode(65279))); //Script-Arab, Arabic Presentation Forms-B characters https://en.wikipedia.org/wiki/Arabic_Presentation_Forms-B                \n    };\n    ParagraphWidget.prototype.isHebrewChar = function (character) {\n        return ((character >= String.fromCharCode(1424) && character <= String.fromCharCode(1535)) //Script-Hebr, Hebrew characters https://en.wikipedia.org/wiki/Hebrew_alphabet#Unicode_and_HTML (https://en.wikipedia.org/wiki/Hebrew_(Unicode_block))\n            || (character >= String.fromCharCode(64285) && character <= String.fromCharCode(64335))); //Script-Hebr, Hebrew Alphabetic Presentation Forms characters https://en.wikipedia.org/wiki/Alphabetic_Presentation_Forms                                                                    \n    };\n    ParagraphWidget.prototype.isHindiChar = function (character) {\n        //Hindi characters are comes under the Devanagari scripts.\n        //The Unicode Standard defines three blocks for Devanagari. https://en.wikipedia.org/wiki/Devanagari#Unicode              \n        return ((character >= String.fromCharCode(2304) && character <= String.fromCharCode(2431)) //Devanagari (U+0900U+097F), https://en.wikipedia.org/wiki/Devanagari_(Unicode_block)\n            || (character >= String.fromCharCode(43232) && character <= String.fromCharCode(43263)) //Devanagari Extended (U+A8E0U+A8FF), https://en.wikipedia.org/wiki/Devanagari_Extended\n            || (character >= String.fromCharCode(7376) && character <= String.fromCharCode(7423))); //Vedic Extensions (U+1CD0U+1CFF), https://en.wikipedia.org/wiki/Vedic_Extensions\n    };\n    ParagraphWidget.prototype.isKoreanChar = function (character) {\n        return (\n        //Korean characters https://en.wikipedia.org/wiki/Korean_language_and_computers#Hangul_in_Unicode\n        (character >= String.fromCharCode(44032) && character <= String.fromCharCode(55203)) //Hangul Syllables characters https://en.wikipedia.org/wiki/Hangul_Syllables\n            || (character >= String.fromCharCode(4352) && character <= String.fromCharCode(4607)) //Hangul Jamo characters https://en.wikipedia.org/wiki/Hangul_Jamo_(Unicode_block)\n            || (character >= String.fromCharCode(12592) && character <= String.fromCharCode(12687)) //Hangul Compatibility Jamo characters https://en.wikipedia.org/wiki/Hangul_Compatibility_Jamo\n            || (character >= String.fromCharCode(43360) && character <= String.fromCharCode(43391)) //Hangul Jamo Extended-A characters https://en.wikipedia.org/wiki/Hangul_Jamo_Extended-A\n            || (character >= String.fromCharCode(55216) && character <= String.fromCharCode(55295)) //Hangul Jamo Extended-B characters https://en.wikipedia.org/wiki/Hangul_Jamo_Extended-B\n            || (character >= String.fromCharCode(44032) && character <= String.fromCharCode(55215)) //Hangul_Syllables characters https://en.wikipedia.org/wiki/Hangul_Syllables\n        );\n    };\n    ParagraphWidget.prototype.isJapanese = function (character) {\n        return (\n        //Japanese and Ainu languages\n        (character >= String.fromCharCode(12448) && character <= String.fromCharCode(12543)) //Katakana characters https://en.wikipedia.org/wiki/Katakana_(Unicode_block)\n            || (character >= String.fromCharCode(12352) && character <= String.fromCharCode(12447)) //Hiragana characters https://en.wikipedia.org/wiki/Hiragana_(Unicode_block)\n        );\n    };\n    ParagraphWidget.prototype.isThaiCharacter = function (character) {\n        // Thai characters https://en.wikipedia.org/wiki/Thai_script#Unicode_ranges \n        return (character >= String.fromCharCode(3584) && character <= String.fromCharCode(3711));\n    };\n    ParagraphWidget.prototype.isChineseChar = function (character) {\n        //To-Do: Should handle a Chinese characters as two separate scripts such as Chinese Simplified and Chinese Traditional.\n        return (\n        //Chinese characters https://en.wikipedia.org/wiki/Han_unification#Unicode_ranges\n        //Chinese characters are comes under the Han script.\n        (character >= String.fromCharCode(19968) && character <= String.fromCharCode(40959)) //CJK Unified Ideographs(4E009FFF), https://en.wikipedia.org/wiki/CJK_Unified_Ideographs_(Unicode_block)\n            || (character >= String.fromCharCode(13312) && character <= String.fromCharCode(19903)) //CJK Unified Ideographs Extension A(34004DBF), https://en.wikipedia.org/wiki/CJK_Unified_Ideographs_Extension_A\n            //|| (character >= '\\u20000' && character <= '\\u2A6DF') //CJK Unified Ideographs Extension B(200002A6DF), https://en.wikipedia.org/wiki/CJK_Unified_Ideographs_Extension_B\n            // As we don't hold a 32 bit character into char data type, and also it get splitted into two char value, when it is 32 bit.\n            // So, below we have added a maximum and least char range of the above 32 bit character.\n            // We can split a 32 bit character into two 16 bit characters by \"Char.ConvertFromUtf32(0x20000).ToCharArray()\" built-in method.\n            || (character >= String.fromCharCode(55360) && character <= String.fromCharCode(55401)) // Represents a start and end range of first character code, when we split a character between (character >= '\\u20000' && character <= '\\u2A6DF').\n            || (character >= String.fromCharCode(56320) && character <= String.fromCharCode(57055)) // Represents a start and end range of second character code, when we split a character between (character >= '\\u20000' && character <= '\\u2A6DF').\n            || (character >= String.fromCharCode(43360) && character <= String.fromCharCode(43391)) //CJK Compatibility Ideographs(F900FAFF), https://en.wikipedia.org/wiki/CJK_Compatibility_Ideographs\n            || (character >= String.fromCharCode(65280) && character <= String.fromCharCode(65519)) //Halfwidth and Fullwidth Forms, https://en.wikipedia.org/wiki/Halfwidth_and_Fullwidth_Forms_(Unicode_block).\n            || (character >= String.fromCharCode(12288) && character <= String.fromCharCode(12351)) //CJK Symbols and Punctuation, https://en.wikipedia.org/wiki/CJK_Symbols_and_Punctuation\n        );\n    };\n    ParagraphWidget.prototype.getFontScriptType = function (inputCharacter) {\n        // Return FontScriptType as Hindi, if input character is in-between Hindi character ranges.\n        if (this.isHindiChar(inputCharacter))\n            return FontScriptType.Hindi;\n        // Return FontScriptType as Korean, if input character is in-between Korean character ranges.\n        else if (this.isKoreanChar(inputCharacter))\n            return FontScriptType.Korean;\n        // Return FontScriptType as Japanese, if input character is in-between Japanese character ranges.\n        else if (this.isJapanese(inputCharacter))\n            return FontScriptType.Japanese;\n        // Return FontScriptType as Chinese, if input character is in-between Chinese character ranges.\n        else if (this.isChineseChar(inputCharacter))\n            return FontScriptType.Chinese;\n        // Return FontScriptType as Arabic, if input character is in-between Arabic character ranges.\n        else if (this.isArabicChar(inputCharacter))\n            return FontScriptType.Arabic;\n        // Return FontScriptType as Hebrew, if input character is in-between Hebrew character ranges.\n        else if (this.isHebrewChar(inputCharacter))\n            return FontScriptType.Hebrew;\n        // Return FontScriptType as Thai, if input character is in-between Thai character ranges.\n        else if (this.isThaiCharacter(inputCharacter))\n            return FontScriptType.Thai;\n        // Return FontScriptType as English, for remaining character ranges.\n        else\n            return FontScriptType.English;\n    };\n    ParagraphWidget.prototype.splitTextByFontScriptType = function (inputText, fontScriptTypes) {\n        var splittedText = [];\n        //Retrun the empty array, if input text is Null or Empty.\n        if (isNullOrUndefined(inputText)\n            || (!isNullOrUndefined(inputText) && inputText === '')) {\n            return splittedText;\n        }\n        var text = '';\n        var prevCharacterType = FontScriptType.English;\n        var currCharacterType = FontScriptType.English;\n        // Regex for finding a string is unicode or not.\n        var surrogateRegex = /[\\uD800-\\uDFFF]/;\n        for (var i = 0; i < inputText.length; i++) {\n            // Gets a FontScriptType for the current character.\n            // As per the Microsoft application behavior, we need to consider a space (\\u0020) as previous character type.\n            // So, that we can avoid a text splitting based on space character.\n            if (inputText[i] != String.fromCharCode(32) && !surrogateRegex.test(inputText[i])) {\n                // && !(char.IsHighSurrogate(inputText.charAt(i)) || char.IsLowSurrogate(inputText.charAt(i)))) { //Skip the setting of script type for surrogate character.\n                currCharacterType = this.getFontScriptType(inputText[i]);\n            }\n            //Add a current text into splitted text collection, when previous character type is not equival to current type.\n            if (text != '' && currCharacterType !== prevCharacterType) {\n                //Add splitted text and it's FontScriptType into the collection.\n                splittedText.push(text);\n                fontScriptTypes.push(prevCharacterType);\n                //Reset the text value.\n                text = '';\n            }\n            //Add a current character.\n            text += inputText[i];\n            //Assign a current character type as previous type.\n            prevCharacterType = currCharacterType;\n        }\n        //Add a final text.\n        if (text != '') {\n            //Add splitted text and it's FontScriptType into the collection.\n            splittedText.push(text);\n            fontScriptTypes.push(currCharacterType);\n            //Reset the text value.\n            text = '';\n        }\n        return splittedText;\n    };\n    ParagraphWidget.prototype.splitTextRangeByScriptType = function (lineIndex) {\n        var isField = false;\n        var iIncrementer = 1;\n        // Iterates the items for textrange in the paragraph.\n        if (this.childWidgets.length > 0) {\n            var lineWidget = this.childWidgets[lineIndex];\n            for (var i = lineIndex + 1; i < this.childWidgets.length; i++) {\n                var nextLineWidget = this.childWidgets[i];\n                for (var m = 0; m < nextLineWidget.children.length; m++) {\n                    var element = nextLineWidget.children[m];\n                    lineWidget.children.push(element);\n                    element.line = lineWidget;\n                }\n                this.childWidgets.splice(i, 1);\n                i--;\n            }\n            for (var i = 0; i < lineWidget.children.length; i += iIncrementer) {\n                var elementBox = lineWidget.children[i];\n                iIncrementer = 1;\n                // InlineContentControl inlineContentControl = paraItems[i] as InlineContentControl;\n                // if (inlineContentControl != null)\n                //     this.splitTextRangeByScriptType(inlineContentControl.ParagraphItems, splitter);\n                ////Gets the span to split.\n                var textElement = undefined;\n                if (elementBox instanceof TextElementBox) {\n                    textElement = elementBox;\n                }\n                if (elementBox instanceof FieldElementBox && elementBox.fieldType == 0) {\n                    isField = true;\n                }\n                else if (elementBox instanceof FieldElementBox && elementBox.fieldType === 2) {\n                    isField = false;\n                }\n                if (textElement != undefined && !isField) {\n                    // let hasHintPath: boolean = textElement.characterFormat.IdctHint != FontHintType.Default;\n                    var fontScriptTypes = [];\n                    // Split a current text part text based on FontScriptType.\n                    var splitedTextCollection = this.splitTextByFontScriptType(textElement.text, fontScriptTypes);\n                    if (splitedTextCollection.length > 1) {\n                        for (var j = 0; j < splitedTextCollection.length; j++) {\n                            var text = splitedTextCollection[j];\n                            if (j > 0) {\n                                //Split text range.\n                                //Clone the source text range.\n                                var clonedtextElement = textElement.clone();\n                                clonedtextElement.text = text;\n                                //Sets a script type of WTextRange.\n                                clonedtextElement.scriptType = fontScriptTypes[j];\n                                //Insert the splitted text ranges in order.\n                                lineWidget.children.splice(i + j, 0, clonedtextElement);\n                                clonedtextElement.line = lineWidget;\n                                iIncrementer++;\n                                if (textElement.revisions.length > 0) {\n                                    this.updateTextElementInRevisionRange(textElement, clonedtextElement);\n                                }\n                            }\n                            else {\n                                //Replace the source text range with splitted text.\n                                textElement.text = text;\n                                //Sets a script type of WTextRange.\n                                textElement.scriptType = fontScriptTypes[j];\n                            }\n                        }\n                    }\n                    else if (splitedTextCollection.length > 0) {\n                        //Sets a script type of WTextRange.\n                        textElement.scriptType = fontScriptTypes[0];\n                    }\n                    // Clear the FontScriptType collection.\n                    fontScriptTypes.length = 0;\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    ParagraphWidget.prototype.splitLtrAndRtlText = function (lineIndex) {\n        var isPrevLTRText = { value: null };\n        var iIncrementer = 1;\n        var hasRTLCharacter = { value: null };\n        var characterRangeTypes = [];\n        var isField = false;\n        var documentHelper = this.bodyWidget.page.documentHelper;\n        var textHelper = documentHelper.textHelper;\n        if (this.childWidgets.length > 0) {\n            var lineWidget = this.childWidgets[lineIndex];\n            for (var i = 0; i < lineWidget.children.length; i += iIncrementer) {\n                var elementBox = lineWidget.children[i];\n                iIncrementer = 1;\n                ////Gets the span to split.\n                var textElement = undefined;\n                if (elementBox instanceof TextElementBox) {\n                    textElement = elementBox;\n                }\n                if (elementBox instanceof FieldElementBox && elementBox.fieldType == 0) {\n                    isField = true;\n                }\n                else if (elementBox instanceof FieldElementBox && elementBox.fieldType === 2) {\n                    isField = false;\n                }\n                if (textElement != undefined && !isField) {\n                    var text = textElement.text;\n                    var isTextBidi = textElement.characterFormat.bidi;\n                    var isRTLLang = false;\n                    var charTypeIndex = characterRangeTypes.length;\n                    if (isTextBidi) {\n                        isRTLLang = textHelper.isRightToLeftLanguage(elementBox.characterFormat.localeIdBidi);\n                    }\n                    ////Split the text as consicutive LTR and RTL\n                    var splitedTextCollection = textHelper.splitTextByConsecutiveLtrAndRtl(text, isTextBidi, isRTLLang, characterRangeTypes, isPrevLTRText, hasRTLCharacter);\n                    if (splitedTextCollection.length > 1) {\n                        for (var j = 0; j < splitedTextCollection.length; j++) {\n                            text = splitedTextCollection[j];\n                            if (j > 0) {\n                                ////Clone the source span.\n                                var clonedTextElement = textElement.clone();\n                                clonedTextElement.text = text;\n                                clonedTextElement.characterRange = characterRangeTypes[j + charTypeIndex];\n                                ////Inert the splitted span in order.\n                                lineWidget.children.splice(i + j, 0, clonedTextElement);\n                                clonedTextElement.line = lineWidget;\n                                iIncrementer++;\n                                if (textElement.revisions.length > 0) {\n                                    this.updateTextElementInRevisionRange(textElement, clonedTextElement);\n                                }\n                            }\n                            else {\n                                ////Replace the source span with splitted text.\n                                textElement.text = text;\n                                textElement.characterRange = characterRangeTypes[charTypeIndex];\n                            }\n                        }\n                    }\n                    else if (splitedTextCollection.length > 0) {\n                        textElement.characterRange = characterRangeTypes[charTypeIndex];\n                    }\n                }\n            }\n            characterRangeTypes.length = 0;\n        }\n    };\n    ParagraphWidget.prototype.updateTextElementInRevisionRange = function (inline, splittedElementBox) {\n        for (var i = 0; i < inline.revisions.length; i++) {\n            var revision = inline.revisions[i];\n            var inlineIndex = revision.range.indexOf(inline);\n            revision.range.splice(inlineIndex + 1, 0, splittedElementBox);\n            splittedElementBox.revisions.push(revision);\n            splittedElementBox.removedIds = [];\n        }\n    };\n    /**\n     * Combine the spans by consecutive LTR and RTL texts.\n     * @private\n     */\n    ParagraphWidget.prototype.combineconsecutiveRTL = function (lineIndex) {\n        var isField = false;\n        var documentHelper = this.bodyWidget.page.documentHelper;\n        var textHelper = documentHelper.textHelper;\n        for (var j = lineIndex; j < this.childWidgets.length; j++) {\n            var lineWidget = this.childWidgets[j];\n            for (var i = 0; i <= lineWidget.children.length - 2; i++) {\n                var elementBox = lineWidget.children[i];\n                if (elementBox instanceof FieldElementBox && elementBox.fieldType === 0) {\n                    isField = true;\n                }\n                else if (elementBox instanceof FieldElementBox && elementBox.fieldType === 2) {\n                    isField = false;\n                }\n                if (!isField && elementBox instanceof TextElementBox && lineWidget.children[i + 1] instanceof TextElementBox) {\n                    var currentTxtRange = elementBox;\n                    var nextTxtRange = lineWidget.children[i + 1];\n                    // Bug 866413: Here skipped the Hewbrew script type rtl text combining, because facing element left margin issue.\n                    if (((currentTxtRange.characterFormat.complexScript && currentTxtRange.scriptType == nextTxtRange.scriptType) || (currentTxtRange.characterFormat.bidi && currentTxtRange.scriptType !== FontScriptType.Hebrew\n                        && currentTxtRange.characterRange == CharacterRangeType.RightToLeft && nextTxtRange.characterRange == CharacterRangeType.RightToLeft)) &&\n                        currentTxtRange.text.length > 0 && nextTxtRange.text.length > 0 &&\n                        !textHelper.isWordSplitChar(currentTxtRange.text[currentTxtRange.text.length - 1]) && !textHelper.isWordSplitChar(nextTxtRange.text[0])\n                        && currentTxtRange.characterFormat.isEqualFormat(nextTxtRange.characterFormat) && this.compareRevisions(currentTxtRange.revisions, nextTxtRange.revisions)) {\n                        currentTxtRange.text = currentTxtRange.text + nextTxtRange.text;\n                        lineWidget.children.splice(i + 1, 1);\n                        i--;\n                    }\n                    else if (currentTxtRange.characterRange == CharacterRangeType.RightToLeft && nextTxtRange.characterRange == CharacterRangeType.RightToLeft &&\n                        currentTxtRange.text.length > 0 && nextTxtRange.text.length > 0 &&\n                        textHelper.isWordSplitChar(currentTxtRange.text[currentTxtRange.text.length - 1]) && textHelper.isWordSplitChar(nextTxtRange.text[0])\n                        && currentTxtRange.characterFormat.isEqualFormat(nextTxtRange.characterFormat) && this.compareRevisions(currentTxtRange.revisions, nextTxtRange.revisions)) {\n                        currentTxtRange.text = currentTxtRange.text + nextTxtRange.text;\n                        lineWidget.children.splice(i + 1, 1);\n                        i--;\n                    }\n                }\n            }\n        }\n    };\n    ParagraphWidget.prototype.compareRevisions = function (revisionA, revisionB) {\n        if (revisionA.length !== revisionB.length) {\n            return false;\n        }\n        for (var i = 0; i < revisionA.length; i++) {\n            if (revisionA[i] !== revisionB[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    ParagraphWidget.prototype.clone = function () {\n        var paragraph = new ParagraphWidget();\n        paragraph.paragraphFormat.copyFormat(this.paragraphFormat);\n        paragraph.characterFormat.copyFormat(this.characterFormat);\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var line = this.childWidgets[i];\n            var cloneLine = line.clone();\n            paragraph.childWidgets.push(cloneLine);\n            for (var j = 0; j < cloneLine.children.length; j++) {\n                var element = cloneLine.children[j];\n                if ((element instanceof ImageElementBox && element.textWrappingStyle !== 'Inline') || element instanceof ShapeElementBox) {\n                    paragraph.floatingElements.push(element);\n                }\n            }\n            cloneLine.paragraph = paragraph;\n        }\n        paragraph.x = this.x;\n        paragraph.y = this.y;\n        paragraph.height = this.height;\n        paragraph.width = this.width;\n        paragraph['absoluteXPosition'] = isNullOrUndefined(this['absoluteXPosition']) ? undefined : { 'width': this['absoluteXPosition']['width'], 'x': this['absoluteXPosition']['x'] };\n        if (this.contentControlProperties) {\n            paragraph.contentControlProperties = this.contentControlProperties;\n        }\n        return paragraph;\n    };\n    ParagraphWidget.prototype.destroyInternal = function (viewer) {\n        var height = this.height;\n        if (!isNullOrUndefined(this.childWidgets)) {\n            for (var i = 0; i < this.childWidgets.length; i++) {\n                var widget = this.childWidgets[i];\n                widget.destroy();\n                if (this.childWidgets.length === 1 && isNullOrUndefined(this.childWidgets[0].children)) {\n                    this.childWidgets = undefined;\n                }\n                if (isNullOrUndefined(this.childWidgets)) {\n                    break;\n                }\n                i--;\n            }\n            this.childWidgets = undefined;\n        }\n        if (!isNullOrUndefined(this.containerWidget) && !isNullOrUndefined(this.containerWidget.childWidgets)\n            && this.containerWidget.childWidgets.indexOf(this) !== -1) {\n            this.containerWidget.childWidgets.splice(this.containerWidget.childWidgets.indexOf(this), 1);\n            this.containerWidget.height -= height;\n            // if ((isNullOrUndefined(this.containerWidget.childWidgets) || this.containerWidget.childWidgets.length === 0)\n            //     && this.containerWidget instanceof BodyWidget) {\n            //     // (this.containerWidget as BodyWidget).destroyInternal(viewer);\n            // }\n            this.containerWidget = undefined;\n        }\n        if (this.hasOwnProperty('absoluteXPosition')) {\n            delete this['absoluteXPosition'];\n        }\n        this.destroy();\n    };\n    ParagraphWidget.prototype.destroy = function () {\n        // if (this.paragraphFormat) {\n        //     this.paragraphFormat.destroy();\n        // }\n        this.paragraphFormat = undefined;\n        // if (this.characterFormat) {\n        //     this.characterFormat.destroy();\n        // }\n        this.characterFormat = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    ParagraphWidget.prototype.componentDestroy = function () {\n        if (this.paragraphFormat) {\n            this.paragraphFormat.destroy();\n        }\n        this.paragraphFormat = undefined;\n        if (this.characterFormat) {\n            this.characterFormat.destroy();\n        }\n        this.characterFormat = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return ParagraphWidget;\n}(BlockWidget));\nexport { ParagraphWidget };\n/**\n * @private\n */\nvar TablePosition = /** @class */ (function () {\n    function TablePosition() {\n    }\n    /**\n     * @private\n     */\n    TablePosition.prototype.clone = function () {\n        var positioning = new TablePosition();\n        positioning.allowOverlap = this.allowOverlap;\n        positioning.distanceTop = this.distanceTop;\n        positioning.distanceRight = this.distanceRight;\n        positioning.distanceLeft = this.distanceLeft;\n        positioning.distanceBottom = this.distanceBottom;\n        positioning.verticalAlignment = this.verticalAlignment;\n        positioning.verticalOrigin = this.verticalOrigin;\n        positioning.verticalPosition = this.verticalPosition;\n        positioning.horizontalAlignment = this.horizontalAlignment;\n        positioning.horizontalOrigin = this.horizontalOrigin;\n        positioning.horizontalPosition = this.horizontalPosition;\n        return positioning;\n    };\n    return TablePosition;\n}());\nexport { TablePosition };\n/**\n * @private\n */\nvar TableWidget = /** @class */ (function (_super) {\n    __extends(TableWidget, _super);\n    function TableWidget() {\n        var _this = _super.call(this) || this;\n        _this.flags = 0;\n        /**\n         * @private\n         */\n        _this.leftMargin = 0;\n        /**\n         * @private\n         */\n        _this.topMargin = 0;\n        /**\n         * @private\n         */\n        _this.rightMargin = 0;\n        /**\n         * @private\n         */\n        _this.bottomMargin = 0;\n        /**\n         * @private\n         */\n        _this.isDefaultFormatUpdated = false;\n        /**\n         * @private\n         */\n        _this.isContainInsideTable = false;\n        /**\n         * @private\n         */\n        _this.footnoteElement = [];\n        _this.margin = new Margin(_this.leftMargin, _this.topMargin, _this.rightMargin, _this.bottomMargin);\n        _this.leftBorderWidth = 0;\n        _this.rightBorderWidth = 0;\n        _this.topBorderWidth = 0;\n        _this.bottomBorderWidth = 0;\n        _this.tableFormat = new WTableFormat(_this);\n        _this.tableHolder = new WTableHolder();\n        _this.spannedRowCollection = new Dictionary();\n        return _this;\n    }\n    Object.defineProperty(TableWidget.prototype, \"isGridUpdated\", {\n        // /**\n        //  * @private\n        //  */\n        // get length(): number {\n        //     if (!isNullOrUndefined(this.nextSplitWidget)) {\n        //         return 1;\n        //     } else {\n        //         if (isNullOrUndefined(this.previousSplitWidget)) {\n        //             return 1;\n        //         }\n        //         return 0;\n        //     }\n        // }\n        /**\n         * @private\n         */\n        get: function () {\n            return ((this.flags & 0x4) >> 2) !== 0;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.flags = ((this.flags & 0xFB) | ((value ? 1 : 0) << 2));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableWidget.prototype, \"continueHeader\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return ((this.flags & 0x2) >> 1) !== 0;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.flags = ((this.flags & 0xFD) | ((value ? 1 : 0) << 1));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableWidget.prototype, \"header\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return (this.flags & 0x1) !== 0;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.flags = ((this.flags & 0xFE) | (value ? 1 : 0));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableWidget.prototype, \"isBidiTable\", {\n        get: function () {\n            return ((this.flags & 0x10) >> 4) !== 0;\n        },\n        set: function (value) {\n            this.flags = ((this.flags & 0xEF) | ((value ? 1 : 0) << 4));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    TableWidget.prototype.equals = function (widget) {\n        return widget instanceof TableWidget && widget.tableFormat === this.tableFormat;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.combineRows = function (viewer) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            if (row.childWidgets.length === 0) {\n                row.destroy();\n                i--;\n            }\n            else {\n                row.combineCells(viewer);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.contains = function (tableCell) {\n        if (this.equals(tableCell.ownerTable)) {\n            return true;\n        }\n        while (tableCell.ownerTable.isInsideTable) {\n            if (this.equals(tableCell.ownerTable)) {\n                return true;\n            }\n            tableCell = tableCell.ownerTable.associatedCell;\n        }\n        return this.equals(tableCell.ownerTable);\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getOwnerWidth = function (isBasedOnViewer) {\n        var width = this.getContainerWidth();\n        // Left and right indents should be neglected.\n        width = width - this.leftIndent - this.rightIndent;\n        return width >= 0 ? width : 0;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getTableWidth = function () {\n        var width = 0;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var rowWidth = 0;\n            var row = this.childWidgets[i];\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                rowWidth += row.childWidgets[j].cellFormat.cellWidth;\n            }\n            if (width < rowWidth) {\n                width = rowWidth;\n            }\n        }\n        return width;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getTableCellWidth = function () {\n        var width = 0;\n        for (var k = 0; k < this.childWidgets.length; k++) {\n            var rowWidth = 0;\n            var rowWidget = this.childWidgets[k];\n            for (var m = 0; m < rowWidget.childWidgets.length; m++) {\n                var cellWidget = rowWidget.childWidgets[m];\n                var cellWidth = cellWidget.width;\n                if (cellWidth === 0) {\n                    cellWidth = cellWidget.cellFormat.cellWidth;\n                    if (cellWidth > cellWidget.cellFormat.preferredWidth &&\n                        cellWidget.cellFormat.preferredWidth !== 0 && cellWidget.cellFormat.preferredWidthType !== 'Percent') {\n                        cellWidth = cellWidget.cellFormat.preferredWidth;\n                    }\n                    cellWidth = HelperMethods.convertPointToPixel(cellWidth - (cellWidget.margin.left + cellWidget.margin.right));\n                }\n                rowWidth += (cellWidth + cellWidget.margin.left + cellWidget.margin.right);\n            }\n            if (width < rowWidth) {\n                width = rowWidth;\n            }\n        }\n        return width;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getTableClientWidth = function (clientWidth) {\n        var tableWidth = clientWidth;\n        if (this.tableFormat.preferredWidthType === 'Point'\n            && this.tableFormat.preferredWidth > 0) {\n            tableWidth = this.tableFormat.preferredWidth;\n        }\n        else {\n            if (this.tableFormat.preferredWidthType === 'Percent'\n                && this.tableFormat.preferredWidth > 0) {\n                tableWidth = tableWidth * this.tableFormat.preferredWidth / 100;\n            }\n        }\n        return tableWidth;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getCellWidth = function (preferredWidth, preferredWidthType, containerWidth, cell) {\n        var cellWidth = preferredWidth;\n        if (preferredWidthType === 'Percent') {\n            cellWidth = (preferredWidth * containerWidth) / 100;\n        }\n        else if (preferredWidthType === 'Point') {\n            cellWidth = preferredWidth;\n        }\n        // For grid before and grid after with auto width, no need to calculate minimum preferred width.\n        else if (!isNullOrUndefined(cell)) {\n            cellWidth = this.getMinimumPreferredWidth(cell);\n        }\n        return cellWidth;\n    };\n    TableWidget.prototype.getMinimumPreferredWidth = function (cell) {\n        var defaultWidth = 0;\n        ////For fixed table, cell width (grid column width) should be considered as default width, When the preferred cell width is zero.\n        if (cell.cellFormat.preferredWidth === 0 && cell.cellFormat.cellWidth !== 0) {\n            defaultWidth = cell.cellFormat.cellWidth;\n        }\n        else {\n            defaultWidth = cell.getMinimumPreferredWidth();\n        }\n        return defaultWidth;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.fitCellsToClientArea = function (clientWidth) {\n        var tableWidth = this.getTableWidth();\n        var factor = clientWidth / tableWidth;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            row.rowFormat.gridAfterWidth *= factor;\n            row.rowFormat.gridBeforeWidth *= factor;\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                row.childWidgets[j].cellFormat.cellWidth *= factor;\n                row.childWidgets[j].cellFormat.preferredWidth *= factor;\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getTableCellWidget = function (point) {\n        var tableCellWidget = undefined;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            if (this.childWidgets[i].y <= point.y\n                && (this.childWidgets[i].y + this.childWidgets[i].height) >= point.y) {\n                tableCellWidget = this.childWidgets[i].getTableCellWidget(point);\n                break;\n            }\n        }\n        return tableCellWidget;\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable  */\n    TableWidget.prototype.calculateGrid = function (isInsertRow) {\n        var tempGrid = [];\n        var tempSpanDecimal = [];\n        var spannedCells = [];\n        var containerWidth = this.getOwnerWidth(true);\n        var tableWidth = this.getTableClientWidth(containerWidth);\n        this.tableCellInfo = new Dictionary();\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            var rowCellInfo = new Dictionary();\n            var rowFormat = row.rowFormat;\n            var cellWidth = 0;\n            var columnSpan = row.rowFormat.gridBefore;\n            var currOffset = 0;\n            if (tempGrid.indexOf(currOffset) < 0) {\n                tempGrid.push(currOffset);\n                tempSpanDecimal.push(currOffset);\n            }\n            //Converts the row grid before width from point to twips point by 15 factor.\n            cellWidth = this.getCellWidth(rowFormat.gridBeforeWidth, rowFormat.gridBeforeWidthType, tableWidth, null);\n            currOffset += cellWidth;\n            var startOffset = parseFloat(currOffset.toFixed(2));\n            if (tempGrid.indexOf(startOffset) < 0) {\n                tempGrid.push(startOffset);\n                tempSpanDecimal.push(currOffset);\n            }\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                var cell = row.childWidgets[j];\n                for (var k = 0; k < spannedCells.length; k++) {\n                    if (spannedCells[k].columnIndex < columnSpan) {\n                        continue;\n                    }\n                    var rowSpan = spannedCells[k].cellFormat.rowSpan;\n                    var removeSpannedCell = true;\n                    if (spannedCells[k].columnIndex > columnSpan) {\n                        {\n                            removeSpannedCell = false;\n                            // If the cell is the last cell in the row and the row has grid after value..\n                            if (j === row.childWidgets.length - 1 && row.rowFormat.gridAfter > 0) {\n                                cellWidth = this.getCellWidth(spannedCells[k].cellFormat.preferredWidth, spannedCells[k].cellFormat.preferredWidthType, tableWidth, null);\n                                currOffset += cellWidth;\n                            }\n                        }\n                    }\n                    else {\n                        // If the table gird alone calculted then column index of the rowspanned cell will be directly taken. \n                        // If the gird calculation is done from the UI level opearations such as resizing then table holder \n                        // will have the columns at that time we can get the column index from the table holder.\n                        //Converts the cell width from point to twips point by 15 factor.\n                        cellWidth = this.getCellWidth(spannedCells[k].cellFormat.preferredWidth, spannedCells[k].cellFormat.preferredWidthType, tableWidth, null);\n                        currOffset += cellWidth;\n                        columnSpan = spannedCells[k].columnIndex + spannedCells[k].cellFormat.columnSpan;\n                    }\n                    if (!removeSpannedCell && j === row.childWidgets.length - 1) {\n                        removeSpannedCell = true;\n                    }\n                    if (removeSpannedCell && i - spannedCells[k].ownerRow.rowIndex === rowSpan - 1) {\n                        spannedCells.splice(k, 1);\n                        k--;\n                    }\n                }\n                // At the start of each row, we will process the row spanned cells to get the start column index.\n                // To calculate grid properly, we need the items in the spanned cells collection in the order of their column index\n                if (cell.cellFormat.rowSpan > 1) {\n                    if (spannedCells.length === 0 || spannedCells[spannedCells.length - 1].columnIndex <= columnSpan) {\n                        spannedCells.push(cell);\n                    }\n                    else {\n                        for (var m = spannedCells.length; m > 0; m--) {\n                            if (spannedCells[m - 1].columnIndex > columnSpan) {\n                                spannedCells.splice(m - 1, 0, cell);\n                            }\n                        }\n                    }\n                }\n                // Add start offset of each cell based on its index\n                if (!rowCellInfo.containsKey(cell.cellIndex)) {\n                    rowCellInfo.add(cell.cellIndex, parseFloat((currOffset - startOffset).toFixed(2)));\n                }\n                columnSpan += cell.cellFormat.columnSpan;\n                //Converts the cell width from pixel to twips point by 15 factor.\n                cellWidth = this.getCellWidth(cell.cellFormat.preferredWidth, cell.cellFormat.preferredWidthType, tableWidth, null);\n                currOffset += cellWidth;\n                var offset = parseFloat(currOffset.toFixed(2));\n                if (tempGrid.indexOf(offset) < 0) {\n                    tempGrid.push(offset);\n                    tempSpanDecimal.push(currOffset);\n                }\n                if (j === row.childWidgets.length - 1 && rowFormat.gridAfter > 0) {\n                    cellWidth = this.getCellWidth(rowFormat.gridAfterWidth, 'Point', tableWidth, null);\n                    currOffset += cellWidth;\n                    if (tempGrid.indexOf(parseFloat(currOffset.toFixed(2))) < 0) {\n                        tempGrid.push(parseFloat(currOffset.toFixed(2)));\n                        tempSpanDecimal.push(currOffset);\n                    }\n                    columnSpan += rowFormat.gridAfter;\n                }\n                // Add rowindex and its cells info for each row\n                if (!this.tableCellInfo.containsKey(row.rowIndex)) {\n                    this.tableCellInfo.add(row.rowIndex, rowCellInfo);\n                }\n            }\n        }\n        tempGrid.sort(function (a, b) { return a - b; });\n        tempSpanDecimal.sort(function (a, b) { return a - b; });\n        if (this.tableHolder.columns.length > 0 && (tempGrid.length - 1 !== this.tableHolder.columns.length || isInsertRow)) {\n            this.updateColumnSpans(tempGrid, tableWidth, tempSpanDecimal);\n        }\n        this.tableCellInfo.clear();\n        this.tableCellInfo = undefined;\n    };\n    TableWidget.prototype.updateColumnSpans = function (tempGrid, containerWidth, tempSpan) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            if (row.rowFormat.gridBeforeWidth >= 0) {\n                row.rowFormat.gridBefore = row.getGridCount(tempGrid, undefined, -1, containerWidth, tempSpan);\n            }\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                var cell = row.childWidgets[j];\n                var columnSpan = row.getGridCount(tempGrid, cell, cell.getIndex(), containerWidth, tempSpan);\n                if (columnSpan > 0 && cell.cellFormat.columnSpan !== columnSpan) {\n                    cell.cellFormat.columnSpan = columnSpan;\n                }\n            }\n            if (row.rowFormat.gridAfterWidth >= 0) {\n                row.rowFormat.gridAfter = row.getGridCount(tempGrid, undefined, row.childWidgets.length, containerWidth, tempSpan);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n        this.checkTableColumns();\n        var isAllColumnHasPointWidth = this.tableHolder.isAllColumnHasPointWidthType();\n        var tableWidth = isAllColumnHasPointWidth ? this.tableHolder.getTotalWidth(0) : this.tableHolder.getTotalWidth(1);\n        if (tableWidth > minimumWordWidth) {\n            minimumWordWidth = tableWidth;\n        }\n        if (!isAllColumnHasPointWidth) {\n            tableWidth = this.tableHolder.getTotalWidth(2);\n        }\n        if (tableWidth > maximumWordWidth) {\n            maximumWordWidth = tableWidth;\n        }\n        return { 'minimumWordWidth': minimumWordWidth, 'maximumWordWidth': maximumWordWidth };\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.checkTableColumns = function () {\n        if (this.isGridUpdated) {\n            return;\n        }\n        var isAutoFit = this.isAutoFit();\n        if (isAutoFit || this.tableHolder.columns.length === 0) {\n            this.buildTableColumns();\n        }\n        this.isGridUpdated = false;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.isAutoFit = function () {\n        var bodyWidget = this.bodyWidget;\n        if (!isNullOrUndefined(bodyWidget) && !isNullOrUndefined(bodyWidget.page)) {\n            return bodyWidget.page.documentHelper.layout.getParentTable(this).tableFormat.allowAutoFit;\n        }\n        return false;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.buildTableColumns = function () {\n        if (this.isGridUpdated) {\n            return;\n        }\n        // Clear existing columns in order to start creating columns freshly.\n        this.tableHolder.resetColumns();\n        var containerWidth = 0;\n        var tableWidth = 0;\n        var rowSpannedCells = [];\n        var isAutoWidth = this.tableFormat.preferredWidthType === 'Auto';\n        var isAutoFit = this.tableFormat.allowAutoFit;\n        // For continuous layout, window width should be considered. \n        // If preferred width exceeds this limit, it can take upto maximum of 2112 pixels (1584 points will be assigned by Microsoft Word).\n        if (((!isNullOrUndefined(this.bodyWidget.page)) && this.bodyWidget.page.viewer instanceof WebLayoutViewer && isAutoFit && !this.isInsideTable && !(this.containerWidget instanceof TextFrame))) {\n            containerWidth = HelperMethods.convertPixelToPoint(this.bodyWidget.page.viewer.clientArea.width - this.bodyWidget.page.viewer.padding.right * 3);\n        }\n        else {\n            containerWidth = this.getOwnerWidth(true);\n        }\n        containerWidth = (this.tableFormat.preferredWidth > containerWidth) ? this.tableFormat.preferredWidth : containerWidth;\n        var isZeroWidth = (isAutoWidth && this.tableFormat.preferredWidth === 0 && !isAutoFit);\n        tableWidth = this.getTableClientWidth(containerWidth);\n        var pageContainerWidth = this.getContainerWidth();\n        if (isZeroWidth && !this.isDefaultFormatUpdated && isAutoFit) {\n            this.splitWidthToTableCells(tableWidth, isZeroWidth);\n        }\n        var hasSpannedCells = false;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            var rowFormat = row.rowFormat;\n            var columnSpan = 0;\n            var cellWidth = 0;\n            var sizeInfo = new ColumnSizeInfo();\n            var offset = 0;\n            if (rowFormat.gridBefore > 0 && (row.rowFormat.beforeWidth !== 0 || row.rowFormat.gridBeforeWidth !== 0) && ((this.bodyWidget.page.documentHelper.alignTablesRowByRow) ? row.ownerTable.tableFormat.tableAlignment === 'Left' || (this.bodyWidget.page.documentHelper.compatibilityMode === 'Word2003' && row.ownerTable.firstChild.rowFormat.gridAfter > 0) : true)) {\n                cellWidth = this.getCellWidth(rowFormat.gridBeforeWidth, row.rowFormat.gridAfterWidthType, tableWidth, null);\n                sizeInfo.minimumWidth = cellWidth;\n                this.tableHolder.addColumns(columnSpan, columnSpan = rowFormat.gridBefore, cellWidth, sizeInfo, offset = cellWidth, 'Point');\n            }\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                var cell = row.childWidgets[j];\n                if (cell.cellFormat.rowSpan > 1 || cell.cellFormat.columnSpan > 1) {\n                    hasSpannedCells = true;\n                }\n                if (rowSpannedCells.length === 0) {\n                    cell.columnIndex = columnSpan;\n                }\n                for (var k = 0; k < rowSpannedCells.length; k++) {\n                    var rowSpannedCell = rowSpannedCells[k];\n                    if (rowSpannedCell.columnIndex < columnSpan) {\n                        cell.columnIndex = columnSpan;\n                        continue;\n                    }\n                    var rowSpan = 1;\n                    var removeSpannedCell = true;\n                    rowSpan = rowSpannedCell.cellFormat.rowSpan;\n                    if (rowSpannedCell.columnIndex > columnSpan) {\n                        cell.columnIndex = columnSpan;\n                        removeSpannedCell = false;\n                    }\n                    else {\n                        sizeInfo = rowSpannedCell.getCellSizeInfo(isAutoFit);\n                        cellWidth = this.getCellWidth(rowSpannedCell.cellFormat.preferredWidth, rowSpannedCell.cellFormat.preferredWidthType, tableWidth, rowSpannedCell);\n                        // If the table gird alone calculated then column index of the rowspanned cell will be directly taken. \n                        // If the gird calculation is done from the UI level operations such as resizing then table holder will have the columns at that time we can get the column index from the table holder.\n                        if (this.tableHolder.columns.length > 0) {\n                            this.tableHolder.addColumns(columnSpan, columnSpan = this.tableHolder.columns.indexOf(rowSpannedCell.ownerColumn) + rowSpannedCell.cellFormat.columnSpan, cellWidth, sizeInfo, offset += cellWidth, cell.cellFormat.preferredWidthType);\n                            cell.columnIndex = columnSpan;\n                        }\n                        else {\n                            this.tableHolder.addColumns(columnSpan, columnSpan = rowSpannedCell.columnIndex + rowSpannedCell.cellFormat.columnSpan, cellWidth, sizeInfo, offset += cellWidth, cell.cellFormat.preferredWidthType);\n                            cell.columnIndex = columnSpan;\n                        }\n                    }\n                    if (!removeSpannedCell && j === row.childWidgets.length - 1) {\n                        removeSpannedCell = true;\n                    }\n                    if (removeSpannedCell && i - rowSpannedCell.ownerRow.rowIndex === rowSpan - 1) {\n                        rowSpannedCells.splice(k, 1);\n                        k--;\n                    }\n                }\n                // At the start of each row, we will process the row spanned cells to get the start column index.\n                // To calculate grid properly, we need the items in the spanned cells collection in the order of their column index\n                if (cell.cellFormat.rowSpan > 1) {\n                    if (rowSpannedCells.length === 0 || rowSpannedCells[rowSpannedCells.length - 1].columnIndex <= columnSpan) {\n                        rowSpannedCells.push(cell);\n                    }\n                    else {\n                        var insertIndex = 0;\n                        for (var m = rowSpannedCells.length; m > 0; m--) {\n                            if (rowSpannedCells[m - 1].columnIndex > columnSpan) {\n                                insertIndex = m - 1;\n                            }\n                        }\n                        rowSpannedCells.splice(insertIndex, 0, cell);\n                    }\n                }\n                sizeInfo = cell.getCellSizeInfo(isAutoFit);\n                cellWidth = this.getCellWidth(cell.cellFormat.preferredWidth, cell.cellFormat.preferredWidthType, tableWidth, cell);\n                this.tableHolder.addColumns(columnSpan, columnSpan += cell.cellFormat.columnSpan, cellWidth, sizeInfo, offset += cellWidth, cell.cellFormat.preferredWidthType);\n                if (j === row.childWidgets.length - 1 && rowFormat.gridAfterWidth > 0) {\n                    cellWidth = this.getCellWidth(rowFormat.gridAfterWidth, 'Point', tableWidth, null);\n                    sizeInfo.minimumWordWidth = sizeInfo.maximumWordWidth = sizeInfo.minimumWidth = cellWidth;\n                    this.tableHolder.addColumns(columnSpan, columnSpan += rowFormat.gridAfter, cellWidth, sizeInfo, offset += cellWidth, 'Point');\n                }\n            }\n        }\n        if (isZeroWidth && !this.isDefaultFormatUpdated) {\n            this.isDefaultFormatUpdated = true;\n        }\n        this.tableHolder.validateColumnWidths();\n        if (isAutoFit) {\n            // Fits the column width automatically based on contents.\n            this.tableHolder.autoFitColumn(containerWidth, tableWidth, isAutoWidth, this.isInsideTable, isAutoFit, hasSpannedCells, this.leftIndent + this.rightIndent, pageContainerWidth);\n        }\n        else {\n            // Fits the column width based on preferred width. i.e. Fixed layout.\n            this.tableHolder.fitColumns(containerWidth, tableWidth, isAutoWidth, isAutoFit, this.leftIndent + this.rightIndent);\n        }\n        // if (!isAutoFit && isAutoWidth) {\n        //     tableWidth = this.tableHolder.tableWidth;\n        // }\n        //Sets the width to cells\n        this.setWidthToCells(tableWidth, isAutoWidth);\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.setWidthToCells = function (tableWidth, isAutoWidth) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var rw = this.childWidgets[i];\n            var rowFormat = rw.rowFormat;\n            if (rowFormat.gridBefore > 0) {\n                rowFormat.beforeWidth = this.tableHolder.getCellWidth(0, rowFormat.gridBefore, tableWidth);\n            }\n            for (var j = 0; j < rw.childWidgets.length; j++) {\n                var cell = rw.childWidgets[j];\n                cell.cellFormat.cellWidth = this.tableHolder.getCellWidth(cell.columnIndex, cell.cellFormat.columnSpan, tableWidth);\n                //By default, if cell preferred widthType is auto , width set based on table width and type is changed to 'Point'\n            }\n            if (rowFormat.gridAfter > 0) {\n                rowFormat.afterWidth = this.tableHolder.getCellWidth(0, rowFormat.gridAfter, tableWidth);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.updateProperties = function (updateAllowAutoFit, currentSelectedTable, autoFitBehavior) {\n        if (updateAllowAutoFit) {\n            this.tableFormat.allowAutoFit = autoFitBehavior !== 'FixedColumnWidth';\n        }\n        if (this !== currentSelectedTable) {\n            currentSelectedTable.updateProperties(false, currentSelectedTable, autoFitBehavior);\n            return;\n        }\n        if (autoFitBehavior === 'FixedColumnWidth') {\n            // Clear the table widths and set the preferred width for cells.\n            this.tableFormat.preferredWidth = 0;\n            this.tableFormat.preferredWidthType = 'Auto';\n            for (var i = 0; i < this.childWidgets.length; i++) {\n                var rowWidget = this.childWidgets[i];\n                for (var j = 0; j < rowWidget.childWidgets.length; j++) {\n                    var cellWidget = rowWidget.childWidgets[j];\n                    cellWidget.cellFormat.preferredWidthType = 'Point';\n                    cellWidget.cellFormat.preferredWidth = cellWidget.cellFormat.cellWidth;\n                }\n            }\n        }\n        else if (autoFitBehavior === 'FitToWindow') {\n            // Set the preferred width for table and cells in percentage.\n            var tableWidth = this.tableHolder.getTotalWidth(0);\n            this.tableFormat.leftIndent = 0;\n            this.tableFormat.preferredWidth = 100;\n            this.tableFormat.preferredWidthType = 'Percent';\n            for (var i = 0; i < this.childWidgets.length; i++) {\n                var row = this.childWidgets[i];\n                for (var z = 0; z < row.childWidgets.length; z++) {\n                    var cell = row.childWidgets[z];\n                    if (cell.cellFormat.preferredWidthType !== 'Percent') {\n                        cell.cellFormat.preferredWidthType = 'Percent';\n                        cell.cellFormat.preferredWidth = (cell.cellFormat.cellWidth / tableWidth) * 100;\n                    }\n                }\n            }\n        }\n        else {\n            // Clear the preferred width for table and cells.\n            this.tableFormat.preferredWidth = 0;\n            this.tableFormat.preferredWidthType = 'Auto';\n            for (var i = 0; i < this.childWidgets.length; i++) {\n                var row = this.childWidgets[i];\n                row.rowFormat.beforeWidth = 0;\n                row.rowFormat.gridBefore = 0;\n                row.rowFormat.gridBeforeWidth = 0;\n                row.rowFormat.gridBeforeWidthType = 'Auto';\n                row.rowFormat.afterWidth = 0;\n                row.rowFormat.gridAfter = 0;\n                row.rowFormat.gridAfterWidth = 0;\n                row.rowFormat.gridAfterWidthType = 'Auto';\n                for (var j = 0; j < row.childWidgets.length; j++) {\n                    var cell = row.childWidgets[j];\n                    cell.cellFormat.preferredWidth = 0;\n                    cell.cellFormat.preferredWidthType = 'Auto';\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getMaxRowWidth = function (clientWidth) {\n        var width = 0;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            var rowWidth = 0;\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                var cell = row.childWidgets[j];\n                rowWidth += this.getCellWidth(cell.cellFormat.preferredWidth, cell.cellFormat.preferredWidthType, clientWidth, cell);\n            }\n            if (width < rowWidth) {\n                width = rowWidth;\n            }\n        }\n        return width;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.updateWidth = function (dragValue) {\n        var totalPreferredWidth = this.tableHolder.getTotalWidth(0);\n        var ownerWidth = this.getOwnerWidth(true);\n        var containerWidth = this.getTableClientWidth(ownerWidth);\n        if (containerWidth <= totalPreferredWidth) {\n            if (this.tableFormat.preferredWidthType === 'Auto') {\n                this.tableFormat.preferredWidthType = 'Point';\n            }\n        }\n        if (this.tableFormat.preferredWidthType !== 'Auto') {\n            if (this.tableFormat.preferredWidthType === 'Point') {\n                this.tableFormat.preferredWidth = this.getMaxRowWidth(containerWidth);\n            }\n            else { //ToDo:Need to analyze more the Percentage calculation for table width.\n                var value = (totalPreferredWidth / ownerWidth) * 100;\n                this.tableFormat.preferredWidth = value;\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.convertPointToPercent = function (tablePreferredWidth, ownerWidth) {\n        var value = 0;\n        value = (tablePreferredWidth / ownerWidth) * 100;\n        value = Math.round(value);\n        return value < 100 ? value : 100; // The value should be lesser than or equal to 100%;\n    };\n    TableWidget.prototype.updateChildWidgetLeft = function (left, updateLeftIndent) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var rowWidget = this.childWidgets[i];\n            rowWidget.x = left;\n            rowWidget.updateChildWidgetLeft(left, updateLeftIndent);\n        }\n    };\n    /**\n     * Shift the widgets for right to left aligned table.\n     * @private\n     */\n    TableWidget.prototype.shiftWidgetsForRtlTable = function (clientArea, tableWidget) {\n        var clientAreaX = tableWidget.x;\n        var clientAreaRight = clientArea.right;\n        var cellSpace = 0;\n        if (tableWidget.tableFormat && tableWidget.tableFormat.cellSpacing > 0) {\n            cellSpace = tableWidget.tableFormat.cellSpacing;\n        }\n        for (var i = 0; i < tableWidget.childWidgets.length; i++) {\n            var rowWidget = tableWidget.childWidgets[i];\n            var rowX = rowWidget.x;\n            var left = clientAreaRight - (rowX - clientAreaX);\n            for (var j = 0; j < rowWidget.childWidgets.length; j++) {\n                var cellWidget = rowWidget.childWidgets[j];\n                left = left -\n                    (cellWidget.width + cellWidget.margin.left + cellWidget.margin.right - cellWidget.rightBorderWidth + cellSpace);\n                cellWidget.updateWidgetLeft(left + cellWidget.margin.left);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.clone = function () {\n        var table = new TableWidget();\n        table.tableHolder = this.tableHolder.clone();\n        table.tableFormat.copyFormat(this.tableFormat);\n        if (this.wrapTextAround) {\n            table.wrapTextAround = this.wrapTextAround;\n            table.positioning = this.positioning.clone();\n        }\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i].clone();\n            table.childWidgets.push(row);\n            row.containerWidget = table;\n            row.index = i;\n        }\n        table.x = this.x;\n        table.y = this.y;\n        table.height = this.height;\n        table.width = this.width;\n        table.isBidiTable = this.isBidiTable;\n        table.containerWidget = this.containerWidget;\n        if (this.contentControlProperties) {\n            table.contentControlProperties = this.contentControlProperties;\n        }\n        return table;\n    };\n    /**\n     * @private\n     */\n    TableWidget.getTableOf = function (node) {\n        if (node instanceof WBorders) {\n            var row = TableRowWidget.getRowOf(node);\n            if (!isNullOrUndefined(row)) {\n                return row.ownerTable;\n            }\n            else if (node.ownerBase instanceof WTableFormat && node.ownerBase.ownerBase instanceof TableWidget) {\n                return node.ownerBase.ownerBase;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return undefined;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.fitChildToClientArea = function () {\n        var clientWidth = this.getContainerWidth();\n        if (Math.round(clientWidth) < Math.round(this.getTableWidth())) {\n            this.fitCellsToClientArea(clientWidth);\n        }\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                var cell = row.childWidgets[j];\n                for (var k = 0; k < cell.childWidgets.length; k++) {\n                    if (cell.childWidgets[k] instanceof TableWidget) {\n                        cell.childWidgets[k].fitChildToClientArea();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getColumnCellsForSelection = function (startCell, endCell) {\n        var cells = [];\n        var start = startCell.columnIndex;\n        var end = endCell.columnIndex + endCell.cellFormat.columnSpan;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                var cell = row.childWidgets[j];\n                var columnIndex = cell.columnIndex;\n                var columnSpan = cell.cellFormat.columnSpan;\n                if ((columnIndex + columnSpan > start && columnIndex + columnSpan < end) || (columnIndex > start && columnIndex < end)) {\n                    if (cells.indexOf(cell) < 0) {\n                        cells.push(cell);\n                    }\n                }\n                else if ((columnIndex > start && columnIndex < end && columnIndex + columnSpan < end)\n                    || (columnIndex < start && columnIndex + columnSpan > end)) {\n                    if (cells.indexOf(cell) < 0) {\n                        cells.push(cell);\n                    }\n                }\n                else if (columnIndex === start || columnIndex + columnSpan === end) {\n                    if (cells.indexOf(cell) < 0) {\n                        cells.push(cell);\n                    }\n                }\n            }\n        }\n        return cells;\n    };\n    /**\n     * Splits width equally for all the cells.\n     * @param tableClientWidth\n     * @private\n     */\n    TableWidget.prototype.splitWidthToTableCells = function (tableClientWidth, isZeroWidth) {\n        for (var row = 0; row < this.childWidgets.length; row++) {\n            this.childWidgets[row].splitWidthToRowCells(tableClientWidth, isZeroWidth);\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.insertTableRowsInternal = function (tableRows, startIndex, isInsertRow) {\n        for (var i = tableRows.length - 1; i >= 0; i--) {\n            var row = tableRows.splice(i, 1)[0];\n            row.containerWidget = this;\n            this.childWidgets.splice(startIndex, 0, row);\n        }\n        this.updateRowIndex(startIndex);\n        this.isGridUpdated = false;\n        if (isInsertRow) {\n            this.calculateGrid(true);\n            this.buildTableColumns();\n        }\n        this.isGridUpdated = true;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.updateRowIndex = function (startIndex) {\n        for (var i = startIndex; i < this.childWidgets.length; i++) {\n            var row = this.childWidgets[i];\n            row.index = i;\n            for (var j = 0; j < row.childWidgets.length; j++) {\n                row.childWidgets[j].index = j;\n                row.childWidgets[j].rowIndex = row.rowIndex;\n            }\n            startIndex++;\n        }\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.getCellStartOffset = function (cell) {\n        var offset = 0;\n        if (cell && this.tableCellInfo) {\n            if (this.tableCellInfo.containsKey(cell.ownerRow.rowIndex)) {\n                var rowCellInfo = this.tableCellInfo.get(cell.ownerRow.rowIndex);\n                if (rowCellInfo.containsKey(cell.cellIndex)) {\n                    offset = rowCellInfo.get(cell.cellIndex);\n                }\n            }\n        }\n        return offset;\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.destroyInternal = function (viewer) {\n        var height = this.height;\n        if (!isNullOrUndefined(this.childWidgets)) {\n            for (var j = 0; j < this.childWidgets.length; j++) {\n                var widget = undefined;\n                var childWidget = this.childWidgets[j];\n                widget = childWidget;\n                if (!isNullOrUndefined(widget)) {\n                    widget.destroyInternal(viewer);\n                }\n                if (isNullOrUndefined(this.childWidgets)) {\n                    break;\n                }\n                j--;\n            }\n            this.childWidgets = undefined;\n        }\n        if (!isNullOrUndefined(this.containerWidget)) {\n            if (this.containerWidget instanceof BodyWidget) {\n                if (this.containerWidget.floatingElements.indexOf(this) !== -1) {\n                    this.containerWidget.floatingElements.splice(this.containerWidget.floatingElements.indexOf(this), 1);\n                }\n            }\n            if (!isNullOrUndefined(this.containerWidget.childWidgets)) {\n                if (this.containerWidget.childWidgets.indexOf(this) !== -1) {\n                    this.containerWidget.childWidgets.splice(this.containerWidget.childWidgets.indexOf(this), 1);\n                }\n                this.containerWidget.height -= height;\n                // if ((isNullOrUndefined(this.containerWidget.childWidgets) || this.containerWidget.childWidgets.length === 0)\n                //     && this.containerWidget instanceof BodyWidget) {\n                //     // (this.containerWidget as BodyWidget).destroyInternal(viewer);\n                // }\n            }\n            this.containerWidget = undefined;\n        }\n        this.destroy();\n    };\n    /**\n     * @private\n     */\n    TableWidget.prototype.destroy = function () {\n        // if (this.tableFormat) {\n        //     this.tableFormat.destroy();\n        // }\n        this.tableFormat = undefined;\n        if (this.spannedRowCollection) {\n            this.spannedRowCollection.destroy();\n        }\n        this.spannedRowCollection = undefined;\n        // if (this.tableHolder) {\n        //     this.tableHolder.destroy();\n        // }\n        this.tableHolder = undefined;\n        this.flags = undefined;\n        this.leftMargin = undefined;\n        this.topMargin = undefined;\n        this.rightMargin = undefined;\n        this.bottomMargin = undefined;\n        this.headerHeight = undefined;\n        this.isDefaultFormatUpdated = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    TableWidget.prototype.componentDestroy = function () {\n        if (this.tableFormat) {\n            this.tableFormat.destroy();\n        }\n        this.tableFormat = undefined;\n        if (this.spannedRowCollection) {\n            this.spannedRowCollection.destroy();\n        }\n        this.spannedRowCollection = undefined;\n        if (this.tableHolder) {\n            this.tableHolder.destroy();\n        }\n        this.tableHolder = undefined;\n        this.flags = undefined;\n        this.leftMargin = undefined;\n        this.topMargin = undefined;\n        this.rightMargin = undefined;\n        this.bottomMargin = undefined;\n        this.headerHeight = undefined;\n        this.isDefaultFormatUpdated = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return TableWidget;\n}(BlockWidget));\nexport { TableWidget };\n/**\n * @private\n */\nvar TableRowWidget = /** @class */ (function (_super) {\n    __extends(TableRowWidget, _super);\n    function TableRowWidget() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.isRenderBookmarkEnd = false;\n        _this.topBorderWidth = 0;\n        _this.bottomBorderWidth = 0;\n        _this.rowFormat = new WRowFormat(_this);\n        _this.editRangeID = new Dictionary();\n        return _this;\n    }\n    Object.defineProperty(TableRowWidget.prototype, \"rowIndex\", {\n        // /**\n        //  * @private\n        //  */\n        // get length(): number {\n        //     if (!isNullOrUndefined(this.nextSplitWidget)) {\n        //         return 1;\n        //     } else {\n        //         if (isNullOrUndefined(this.previousSplitWidget)) {\n        //             return 1;\n        //         }\n        //         return 0;\n        //     }\n        // }\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.containerWidget) {\n                return this.containerWidget.childWidgets.indexOf(this);\n            }\n            return -1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableRowWidget.prototype, \"ownerTable\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.containerWidget instanceof TableWidget) {\n                return this.containerWidget;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableRowWidget.prototype, \"nextRow\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var index = this.indexInOwner;\n            if (index > -1 && index < this.ownerTable.childWidgets.length - 1) {\n                return this.ownerTable.childWidgets[index + 1];\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.equals = function (widget) {\n        return widget instanceof TableRowWidget && widget.rowFormat === this.rowFormat;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.combineCells = function (viewer) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var cell = this.childWidgets[i];\n            cell.combineWidget(viewer);\n            if (!isNullOrUndefined(cell.cellFormat) && cell.cellFormat.rowSpan === 1) {\n                var cellHeight = cell.height + cell.margin.top + cell.margin.bottom;\n                if ((this.height - this.ownerTable.tableFormat.cellSpacing) < cell.height) {\n                    this.height = this.ownerTable.tableFormat.cellSpacing + cell.height;\n                }\n            }\n            else if (isNullOrUndefined(cell.cellFormat)) {\n                i--;\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.getRowOf = function (node) {\n        if (node instanceof WBorders) {\n            var cell = TableCellWidget.getCellOf(node);\n            if (!isNullOrUndefined(cell)) {\n                return cell.ownerRow;\n            }\n            else if (node.ownerBase instanceof WRowFormat && node.ownerBase.ownerBase instanceof TableRowWidget) {\n                return node.ownerBase.ownerBase;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return undefined;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.getCell = function (rowIndex, columnIndex, cellIndex) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var cell = this.childWidgets[i];\n            if (cell.rowIndex === rowIndex && (!isNullOrUndefined(cellIndex) ? cell.cellIndex === cellIndex : cell.columnIndex === columnIndex)) {\n                return cell;\n            }\n        }\n        return undefined;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.getCellUsingColumnIndex = function (rowIndex, columnIndex) {\n        var cell;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            cell = this.childWidgets[i];\n            if (cell.rowIndex === rowIndex && cell.columnIndex === columnIndex) {\n                return cell;\n            }\n        }\n        cell = this.getCell(rowIndex, columnIndex);\n        if (!isNullOrUndefined(cell)) {\n            return cell;\n        }\n        return undefined;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.splitWidthToRowCells = function (tableClientWidth, isZeroWidth) {\n        var cells = this.childWidgets;\n        var cellWidth = tableClientWidth / cells.length;\n        for (var cell = 0; cell < cells.length; cell++) {\n            if (isZeroWidth && cells[cell].cellFormat.preferredWidth === 0) {\n                cells[cell].cellFormat.preferredWidth = cellWidth;\n                this.ownerTable.isDefaultFormatUpdated = false;\n            }\n            else if (isZeroWidth) {\n                this.ownerTable.isDefaultFormatUpdated = true;\n                break;\n            }\n            else {\n                cells[cell].cellFormat.preferredWidth = cellWidth;\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.getGridCount = function (tableGrid, cell, index, containerWidth, tempSpan) {\n        var prevOffset = 0;\n        var width = 0;\n        var ownerTable = this.ownerTable;\n        var rowFormat = this.rowFormat;\n        if (index === -1) {\n            width = ownerTable.getCellWidth(rowFormat.gridBeforeWidth, rowFormat.gridBeforeWidthType, containerWidth, null);\n        }\n        else {\n            prevOffset += ownerTable.getCellWidth(rowFormat.gridBeforeWidth, rowFormat.gridBeforeWidthType, containerWidth, null);\n            if (index >= 0) {\n                prevOffset += ownerTable.getCellStartOffset(cell);\n            }\n            if (index < this.childWidgets.length) {\n                width = ownerTable.getCellWidth(cell.cellFormat.preferredWidth, cell.cellFormat.preferredWidthType, containerWidth, null);\n            }\n            else {\n                width = ownerTable.getCellWidth(rowFormat.gridAfterWidth, rowFormat.gridAfterWidthType, containerWidth, null);\n            }\n        }\n        var tabIndex = tableGrid.indexOf(prevOffset);\n        var tabGrid = tempSpan[tabIndex];\n        var gridEndIndex;\n        var gridStartIndex = this.getOffsetIndex(tableGrid, prevOffset);\n        var gridWidth = parseFloat((width + prevOffset).toFixed(2));\n        var gridDecimalWidth = parseFloat((width + tabGrid).toFixed(2));\n        if (gridDecimalWidth !== gridWidth && !isNullOrUndefined(tabGrid)) {\n            gridEndIndex = this.getOffsetIndex(tableGrid, tabGrid + width);\n        }\n        else {\n            gridEndIndex = this.getOffsetIndex(tableGrid, prevOffset + width);\n        }\n        return gridEndIndex - gridStartIndex;\n    };\n    TableRowWidget.prototype.getOffsetIndex = function (tableGrid, offset) {\n        offset = parseFloat(offset.toFixed(2));\n        var index = 0;\n        if (tableGrid.indexOf(offset) >= 0) {\n            index = tableGrid.indexOf(offset);\n        }\n        else {\n            for (var i = 0; i < tableGrid.length; i++) {\n                if (tableGrid[i] > offset) {\n                    return i;\n                }\n            }\n            index = tableGrid.length - 1;\n        }\n        return index;\n    };\n    TableRowWidget.prototype.getCellOffset = function (index, containerWidth) {\n        var prevOffset = 0;\n        var ownerTable = this.ownerTable;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var cellFormat = this.childWidgets[i].cellFormat;\n            if (i === index) {\n                break;\n            }\n            prevOffset += ownerTable.getCellWidth(cellFormat.preferredWidth, cellFormat.preferredWidthType, containerWidth, null);\n        }\n        return prevOffset;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.updateRowBySpannedCells = function () {\n        var rowSpannedCells = this.getPreviousRowSpannedCells();\n        var currentRowIndex = this.rowIndex;\n        for (var i = 0; i < rowSpannedCells.length; i++) {\n            var spannedCell = rowSpannedCells[i];\n            var rowSpanEnd = spannedCell.ownerRow.rowIndex + spannedCell.cellFormat.rowSpan - 1;\n            // If current row is row span end or includes spanned cells. then, decrease the rowspan\n            if (rowSpanEnd >= currentRowIndex) {\n                spannedCell.cellFormat.rowSpan -= 1;\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.getPreviousRowSpannedCells = function (include) {\n        var rowSpannedCells = [];\n        var row = include ? this : this.previousWidget;\n        while (!isNullOrUndefined(row)) {\n            for (var i = 0; i < row.childWidgets.length; i++) {\n                var cell = row.childWidgets[i];\n                if (cell.cellFormat.rowSpan > 1) {\n                    rowSpannedCells.splice(0, 0, cell);\n                }\n            }\n            row = row.previousWidget;\n        }\n        return rowSpannedCells;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.isCellsHaveSameWidthUnit = function () {\n        if (this.childWidgets.length > 0) {\n            var firstCellWidthUnit = this.childWidgets[0].cellFormat.preferredWidthType;\n            for (var i = 1; i < this.childWidgets.length; i++) {\n                var cell = this.childWidgets[i];\n                if (firstCellWidthUnit != cell.cellFormat.preferredWidthType) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.updateUniformWidthUnitForCells = function () {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var cell = this.childWidgets[i];\n            cell.cellFormat.preferredWidthType = \"Point\";\n            cell.cellFormat.preferredWidth = cell.cellFormat.cellWidth;\n        }\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.getTableCellWidget = function (point) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var x = Math.round(this.childWidgets[i].x);\n            if (x - this.childWidgets[i].margin.left - 1 <= point.x\n                && (x + this.childWidgets[i].width) >= point.x) {\n                return this.childWidgets[i];\n            }\n            else if (i === this.childWidgets.length - 1\n                && (this.childWidgets[i].x + this.childWidgets[i].width) + 1 <= point.x) {\n                return this.childWidgets[i];\n            }\n        }\n        var cellWidget = undefined;\n        if (this.childWidgets.length > 0) {\n            if (this.childWidgets[0].x <= point.x) {\n                cellWidget = this.childWidgets[this.childWidgets.length - 1].getTableCellWidget(point);\n            }\n            else {\n                cellWidget = this.childWidgets[0].getTableCellWidget(point);\n            }\n        }\n        return cellWidget;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.getFirstRowWidth = function () {\n        var width = 0;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            width += this.childWidgets[i].getCellWidth(this.ownerTable);\n        }\n        return width;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.getCellWidget = function (columnIndex, columnSpan) {\n        var tableHolder = this.ownerTable.tableHolder;\n        var index = tableHolder.getValidColumnIndex(columnIndex);\n        if (index > columnIndex) {\n            columnSpan -= index - columnIndex;\n            columnIndex = index;\n        }\n        var colIndex = 0;\n        if (this.rowFormat.gridBefore > 0) {\n            colIndex += this.rowFormat.gridBefore;\n        }\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var cell = this.childWidgets[i];\n            var colSpan = cell.cellFormat.columnSpan;\n            if (colIndex < cell.columnIndex && (colIndex <= columnIndex || colIndex < columnIndex + columnSpan)\n                && cell.columnIndex > columnIndex) {\n                return null;\n            }\n            if ((cell.columnIndex <= columnIndex || cell.columnIndex < columnIndex + columnSpan)\n                && cell.columnIndex + colSpan > columnIndex) {\n                return cell;\n            }\n            else if (cell.columnIndex > columnIndex) {\n                break;\n            }\n            colIndex += colSpan;\n        }\n        return null;\n    };\n    TableRowWidget.prototype.getVerticalMergeStartCell = function (columnIndex, columnSpan) {\n        var columns = this.ownerTable.tableHolder.columns;\n        if (this.rowFormat.gridBefore > 0 && this.rowFormat.gridBefore > columnIndex + columnSpan) {\n            return null;\n        }\n        var matchedCell = this.getCellWidget(columnIndex, columnSpan);\n        if (!isNullOrUndefined(matchedCell)) {\n            return matchedCell;\n        }\n        if (columnIndex + this.rowFormat.gridAfter === columns.length) {\n            return null;\n        }\n        var cell;\n        var previousRow = this.previousWidget;\n        if (!isNullOrUndefined(previousRow)) {\n            //Gets the First intersecting cell from previous row\n            cell = previousRow.getVerticalMergeStartCell(columnIndex, columnSpan);\n        }\n        if (!isNullOrUndefined(cell) && cell.cellFormat.rowSpan > 1 && this.index === cell.rowIndex + cell.cellFormat.rowSpan - 1) {\n            return cell;\n        }\n        return null;\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n        return { 'minimumWordWidth': minimumWordWidth, 'maximumWordWidth': maximumWordWidth };\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.destroyInternal = function (viewer) {\n        var height = this.height;\n        if (!isNullOrUndefined(this.childWidgets)) {\n            for (var i = 0; i < this.childWidgets.length; i++) {\n                var widget = this.childWidgets[i];\n                widget.destroyInternal(viewer);\n                if (isNullOrUndefined(this.childWidgets)) {\n                    break;\n                }\n                i--;\n            }\n            this.childWidgets = undefined;\n        }\n        if (!isNullOrUndefined(this.containerWidget)) {\n            if (!isNullOrUndefined(this.containerWidget.childWidgets)) {\n                this.containerWidget.childWidgets.splice(this.containerWidget.childWidgets.indexOf(this), 1);\n                if ((isNullOrUndefined(this.containerWidget.childWidgets) || this.containerWidget.childWidgets.length === 0)\n                    && this.containerWidget instanceof TableWidget) {\n                    this.containerWidget.destroyInternal(viewer);\n                }\n                else if (this.containerWidget.containerWidget instanceof BodyWidget) {\n                    this.containerWidget.containerWidget.height -= height;\n                }\n                this.containerWidget.height -= height;\n            }\n        }\n        this.destroy();\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.clone = function () {\n        var row = new TableRowWidget();\n        row.rowFormat.copyFormat(this.rowFormat);\n        row.topBorderWidth = this.topBorderWidth;\n        row.bottomBorderWidth = this.bottomBorderWidth;\n        row.isRenderBookmarkEnd = this.isRenderBookmarkEnd;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var cell = this.childWidgets[i].clone();\n            row.childWidgets.push(cell);\n            cell.containerWidget = row;\n            cell.index = i;\n            cell.rowIndex = this.rowIndex;\n        }\n        row.x = this.x;\n        row.y = this.y;\n        row.height = this.height;\n        row.width = this.width;\n        if (this.contentControlProperties) {\n            row.contentControlProperties = this.contentControlProperties;\n        }\n        return row;\n    };\n    /**\n     * Updates the child widgets left.\n     * @param left\n     * @private\n     */\n    TableRowWidget.prototype.updateChildWidgetLeft = function (left, updateLeftIndent) {\n        // TODO: Cell spacing calculation.\n        var spacing = 0;\n        if (this.ownerTable.tableFormat.cellSpacing > 0) {\n            spacing = this.ownerTable.tableFormat.cellSpacing;\n        }\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var cellWidget = this.childWidgets[i];\n            left += spacing + cellWidget.margin.left;\n            cellWidget.x = left;\n            cellWidget.updateChildWidgetLeft(cellWidget.x, updateLeftIndent);\n            left += cellWidget.width + cellWidget.margin.right;\n        }\n    };\n    /**\n     * Shift the widgets for RTL table.\n     * @param tableWidget\n     * @private\n     */\n    TableRowWidget.prototype.shiftWidgetForRtlTable = function () {\n        var tableWidget = this.ownerTable;\n        var clientAreaX = tableWidget.x;\n        var cellSpace = 0;\n        var tableWidth = 0;\n        if (tableWidget.tableFormat != null && tableWidget.tableFormat.cellSpacing > 0) {\n            cellSpace = tableWidget.tableFormat.cellSpacing;\n        }\n        tableWidth = HelperMethods.convertPointToPixel(tableWidget.getTableWidth());\n        var rowX = this.x;\n        var clientAreaRight = clientAreaX + tableWidth;\n        var left = clientAreaRight - (rowX - clientAreaX);\n        var prevSpannedCellWidth = 0;\n        for (var j = 0; j < this.childWidgets.length; j++) {\n            var cellWidget = this.childWidgets[j];\n            var prevColumnIndex = 0;\n            if (!isNullOrUndefined(cellWidget.previousWidget)) {\n                prevColumnIndex = cellWidget.previousWidget.columnIndex + cellWidget.previousWidget.cellFormat.columnSpan;\n            }\n            if (prevColumnIndex < cellWidget.columnIndex) {\n                prevSpannedCellWidth = HelperMethods.convertPointToPixel(cellWidget.ownerTable.tableHolder.getPreviousSpannedCellWidth(prevColumnIndex, cellWidget.columnIndex));\n                if (prevColumnIndex === 0) {\n                    prevSpannedCellWidth = prevSpannedCellWidth - cellSpace / 2;\n                }\n            }\n            left = left - (cellWidget.width + cellWidget.margin.left + cellWidget.margin.right + cellSpace);\n            cellWidget.updateWidgetLeft(left + cellWidget.margin.left - prevSpannedCellWidth);\n        }\n    };\n    /**\n     * @private\n     */\n    TableRowWidget.prototype.destroy = function () {\n        // if (this.rowFormat) {\n        //     this.rowFormat.destroy();\n        // }\n        this.rowFormat = undefined;\n        this.topBorderWidth = undefined;\n        this.bottomBorderWidth = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    TableRowWidget.prototype.componentDestroy = function () {\n        if (this.rowFormat) {\n            this.rowFormat.destroy();\n        }\n        this.rowFormat = undefined;\n        this.topBorderWidth = undefined;\n        this.bottomBorderWidth = undefined;\n        this.isRenderBookmarkEnd = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return TableRowWidget;\n}(BlockWidget));\nexport { TableRowWidget };\n/**\n * @private\n */\nvar TableCellWidget = /** @class */ (function (_super) {\n    __extends(TableCellWidget, _super);\n    function TableCellWidget() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.rowIndex = -1;\n        _this.sizeInfoInternal = new ColumnSizeInfo();\n        /**\n         * @private\n         */\n        _this.updatedTopBorders = [];\n        /**\n         * @private\n         */\n        _this.isRenderBookmarkStart = false;\n        /**\n         * @private\n         */\n        _this.isRenderBookmarkEnd = false;\n        /**\n         * @private\n         */\n        _this.isRenderEditRangeStart = false;\n        /**\n        * @private\n         */\n        _this.isRenderEditRangeEnd = false;\n        // /**\n        //  * @private\n        //  */\n        // get length(): number {\n        //     if (!isNullOrUndefined(this.nextSplitWidget)) {\n        //         return 1;\n        //     } else {\n        //         if (isNullOrUndefined(this.previousSplitWidget)) {\n        //             return 1;\n        //         }\n        //         return 0;\n        //     }\n        // }\n        /**\n        * @private\n         */\n        _this.isSplittedCell = false;\n        _this.margin = new Margin(_this.leftMargin, _this.topMargin, _this.rightMargin, _this.bottomMargin);\n        _this.leftBorderWidth = 0;\n        _this.rightBorderWidth = 0;\n        _this.cellFormat = new WCellFormat(_this);\n        return _this;\n    }\n    Object.defineProperty(TableCellWidget.prototype, \"ownerColumn\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.ownerTable.tableHolder.columns[this.columnIndex];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableCellWidget.prototype, \"leftMargin\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.cellFormat && this.cellFormat.containsMargins()) {\n                return this.cellFormat.leftMargin;\n            }\n            else if (!isNullOrUndefined(this.ownerRow) && this.ownerRow.rowFormat.hasValue('leftMargin')) {\n                return this.ownerRow.rowFormat.leftMargin;\n            }\n            else if (!isNullOrUndefined(this.ownerTable) && !isNullOrUndefined(this.ownerTable.tableFormat)) {\n                return this.ownerTable.tableFormat.leftMargin;\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableCellWidget.prototype, \"topMargin\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.cellFormat && this.cellFormat.containsMargins()) {\n                return this.cellFormat.topMargin;\n            }\n            else if (!isNullOrUndefined(this.ownerRow) && this.ownerRow.rowFormat.hasValue('topMargin')) {\n                return this.ownerRow.rowFormat.topMargin;\n            }\n            else if (!isNullOrUndefined(this.ownerTable) && !isNullOrUndefined(this.ownerTable.tableFormat)) {\n                return this.ownerTable.tableFormat.topMargin;\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableCellWidget.prototype, \"rightMargin\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.cellFormat && this.cellFormat.containsMargins()) {\n                return this.cellFormat.rightMargin;\n            }\n            else if (!isNullOrUndefined(this.ownerRow) && this.ownerRow.rowFormat.hasValue('rightMargin')) {\n                return this.ownerRow.rowFormat.rightMargin;\n            }\n            else if (!isNullOrUndefined(this.ownerTable) && !isNullOrUndefined(this.ownerTable.tableFormat)) {\n                return this.ownerTable.tableFormat.rightMargin;\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableCellWidget.prototype, \"bottomMargin\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.cellFormat && this.cellFormat.containsMargins()) {\n                return this.cellFormat.bottomMargin;\n            }\n            else if (!isNullOrUndefined(this.ownerRow) && this.ownerRow.rowFormat.hasValue('bottomMargin')) {\n                return this.ownerRow.rowFormat.bottomMargin;\n            }\n            else if (!isNullOrUndefined(this.ownerTable) && !isNullOrUndefined(this.ownerTable.tableFormat)) {\n                return this.ownerTable.tableFormat.bottomMargin;\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableCellWidget.prototype, \"cellIndex\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.ownerRow) {\n                return this.ownerRow.childWidgets.indexOf(this);\n            }\n            return -1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableCellWidget.prototype, \"ownerTable\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.containerWidget instanceof TableRowWidget) {\n                return this.containerWidget.ownerTable;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableCellWidget.prototype, \"ownerRow\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.containerWidget;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TableCellWidget.prototype, \"sizeInfo\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.sizeInfoInternal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.equals = function (widget) {\n        return widget instanceof TableCellWidget && widget.cellFormat === this.cellFormat;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getContainerTable = function () {\n        var table = this.ownerTable;\n        while (table instanceof TableWidget && table.associatedCell instanceof TableCellWidget) {\n            table = table.associatedCell.getContainerTable();\n        }\n        return table;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getPreviousSplitWidget = function () {\n        if (this.containerWidget instanceof TableRowWidget) {\n            var row = this.containerWidget;\n            do {\n                row = row.previousRenderedWidget;\n                if (isNullOrUndefined(row) || row.index < this.rowIndex) {\n                    break;\n                }\n                var previousCell = row.getCell(this.rowIndex, this.columnIndex);\n                if (previousCell && this.equals(previousCell)) {\n                    return previousCell;\n                }\n            } while (row);\n        }\n        return undefined;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getNextSplitWidget = function () {\n        var rowSpan = this.cellFormat.rowSpan;\n        if (this.containerWidget instanceof TableRowWidget) {\n            var row = this.containerWidget;\n            do {\n                row = row.nextRenderedWidget;\n                if (isNullOrUndefined(row) || row.index > this.rowIndex + rowSpan) {\n                    break;\n                }\n                var nextCell = row.getCell(this.rowIndex, this.columnIndex);\n                if (nextCell && this.equals(nextCell)) {\n                    return nextCell;\n                }\n            } while (row);\n        }\n        return undefined;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getTableCellWidget = function (point) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            if (this.childWidgets[i].y <= point.y\n                && (this.childWidgets[i].y + this.childWidgets[i].height) >= point.y) {\n                return this.childWidgets[i].getTableCellWidget(point);\n            }\n        }\n        var tableCellWidget = undefined;\n        if (this.childWidgets.length > 0) {\n            if (this.childWidgets[0].y <= point.y) {\n                tableCellWidget = this.childWidgets[this.childWidgets.length - 1].getTableCellWidget(point);\n            }\n            else {\n                tableCellWidget = this.childWidgets[0].getTableCellWidget(point);\n            }\n        }\n        return tableCellWidget;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.updateWidth = function (preferredWidth) {\n        if (this.cellFormat.preferredWidthType === 'Point') {\n            this.cellFormat.preferredWidth = preferredWidth;\n        }\n        else if (this.cellFormat.preferredWidthType === 'Percent') {\n            this.cellFormat.preferredWidth = this.convertPointToPercent(preferredWidth);\n        }\n        this.cellFormat.cellWidth = preferredWidth;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getCellWidth = function (block) {\n        var ownerTable = this.ownerTable;\n        var containerWidth = ownerTable ? ownerTable.getTableClientWidth(ownerTable.getOwnerWidth(true)) : 0;\n        var cellWidth = containerWidth;\n        var leftMargin = !isNullOrUndefined(this.leftMargin) ? this.leftMargin : 0;\n        var rightMargin = !isNullOrUndefined(this.rightMargin) ? this.rightMargin : 0;\n        if (ownerTable && ownerTable.tableFormat.preferredWidthType === 'Auto' && ownerTable.tableFormat.allowAutoFit) {\n            if (this.cellFormat.preferredWidth === 0) {\n                cellWidth = containerWidth;\n            }\n            else {\n                // If cell has prefferd width, we need to consider prefferd width.\n                cellWidth = this.cellFormat.preferredWidth - leftMargin - rightMargin;\n            }\n        }\n        else if (this.cellFormat.preferredWidthType === 'Percent') {\n            cellWidth = (this.cellFormat.preferredWidth * containerWidth) / 100 - leftMargin - rightMargin;\n        }\n        else if (this.cellFormat.preferredWidthType === 'Point') {\n            if (block instanceof TableWidget && block.tableFormat.preferredWidthType === 'Percent') {\n                cellWidth = this.cellFormat.cellWidth - leftMargin - rightMargin;\n            }\n            else {\n                cellWidth = this.cellFormat.preferredWidth - leftMargin - rightMargin;\n            }\n        }\n        // For grid before and grid after with auto width, no need to calculate minimum preferred width.\n        return cellWidth;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.convertPointToPercent = function (cellPreferredWidth) {\n        var value = 0;\n        var clientWidth = this.ownerTable.getOwnerWidth(true);\n        var tableWidth = this.ownerTable.getTableClientWidth(clientWidth);\n        value = (cellPreferredWidth / tableWidth) * 100;\n        value = Math.round(value);\n        return value < 100 ? value : 100; // The value should be lesser than or equal to 100%;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.getCellLeftBorder = function (tableCell) {\n        var leftBorder = undefined;\n        var cellBorder = tableCell.cellFormat.borders;\n        var rowBorders = !isNullOrUndefined(tableCell.ownerRow) ? tableCell.ownerRow.rowFormat.borders : undefined;\n        var tableBorders = !isNullOrUndefined(tableCell.ownerTable) ? tableCell.ownerTable.tableFormat.borders : undefined;\n        if (!isNullOrUndefined(cellBorder.left)) {\n            leftBorder = cellBorder.left;\n        }\n        if (isNullOrUndefined(leftBorder)) {\n            leftBorder = tableCell.getLeftBorderToRenderByHierarchy(leftBorder, rowBorders, tableBorders);\n        }\n        if (tableCell.ownerTable.tableFormat.cellSpacing > 0) {\n            leftBorder = tableCell.getLeftBorderToRenderByHierarchy(leftBorder, rowBorders, tableBorders);\n        }\n        else {\n            var prevCell = this.getPreviousCell(tableCell);\n            // if the border is shared then choose the border based on Conflict Resolution algorithm.\n            leftBorder = tableCell.getPreviousCellLeftBorder(leftBorder, prevCell);\n        }\n        if (isNullOrUndefined(leftBorder)) {\n            leftBorder = new WBorder(tableCell.cellFormat.borders);\n        }\n        return leftBorder;\n    };\n    TableCellWidget.getPreviousCell = function (tableCell) {\n        var prevCell = undefined;\n        if (!isNullOrUndefined(tableCell.previousWidget)) {\n            //Validates whether the previous cell in same row is adjacent left cell and sets to prevCell.\n            //If the previous cell is not in the same row and it is vertically merged, we have handled in serverside\n            //to copy border based on priority of current cell left border and previous cell right border.\n            var cell = tableCell.previousWidget;\n            if (cell.columnIndex + cell.cellFormat.columnSpan === tableCell.columnIndex) {\n                prevCell = cell;\n            }\n        }\n        return prevCell;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getLeftBorderWidth = function () {\n        var borderWidth = 0;\n        // Added null condition check for asynchronous loading.\n        if (this.cellFormat !== null && this.cellFormat.borders !== null) {\n            // update the margins values respect to layouting of borders.\n            // For normal table cells only left border is rendered. for last cell left and right border is rendered.\n            // this border widths are not included in margins.\n            borderWidth = TableCellWidget.getCellLeftBorder(this).getLineWidth();\n            // need to render rightBorder specifically for all the cells when the cellSpacing is greater than zero or for last cell of each row.\n        }\n        return borderWidth;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getRightBorderWidth = function () {\n        var borderWidth = 0;\n        var ownerTable = this.ownerTable;\n        //Added null condition check for asynchronous loading.\n        if (this.cellFormat !== null && this.cellFormat.borders !== null) {\n            borderWidth = TableCellWidget.getCellRightBorder(this).getLineWidth();\n        }\n        return borderWidth;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getCellSpacing = function () {\n        var actualCellSpacing = this.ownerTable && this.ownerTable.tableFormat ? this.ownerTable.tableFormat.cellSpacing : 0;\n        var cellSpacingToLayout = actualCellSpacing;\n        // Considers the left, right margins and border widths(only available for Layouted table) for Minimum width.\n        if (this.ownerRow.childWidgets.length === 1) {\n            cellSpacingToLayout = actualCellSpacing * 2;\n        }\n        else if (this.cellIndex === 0 || this.cellIndex === this.ownerRow.childWidgets.length - 1) {\n            cellSpacingToLayout = actualCellSpacing + (actualCellSpacing / 2);\n        }\n        else {\n            cellSpacingToLayout = actualCellSpacing;\n        }\n        return cellSpacingToLayout;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getCellSizeInfo = function (isAutoFit) {\n        var isSetWidth = true;\n        var layout = undefined;\n        if (!isNullOrUndefined(this.bodyWidget) && !isNullOrUndefined(this.bodyWidget.page)) {\n            if (!isNullOrUndefined(this.bodyWidget.page.documentHelper)) {\n                layout = this.bodyWidget.page.documentHelper.layout;\n            }\n        }\n        if (!isNullOrUndefined(layout) && !isNullOrUndefined(layout.currentCell)) {\n            isSetWidth = false;\n            if (this === layout.currentCell) {\n                isSetWidth = true;\n            }\n        }\n        // Gets the minimum preferred width for the table cell.\n        if (isSetWidth && !this.sizeInfo.hasMinimumWidth) {\n            this.sizeInfo.minimumWidth = this.getMinimumPreferredWidth();\n        }\n        // Gets the minimum and maximum word widths.\n        if (isAutoFit) {\n            if (isSetWidth && !this.sizeInfo.hasMinimumWordWidth) {\n                var size = this.getMinimumAndMaximumWordWidth(0, 0);\n                this.sizeInfo.minimumWordWidth = size.minimumWordWidth + this.sizeInfo.minimumWidth;\n                this.sizeInfo.maximumWordWidth = size.maximumWordWidth + this.sizeInfo.minimumWidth;\n                // if minimum and maximum width values are equal, set value as zero.\n                // later, preferred width value is considered for all width values.\n                // if (this.sizeInfo.minimumWidth === this.sizeInfo.minimumWordWidth\n                //     && this.sizeInfo.minimumWordWidth === this.sizeInfo.maximumWordWidth) {\n                //     this.sizeInfo.minimumWordWidth = 0;\n                //     this.sizeInfo.maximumWordWidth = 0;\n                //     this.sizeInfo.minimumWidth = 0;\n                // }\n            }\n        }\n        var sizeInfo = new ColumnSizeInfo();\n        sizeInfo.minimumWidth = this.sizeInfo.minimumWidth;\n        sizeInfo.minimumWordWidth = this.sizeInfo.minimumWordWidth;\n        sizeInfo.maximumWordWidth = this.sizeInfo.maximumWordWidth;\n        return sizeInfo;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getMinimumPreferredWidth = function () {\n        var defaultWidth = this.leftMargin + this.rightMargin + this.getLeftBorderWidth() + this.getRightBorderWidth() + this.getCellSpacing();\n        return defaultWidth;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getPreviousCellLeftBorder = function (leftBorder, previousCell) {\n        if ((isNullOrUndefined(previousCell) || (!isNullOrUndefined(leftBorder) && (leftBorder.lineStyle === 'None' && !leftBorder.hasNoneStyle)))) {\n            if (!isNullOrUndefined(leftBorder) && !(leftBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n                leftBorder = this.getLeftBorderToRenderByHierarchy(leftBorder, TableRowWidget.getRowOf(leftBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(leftBorder.ownerBase).tableFormat.borders);\n            }\n        }\n        if (isNullOrUndefined(previousCell)) {\n            return leftBorder;\n        }\n        else {\n            var prevCellRightBorder = undefined;\n            if (!isNullOrUndefined(previousCell.cellFormat.borders) && !isNullOrUndefined(previousCell.cellFormat.borders.right) && previousCell.cellFormat.borders.right.lineStyle !== 'None') {\n                prevCellRightBorder = previousCell.cellFormat.borders.right;\n            }\n            if (!isNullOrUndefined(prevCellRightBorder) && prevCellRightBorder.lineStyle !== 'None') {\n                return this.getBorderBasedOnPriority(prevCellRightBorder, leftBorder);\n            }\n            else if (!isNullOrUndefined(leftBorder) && !(leftBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n                return this.getLeftBorderToRenderByHierarchy(leftBorder, TableRowWidget.getRowOf(leftBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(leftBorder.ownerBase).tableFormat.borders);\n            }\n        }\n        return leftBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getBorderBasedOnPriority = function (border, adjacentBorder) {\n        // If the cell and its adjacent cell defined different borders then based on this algorithm the border choose to render.\n        // Reference link :https://msdn.microsoft.com/en-us/library/office/documentformat.openxml.wordprocessing.tablecellborders.aspx\n        if (isNullOrUndefined(border)) {\n            return adjacentBorder;\n        }\n        else if (isNullOrUndefined(adjacentBorder)) {\n            return border;\n        }\n        var borderWeight = border.getBorderWeight();\n        var adjacentBorderWeight = adjacentBorder.getBorderWeight();\n        //the border with higher wight  shall be displayed.\n        if (borderWeight === adjacentBorderWeight) {\n            //if the border is equal weight the based on the priority the border will be choosen to render.\n            var borderPriority = border.getPrecedence();\n            var adjacentBorderPriority = adjacentBorder.getPrecedence();\n            if (borderPriority === adjacentBorderPriority) {\n                //The color with the smaller brightness value shall be displayed.\n                var borderColInRGB = HelperMethods.convertHexToRgb(border.color);\n                var R1 = borderColInRGB.r;\n                var G1 = borderColInRGB.g;\n                var B1 = borderColInRGB.b;\n                var adjacentBorderColInRGB = HelperMethods.convertHexToRgb(adjacentBorder.color);\n                var R2 = adjacentBorderColInRGB.r;\n                var G2 = adjacentBorderColInRGB.g;\n                var B2 = adjacentBorderColInRGB.b;\n                var borderBrightness = (R1 + B1 + (2 * G1));\n                var adjacentBorderBrightness = (R2 + B2 + (2 * G2));\n                if (borderBrightness === adjacentBorderBrightness) {\n                    borderBrightness = (B1 + (2 * G1));\n                    adjacentBorderBrightness = (B2 + (2 * G2));\n                    if (borderBrightness === adjacentBorderBrightness) {\n                        if (G1 === G2) {\n                            return border;\n                        }\n                        else if (G1 > G2) {\n                            return adjacentBorder;\n                        }\n                        else {\n                            return border;\n                        }\n                    }\n                    else if (borderBrightness > adjacentBorderBrightness) {\n                        return adjacentBorder;\n                    }\n                    else {\n                        return border;\n                    }\n                }\n                else if (borderBrightness > adjacentBorderBrightness) {\n                    return adjacentBorder;\n                }\n                else {\n                    return border;\n                }\n            }\n            else if (borderPriority > adjacentBorderPriority) {\n                return border;\n            }\n            else {\n                return adjacentBorder;\n            }\n        }\n        else if (borderWeight > adjacentBorderWeight) {\n            return border;\n        }\n        else {\n            return adjacentBorder;\n        }\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getLeftBorderToRenderByHierarchy = function (leftBorder, rowBorders, tableBorders) {\n        var ownerCell = TableCellWidget.getCellOf(leftBorder.ownerBase);\n        if (!isNullOrUndefined(ownerCell)) {\n            var isFirstCell = false;\n            if (ownerCell.columnIndex === 0 || (ownerCell.cellIndex === 0 && ownerCell.ownerRow.rowFormat.gridBefore > 0)) {\n                isFirstCell = true;\n            }\n            var isRowBorderDefined = !isNullOrUndefined(rowBorders.left) && rowBorders.left.lineStyle !== 'None' && rowBorders.left.isBorderDefined;\n            if ((!isNullOrUndefined(leftBorder) && leftBorder.lineStyle === 'None' && (!leftBorder.isBorderDefined || isRowBorderDefined)) || isNullOrUndefined(leftBorder)) {\n                if (isFirstCell) {\n                    leftBorder = rowBorders.left;\n                    if ((!isNullOrUndefined(leftBorder) && leftBorder.lineStyle === 'None') || isNullOrUndefined(leftBorder)) {\n                        leftBorder = tableBorders.left;\n                    }\n                }\n                else {\n                    leftBorder = rowBorders.vertical;\n                    if ((!isNullOrUndefined(leftBorder) && leftBorder.lineStyle === 'None') || isNullOrUndefined(leftBorder)) {\n                        leftBorder = tableBorders.vertical;\n                    }\n                }\n            }\n        }\n        return leftBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.getCellRightBorder = function (tableCell) {\n        var rightBorder = undefined;\n        var cellBorder = tableCell.cellFormat.borders;\n        var rowBorders = !isNullOrUndefined(tableCell.ownerRow) ? tableCell.ownerRow.rowFormat.borders : undefined;\n        var tableBorders = !isNullOrUndefined(tableCell.ownerTable) ? tableCell.ownerTable.tableFormat.borders : undefined;\n        if (!isNullOrUndefined(cellBorder.right)) {\n            rightBorder = cellBorder.right;\n        }\n        if (isNullOrUndefined(rightBorder)) {\n            rightBorder = tableCell.getRightBorderToRenderByHierarchy(rightBorder, rowBorders, tableBorders);\n        }\n        if (tableCell.ownerTable.tableFormat.cellSpacing > 0) {\n            rightBorder = tableCell.getRightBorderToRenderByHierarchy(rightBorder, rowBorders, tableBorders);\n        }\n        else {\n            var nextCell = this.getNextCell(tableCell);\n            // if the border is shared then choose the border based on Conflict Resolution algorithm.\n            rightBorder = tableCell.getAdjacentCellRightBorder(rightBorder, nextCell);\n        }\n        if (isNullOrUndefined(rightBorder)) {\n            rightBorder = new WBorder(tableCell.cellFormat.borders);\n        }\n        return rightBorder;\n    };\n    TableCellWidget.getNextCell = function (tableCell) {\n        var nextCell = undefined;\n        var columnSpan = tableCell.cellFormat.columnSpan;\n        if (!isNullOrUndefined(tableCell.nextWidget)) {\n            //Validates whether the next cell in same row is adjacent right cell and sets to nextCell.\n            //If the next cell is not in the same row and it is vertically merged, we have handled in serverside\n            //to copy border based on priority of current cell right border and next cell left border.\n            var cell = tableCell.nextWidget;\n            if (tableCell.columnIndex + columnSpan === cell.columnIndex) {\n                nextCell = cell;\n            }\n        }\n        return nextCell;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getAdjacentCellRightBorder = function (rightBorder, nextCell) {\n        if (isNullOrUndefined(nextCell) || (!isNullOrUndefined(rightBorder) && (rightBorder.lineStyle === 'None' && !rightBorder.hasNoneStyle))) {\n            if (!isNullOrUndefined(rightBorder) && !(rightBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n                rightBorder = this.getRightBorderToRenderByHierarchy(rightBorder, TableRowWidget.getRowOf(rightBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(rightBorder.ownerBase).tableFormat.borders);\n            }\n        }\n        if (isNullOrUndefined(nextCell)) {\n            return rightBorder;\n        }\n        else {\n            var nextCellLeftBorder = undefined;\n            if (!isNullOrUndefined(nextCell.cellFormat.borders) && !isNullOrUndefined(nextCell.cellFormat.borders.left) && nextCell.cellFormat.borders.left.lineStyle !== 'None') {\n                nextCellLeftBorder = nextCell.cellFormat.borders.left;\n            }\n            if (!isNullOrUndefined(nextCellLeftBorder) && nextCellLeftBorder.lineStyle !== 'None') {\n                return this.getBorderBasedOnPriority(rightBorder, nextCellLeftBorder);\n            }\n            else if (!isNullOrUndefined(rightBorder) && !(rightBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n                return this.getRightBorderToRenderByHierarchy(rightBorder, TableRowWidget.getRowOf(rightBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(rightBorder.ownerBase).tableFormat.borders);\n            }\n        }\n        return rightBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getRightBorderToRenderByHierarchy = function (rightBorder, rowBorders, tableBorders) {\n        var ownerCell = TableCellWidget.getCellOf(rightBorder.ownerBase);\n        if (!isNullOrUndefined(ownerCell)) {\n            var isLastCell = false;\n            //Have to check lastcell logic\n            if ((ownerCell.columnIndex + ownerCell.cellFormat.columnSpan) === ownerCell.ownerTable.tableHolder.columns.length\n                || (ownerCell.cellIndex === ownerCell.ownerRow.childWidgets.length - 1)) {\n                isLastCell = true;\n            }\n            var isRowBorderDefined = !isNullOrUndefined(rowBorders.right) && rowBorders.right.lineStyle !== 'None' && rowBorders.right.isBorderDefined;\n            if ((!isNullOrUndefined(rightBorder) && rightBorder.lineStyle === 'None' && (!rightBorder.isBorderDefined || isRowBorderDefined)) || isNullOrUndefined(rightBorder)) {\n                if (isLastCell) {\n                    rightBorder = rowBorders.right;\n                    if ((!isNullOrUndefined(rightBorder) && rightBorder.lineStyle === 'None') || isNullOrUndefined(rightBorder)) {\n                        rightBorder = tableBorders.right;\n                    }\n                }\n                else {\n                    rightBorder = rowBorders.vertical;\n                    if ((!isNullOrUndefined(rightBorder) && rightBorder.lineStyle === 'None') || isNullOrUndefined(rightBorder)) {\n                        rightBorder = tableBorders.vertical;\n                    }\n                }\n            }\n        }\n        return rightBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.getCellTopBorder = function (tableCell) {\n        var topBorder = undefined;\n        var cellBorder = tableCell.cellFormat.borders;\n        var rowBorders = !isNullOrUndefined(tableCell.ownerRow) ? tableCell.ownerRow.rowFormat.borders : undefined;\n        var tableBorders = !isNullOrUndefined(tableCell.ownerTable) ? tableCell.ownerTable.tableFormat.borders : undefined;\n        if (!isNullOrUndefined(cellBorder.top)) {\n            topBorder = cellBorder.top;\n        }\n        if (isNullOrUndefined(topBorder)) {\n            topBorder = tableCell.getTopBorderToRenderByHierarchy(topBorder, rowBorders, tableBorders);\n        }\n        if (tableCell.ownerTable.tableFormat.cellSpacing > 0) {\n            topBorder = tableCell.getTopBorderToRenderByHierarchy(topBorder, rowBorders, tableBorders);\n        }\n        else {\n            var prevTopCell = tableCell.getTopAdjacentCell();\n            //If the border is shared then choose the border based on Conflict Resolution algorithm.\n            topBorder = tableCell.getPreviousCellTopBorder(topBorder, prevTopCell);\n        }\n        if (isNullOrUndefined(topBorder)) {\n            topBorder = new WBorder(tableCell.cellFormat.borders);\n        }\n        return topBorder;\n    };\n    TableCellWidget.prototype.getTopAdjacentCell = function () {\n        var previousRow = this.ownerRow.previousWidget;\n        var cell;\n        if (!isNullOrUndefined(previousRow)) {\n            cell = previousRow.getVerticalMergeStartCell(this.columnIndex, this.cellFormat.columnSpan);\n        }\n        return cell;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getPreviousCellTopBorder = function (topBorder, previousTopCell) {\n        if (isNullOrUndefined(previousTopCell) || (!isNullOrUndefined(topBorder) && (topBorder.lineStyle === 'None' && !topBorder.hasNoneStyle))) {\n            if (!isNullOrUndefined(topBorder) && !(topBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n                topBorder = this.getTopBorderToRenderByHierarchy(topBorder, TableRowWidget.getRowOf(topBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(topBorder.ownerBase).tableFormat.borders);\n            }\n        }\n        if (isNullOrUndefined(previousTopCell)) {\n            return topBorder;\n        }\n        else {\n            var prevTopCellBottomBorder = undefined;\n            if (!isNullOrUndefined(previousTopCell.cellFormat.borders) && !isNullOrUndefined(previousTopCell.cellFormat.borders.bottom)) {\n                prevTopCellBottomBorder = this.getBottomBorderToRenderByHierarchy(previousTopCell.cellFormat.borders.bottom, previousTopCell.ownerRow.rowFormat.borders, previousTopCell.ownerTable.tableFormat.borders);\n            }\n            if (!isNullOrUndefined(prevTopCellBottomBorder) && prevTopCellBottomBorder.lineStyle !== 'None') {\n                return this.getBorderBasedOnPriority(topBorder, prevTopCellBottomBorder);\n            }\n            else if (!isNullOrUndefined(topBorder) && !(topBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n                return this.getTopBorderToRenderByHierarchy(topBorder, TableRowWidget.getRowOf(topBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(topBorder.ownerBase).tableFormat.borders);\n            }\n        }\n        return topBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getTopBorderToRenderByHierarchy = function (topBorder, rowBorders, tableBorders) {\n        var ownerCell = TableCellWidget.getCellOf(topBorder.ownerBase);\n        if (!isNullOrUndefined(ownerCell)) {\n            var isFirstRow = isNullOrUndefined(ownerCell.ownerRow.previousWidget);\n            var isRowBorderDefined = !isNullOrUndefined(rowBorders.top) && rowBorders.top.lineStyle !== 'None' && rowBorders.top.isBorderDefined;\n            if ((!isNullOrUndefined(topBorder) && topBorder.lineStyle === 'None' && (!topBorder.isBorderDefined || isRowBorderDefined)) || isNullOrUndefined(topBorder)) {\n                if (isFirstRow) {\n                    topBorder = rowBorders.top;\n                    if ((!isNullOrUndefined(topBorder) && topBorder.lineStyle === 'None') || isNullOrUndefined(topBorder)) {\n                        topBorder = tableBorders.top;\n                    }\n                }\n                else {\n                    topBorder = rowBorders.horizontal;\n                    if ((!isNullOrUndefined(topBorder) && topBorder.lineStyle === 'None') || isNullOrUndefined(topBorder)) {\n                        topBorder = tableBorders.horizontal;\n                    }\n                }\n            }\n        }\n        return topBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.getCellBottomBorder = function (tableCell) {\n        var bottomBorder = undefined;\n        var cellBorder = tableCell.cellFormat.borders;\n        var rowBorders = !isNullOrUndefined(tableCell.ownerRow) ? tableCell.ownerRow.rowFormat.borders : undefined;\n        var tableBorders = !isNullOrUndefined(tableCell.ownerTable) ? tableCell.ownerTable.tableFormat.borders : undefined;\n        if (!isNullOrUndefined(cellBorder.bottom)) {\n            bottomBorder = cellBorder.bottom;\n        }\n        if (isNullOrUndefined(bottomBorder)) {\n            bottomBorder = tableCell.getBottomBorderToRenderByHierarchy(bottomBorder, rowBorders, tableBorders); // select the left border based on heirarchy.\n        }\n        if (tableCell.ownerTable.tableFormat.cellSpacing > 0) {\n            bottomBorder = tableCell.getBottomBorderToRenderByHierarchy(bottomBorder, rowBorders, tableBorders);\n        }\n        else {\n            var nextBottomCell = undefined;\n            var nextRow = undefined;\n            var rowSpan = tableCell.cellFormat.rowSpan;\n            if (rowSpan === 1) {\n                nextRow = tableCell.ownerRow.nextWidget;\n            }\n            else if (rowSpan > 1) {\n                var row = tableCell.containerWidget;\n                do {\n                    row = row.nextWidget;\n                    if (isNullOrUndefined(row)) {\n                        break;\n                    }\n                    else if (row.index === tableCell.rowIndex + rowSpan) {\n                        nextRow = row;\n                        break;\n                    }\n                } while (row);\n            }\n            if (!isNullOrUndefined(nextRow)) {\n                nextBottomCell = nextRow.getCellWidget(tableCell.columnIndex, tableCell.cellFormat.columnSpan);\n            }\n            //If the border is shared then choose the border based on Conflict Resolution algorithm.\n            bottomBorder = tableCell.getAdjacentCellBottomBorder(bottomBorder, nextBottomCell);\n        }\n        if (isNullOrUndefined(bottomBorder)) {\n            bottomBorder = new WBorder(tableCell.cellFormat.borders);\n        }\n        return bottomBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getAdjacentCellBottomBorder = function (bottomBorder, nextBottomCell) {\n        if (isNullOrUndefined(nextBottomCell) || (!isNullOrUndefined(bottomBorder) && (bottomBorder.lineStyle === 'None' && !bottomBorder.hasNoneStyle))) {\n            if (!isNullOrUndefined(bottomBorder) && !(bottomBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n                bottomBorder = this.getBottomBorderToRenderByHierarchy(bottomBorder, TableRowWidget.getRowOf(bottomBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(bottomBorder.ownerBase).tableFormat.borders);\n            }\n        }\n        if (isNullOrUndefined(nextBottomCell)) {\n            return bottomBorder;\n        }\n        else {\n            var prevBottomCellTopBorder = undefined;\n            if (!isNullOrUndefined(nextBottomCell.cellFormat.borders) && !isNullOrUndefined(nextBottomCell.cellFormat.borders.top) && nextBottomCell.cellFormat.borders.top.lineStyle !== 'None') {\n                prevBottomCellTopBorder = nextBottomCell.cellFormat.borders.top;\n            }\n            if (!isNullOrUndefined(prevBottomCellTopBorder) && prevBottomCellTopBorder.lineStyle !== 'None') {\n                return this.getBorderBasedOnPriority(bottomBorder, prevBottomCellTopBorder);\n            }\n            else if (!isNullOrUndefined(bottomBorder) && !(bottomBorder.ownerBase.ownerBase instanceof WTableFormat)) {\n                return this.getBottomBorderToRenderByHierarchy(bottomBorder, TableRowWidget.getRowOf(bottomBorder.ownerBase).rowFormat.borders, TableWidget.getTableOf(bottomBorder.ownerBase).tableFormat.borders);\n            }\n        }\n        return bottomBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getBottomBorderToRenderByHierarchy = function (bottomBorder, rowBorders, tableBorders) {\n        var ownerCell = TableCellWidget.getCellOf(bottomBorder.ownerBase);\n        if (!isNullOrUndefined(ownerCell)) {\n            var isLastRow = isNullOrUndefined(ownerCell.ownerRow.nextWidget);\n            var isRowBorderDefined = !isNullOrUndefined(rowBorders.bottom) && rowBorders.bottom.lineStyle !== 'None' && rowBorders.bottom.isBorderDefined;\n            if ((!isNullOrUndefined(bottomBorder) && bottomBorder.lineStyle === 'None' && (!bottomBorder.isBorderDefined || isRowBorderDefined)) || isNullOrUndefined(bottomBorder)) {\n                if (isLastRow) {\n                    bottomBorder = rowBorders.bottom;\n                    if ((!isNullOrUndefined(bottomBorder) && bottomBorder.lineStyle === 'None') || isNullOrUndefined(bottomBorder)) {\n                        bottomBorder = tableBorders.bottom;\n                    }\n                }\n                else {\n                    bottomBorder = rowBorders.horizontal;\n                    if ((!isNullOrUndefined(bottomBorder) && bottomBorder.lineStyle === 'None') || isNullOrUndefined(bottomBorder)) {\n                        bottomBorder = tableBorders.horizontal;\n                    }\n                }\n            }\n        }\n        return bottomBorder;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.getCellOf = function (node) {\n        if (node instanceof WBorders) {\n            if (node.ownerBase instanceof WCellFormat && node.ownerBase.ownerBase instanceof TableCellWidget) {\n                return node.ownerBase.ownerBase;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Updates the Widget left.\n     * @private\n     */\n    TableCellWidget.prototype.updateWidgetLeft = function (x) {\n        this.x = x;\n        this.updateChildWidgetLeft(x);\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.updateChildWidgetLeft = function (left, updateLeftIndent) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var widget = this.childWidgets[i];\n            widget.x = left;\n            if (updateLeftIndent && widget instanceof ParagraphWidget) {\n                widget.x = left + HelperMethods.convertPointToPixel(widget.leftIndent);\n            }\n            if (widget instanceof TableWidget) {\n                var tableWidget = widget;\n                tableWidget.updateChildWidgetLeft(left, updateLeftIndent);\n                if (tableWidget.isBidiTable) {\n                    var clientArea = new Rect(tableWidget.x, tableWidget.y, tableWidget.width, tableWidget.height);\n                    tableWidget.shiftWidgetsForRtlTable(clientArea, tableWidget);\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.getMinimumAndMaximumWordWidth = function (minimumWordWidth, maximumWordWidth) {\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var block = this.childWidgets[i];\n            var widthInfo = block.getMinimumAndMaximumWordWidth(minimumWordWidth, maximumWordWidth);\n            minimumWordWidth = widthInfo.minimumWordWidth;\n            maximumWordWidth = widthInfo.maximumWordWidth;\n        }\n        return { 'minimumWordWidth': minimumWordWidth, 'maximumWordWidth': maximumWordWidth };\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.destroyInternal = function (viewer) {\n        // let viewer: LayoutViewer = undefined;\n        // let page: Page = this.getPage();\n        // if (!isNullOrUndefined(page ))\n        //     viewer = page.viewer;\n        if (!isNullOrUndefined(this.childWidgets)) {\n            for (var i = 0; i < this.childWidgets.length; i++) {\n                var widget = this.childWidgets[i];\n                if (widget instanceof ParagraphWidget) {\n                    widget.destroyInternal(viewer);\n                }\n                else {\n                    widget.destroyInternal(viewer);\n                }\n                i--;\n            }\n            this.childWidgets = undefined;\n            if (!isNullOrUndefined(viewer.documentHelper.selection)) {\n                if (viewer.documentHelper.selection.selectedWidgets.containsKey(this)) {\n                    viewer.documentHelper.selection.selectedWidgets.remove(this);\n                }\n            }\n        }\n        this.destroy();\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.clone = function () {\n        var cell = new TableCellWidget();\n        cell.cellFormat.copyFormat(this.cellFormat);\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var block = this.childWidgets[i].clone();\n            cell.childWidgets.push(block);\n            block.containerWidget = cell;\n            block.index = i;\n        }\n        cell.leftBorderWidth = this.leftBorderWidth;\n        cell.rightBorderWidth = this.rightBorderWidth;\n        cell.isRenderBookmarkEnd = this.isRenderBookmarkEnd;\n        cell.isRenderBookmarkStart = this.isRenderBookmarkStart;\n        if (this.margin) {\n            cell.margin = this.margin.clone();\n        }\n        cell.columnIndex = this.columnIndex;\n        cell.x = this.x;\n        cell.y = this.y;\n        cell.height = this.height;\n        cell.width = this.width;\n        if (this.contentControlProperties) {\n            cell.contentControlProperties = this.contentControlProperties;\n        }\n        return cell;\n    };\n    /**\n     * @private\n     */\n    TableCellWidget.prototype.destroy = function () {\n        // if (this.cellFormat) {\n        //     this.cellFormat.destroy();\n        // }\n        this.cellFormat = undefined;\n        this.rowIndex = undefined;\n        this.columnIndex = undefined;\n        this.isSplittedCell = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    TableCellWidget.prototype.componentDestroy = function () {\n        if (this.cellFormat) {\n            this.cellFormat.destroy();\n        }\n        this.cellFormat = undefined;\n        this.contentControlProperties = undefined;\n        this.rowIndex = undefined;\n        this.columnIndex = undefined;\n        this.isRenderBookmarkStart = undefined;\n        this.isRenderBookmarkEnd = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return TableCellWidget;\n}(BlockWidget));\nexport { TableCellWidget };\n/**\n * @private\n */\nvar LineWidget = /** @class */ (function () {\n    /**\n     * Initialize the constructor of LineWidget\n     */\n    function LineWidget(paragraphWidget) {\n        /**\n         * @private\n         */\n        this.children = [];\n        /**\n         * @private\n         */\n        this.x = 0;\n        /**\n         * @private\n         */\n        this.y = 0;\n        /**\n         * @private\n         */\n        this.width = 0;\n        /**\n         * @private\n         */\n        this.height = 0;\n        /**\n         * @private\n         */\n        this.marginTop = 0;\n        /**\n         * @private\n         */\n        this.maxBaseLine = 0;\n        /**\n        * @private\n        */\n        this.skipClipImage = false;\n        this.paragraph = paragraphWidget;\n    }\n    Object.defineProperty(LineWidget.prototype, \"renderedElements\", {\n        /**\n         * Rendered elements contains reordered element for RTL layout\n         */\n        get: function () {\n            if (!isNullOrUndefined(this.layoutedElements)) {\n                return this.layoutedElements;\n            }\n            return this.children;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineWidget.prototype, \"indexInOwner\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.paragraph && this.paragraph.childWidgets) {\n                return this.paragraph.childWidgets.indexOf(this);\n            }\n            return -1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineWidget.prototype, \"nextLine\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var paragraph = this.paragraph;\n            var lineIndex = this.indexInOwner;\n            if (lineIndex <= paragraph.childWidgets.length - 2) {\n                return paragraph.childWidgets[lineIndex + 1];\n            }\n            else if (paragraph.nextSplitWidget) {\n                var line = paragraph.nextSplitWidget.firstChild;\n                if (line instanceof LineWidget && line.paragraph.equals(this.paragraph)) {\n                    return line;\n                }\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineWidget.prototype, \"previousLine\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var paragraph = this.paragraph;\n            var lineIndex = this.indexInOwner;\n            var splitParagraph = paragraph.previousSplitWidget;\n            if (lineIndex > 0) {\n                return paragraph.childWidgets[lineIndex - 1];\n            }\n            else if (splitParagraph instanceof ParagraphWidget) {\n                var line = splitParagraph.lastChild;\n                if (line instanceof LineWidget && line.paragraph.equals(this.paragraph)) {\n                    return line;\n                }\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineWidget.prototype, \"isEndsWithPageBreak\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.children.length > 0) {\n                var lastElement = this.children[this.children.length - 1];\n                if (lastElement instanceof TextElementBox) {\n                    return lastElement.isPageBreak;\n                }\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineWidget.prototype, \"isEndsWithColumnBreak\", {\n        get: function () {\n            if (this.children.length > 0) {\n                var lastElement = this.children[this.children.length - 1];\n                if (lastElement instanceof TextElementBox) {\n                    return lastElement.isColumnBreak;\n                }\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineWidget.prototype, \"isEndsWithLineBreak\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.children.length > 0) {\n                var lastElement = this.children[this.children.length - 1];\n                if (lastElement instanceof TextElementBox) {\n                    return lastElement.text === '\\v';\n                }\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    LineWidget.prototype.isFirstLine = function () {\n        var index = this.indexInOwner;\n        if (index > -1 && (this.paragraph.previousSplitWidget === undefined || (this.paragraph.previousSplitWidget instanceof ParagraphWidget && (this.paragraph.previousSplitWidget.isEndsWithColumnBreak || this.paragraph.previousSplitWidget.isEndsWithPageBreak)))) {\n            return index === 0;\n        }\n        return false;\n    };\n    /**\n     * @private\n     */\n    LineWidget.prototype.isLastLine = function () {\n        var index = this.indexInOwner;\n        if (index > -1 && this.paragraph.nextSplitWidget === undefined) {\n            return index === this.paragraph.childWidgets.length - 1;\n        }\n        return false;\n    };\n    /**\n     * @private\n     */\n    LineWidget.prototype.getOffset = function (inline, index) {\n        if (isNullOrUndefined(inline)) {\n            return index;\n        }\n        var textIndex = index;\n        var line = inline.line;\n        for (var i = 0; i < line.children.length; i++) {\n            var inlineElement = line.children[i];\n            if (inline === inlineElement) {\n                break;\n            }\n            if (inlineElement instanceof ListTextElementBox) {\n                continue;\n            }\n            textIndex += inlineElement.length;\n        }\n        return textIndex;\n    };\n    /**\n     * @private\n     */\n    LineWidget.prototype.getEndOffset = function () {\n        var startOffset = 0;\n        var count = 0;\n        for (var i = 0; i < this.children.length; i++) {\n            var inlineElement = this.children[i];\n            if (inlineElement.length === 0) {\n                continue;\n            }\n            if (inlineElement instanceof ListTextElementBox) {\n                continue;\n            }\n            if (inlineElement instanceof TextElementBox || inlineElement instanceof CommentCharacterElementBox\n                || inlineElement instanceof EditRangeStartElementBox || inlineElement instanceof ImageElementBox\n                || inlineElement instanceof EditRangeEndElementBox || inlineElement instanceof BookmarkElementBox\n                || inlineElement instanceof ContentControl || (inlineElement instanceof FieldElementBox\n                && HelperMethods.isLinkedFieldCharacter(inlineElement))) {\n                startOffset = count + inlineElement.length;\n            }\n            count += inlineElement.length;\n        }\n        return startOffset;\n    };\n    /**\n     * @private\n     */\n    LineWidget.prototype.getInline = function (offset, indexInInline, bidi, isInsert, isSpellCheck) {\n        bidi = isNullOrUndefined(bidi) ? this.paragraph.bidi : bidi;\n        var inlineElement = undefined;\n        var count = 0;\n        var isStarted = false;\n        if (this.children.length === 0) {\n            if (this.previousLine) {\n                var elementBox = this.previousLine.children[this.previousLine.children.length - 1];\n                if (elementBox instanceof TextElementBox && elementBox.text === '\\v') {\n                    inlineElement = this.previousLine.children[this.previousLine.children.length - 1];\n                    indexInInline = 1;\n                    return { 'element': inlineElement, 'index': indexInInline };\n                }\n            }\n        }\n        for (var i = 0; i < this.children.length; i++) {\n            inlineElement = this.children[i];\n            if (inlineElement instanceof ListTextElementBox) {\n                continue;\n            }\n            if (!isStarted && (inlineElement instanceof TextElementBox || inlineElement instanceof ImageElementBox\n                || inlineElement instanceof ShapeElementBox || inlineElement instanceof ContentControl\n                || inlineElement instanceof BookmarkElementBox || inlineElement instanceof EditRangeEndElementBox\n                || inlineElement instanceof EditRangeStartElementBox || inlineElement instanceof CommentCharacterElementBox\n                || inlineElement instanceof FieldElementBox\n                    && HelperMethods.isLinkedFieldCharacter(inlineElement))) {\n                isStarted = true;\n            }\n            if (isStarted && offset <= count + inlineElement.length) {\n                if (inlineElement instanceof TextElementBox && (inlineElement.text === ' ' && inlineElement.revisions.length === 0 && isInsert && !isSpellCheck)) {\n                    var currentElement = this.getNextTextElement(this, i + 1);\n                    inlineElement = !isNullOrUndefined(currentElement) ? currentElement : inlineElement;\n                    indexInInline = isNullOrUndefined(currentElement) ? (offset - count) : 0;\n                    return { 'element': inlineElement, 'index': indexInInline };\n                }\n                else if (offset === count + inlineElement.length && this.children[i + 1] instanceof FootnoteElementBox) {\n                    return { 'element': this.children[i + 1], 'index': indexInInline };\n                }\n                else {\n                    indexInInline = (offset - count);\n                }\n                return { 'element': inlineElement, 'index': indexInInline };\n            }\n            count += inlineElement.length;\n        }\n        if (offset > count) {\n            indexInInline = isNullOrUndefined(inlineElement) ? offset : inlineElement.length;\n        }\n        return { 'element': inlineElement, 'index': indexInInline };\n    };\n    /**\n     * Method to retrieve next element\n     * @param line\n     * @param index\n     */\n    LineWidget.prototype.getNextTextElement = function (line, index) {\n        if (index < line.children.length - 1 && line.children[index]) {\n            return line.children[index];\n        }\n        return null;\n    };\n    /**\n     * @private\n     */\n    LineWidget.prototype.getHierarchicalIndex = function (hierarchicalIndex) {\n        var node = this;\n        hierarchicalIndex = node.paragraph.childWidgets.indexOf(node) + ';' + hierarchicalIndex;\n        if (node.paragraph instanceof BlockWidget) {\n            return node.paragraph.getHierarchicalIndex(hierarchicalIndex);\n        }\n        return hierarchicalIndex;\n    };\n    /**\n     * @private\n     */\n    LineWidget.prototype.clone = function () {\n        var line = new LineWidget(undefined);\n        for (var j = 0; j < this.children.length; j++) {\n            var element = this.children[j];\n            var clone = element.clone();\n            line.children.push(clone);\n            clone.line = line;\n        }\n        line.width = this.width;\n        line.height = this.height;\n        if (!isNullOrUndefined(this.margin)) {\n            line.margin = this.margin.clone();\n        }\n        return line;\n    };\n    /**\n     * @private\n     */\n    LineWidget.prototype.destroy = function () {\n        if (!isNullOrUndefined(this.children)) {\n            for (var i = 0; i < this.children.length; i++) {\n                this.children[i].destroy();\n            }\n            this.children = [];\n        }\n        this.children = undefined;\n        if (this.paragraph) {\n            this.paragraph.removeChild(this.indexInOwner);\n        }\n        this.paragraph = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.width = undefined;\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    LineWidget.prototype.componentDestroy = function () {\n        if (!isNullOrUndefined(this.children)) {\n            for (var i = 0; i < this.children.length; i++) {\n                var elementBox = this.children[i];\n                elementBox.componentDestroy();\n            }\n            this.children = [];\n        }\n        this.children = undefined;\n        this.paragraph = undefined;\n        this.layoutedElements = [];\n        this.layoutedElements = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.width = undefined;\n        this.height = undefined;\n    };\n    return LineWidget;\n}());\nexport { LineWidget };\n/**\n * @private\n */\nvar ElementBox = /** @class */ (function () {\n    /**\n     * Initialize the constructor of ElementBox\n     */\n    function ElementBox() {\n        /**\n         * @private\n         */\n        this.x = 0;\n        /**\n         * @private\n         */\n        this.y = 0;\n        /**\n         * @private\n         */\n        this.width = 0;\n        /**\n         * @private\n         */\n        this.height = 0;\n        /**\n         * @private\n         */\n        this.margin = new Margin(0, 0, 0, 0);\n        /**\n         * @private\n         */\n        this.padding = new Margin(0, 0, 0, 0);\n        /**\n         * @private\n         */\n        this.characterFormat = undefined;\n        /**\n         * @private\n         */\n        this.isRightToLeft = false;\n        /**\n         * @private\n         */\n        this.canTrigger = false;\n        /**\n         * @private\n         */\n        this.ischangeDetected = false;\n        /**\n         * @private\n         */\n        this.isVisible = false;\n        /**\n         * @private\n         */\n        this.isSpellChecked = false;\n        /**\n         * @private\n         */\n        this.revisions = [];\n        /**\n         * @private\n         */\n        this.canTrack = false;\n        /**\n         * @private\n         */\n        this.removedIds = [];\n        /**\n         * @private\n         */\n        this.isMarkedForRevision = false;\n        /**\n         * @private\n         */\n        this.skipformFieldLength = false;\n        /**\n         * @private\n         */\n        this.characterRange = undefined;\n        this.characterFormat = new WCharacterFormat(this);\n        this.margin = new Margin(0, 0, 0, 0);\n    }\n    Object.defineProperty(ElementBox.prototype, \"isPageBreak\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this instanceof TextElementBox) {\n                return this.text === '\\f';\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"isColumnBreak\", {\n        get: function () {\n            if (this instanceof TextElementBox) {\n                return this.text === String.fromCharCode(14);\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"isValidNodeForTracking\", {\n        /**\n         * @private\n         * Method to indicate whether current element is trackable.\n         */\n        get: function () {\n            if (this instanceof BookmarkElementBox || this instanceof CommentCharacterElementBox || this instanceof EditRangeStartElementBox || this instanceof EditRangeEndElementBox || this instanceof ContentControl) {\n                return false;\n            }\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"isCheckBoxElement\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var element = this;\n            if (element instanceof TextElementBox && !isNullOrUndefined(element.text)) {\n                return element.text === String.fromCharCode(9745) || element.text === String.fromCharCode(9744);\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ElementBox.prototype.linkFieldCharacter = function (documentHelper) {\n        if (!(this instanceof FieldElementBox)) {\n            return;\n        }\n        if (this.fieldType === 0) {\n            var fieldBegin = this;\n            if (isNullOrUndefined(fieldBegin.fieldEnd)) {\n                this.linkFieldTraversingForward(this.line, fieldBegin, fieldBegin);\n                if (documentHelper.fields.indexOf(fieldBegin) === -1) {\n                    documentHelper.fields.push(fieldBegin);\n                }\n                if (!isNullOrUndefined(fieldBegin.formFieldData) &&\n                    documentHelper.formFields.indexOf(fieldBegin) === -1 && !documentHelper.layout.isInsertFormField) {\n                    documentHelper.formFields.push(fieldBegin);\n                }\n            }\n        }\n        else if (this.fieldType === 2) {\n            var fieldSeparator = this;\n            //Links the field begin for the current separator.\n            if (isNullOrUndefined(fieldSeparator.fieldBegin)) {\n                this.linkFieldTraversingBackwardSeparator(this.line, fieldSeparator, fieldSeparator);\n            }\n            if (!isNullOrUndefined(fieldSeparator.fieldBegin)) {\n                fieldSeparator.fieldBegin.fieldSeparator = fieldSeparator;\n                //Links to field end traversing from field separator.\n                if (isNullOrUndefined(fieldSeparator.fieldEnd)) {\n                    var isFieldEnd = this.linkFieldTraversingForward(this.line, fieldSeparator.fieldBegin, fieldSeparator);\n                    if (isFieldEnd) {\n                        fieldSeparator.fieldEnd = fieldSeparator.fieldBegin.fieldEnd;\n                    }\n                }\n                if (fieldSeparator.fieldEnd) {\n                    fieldSeparator.fieldEnd.fieldSeparator = fieldSeparator;\n                }\n            }\n        }\n        else {\n            var fieldEnd = this;\n            //Links the field begin and separator for the current end.\n            if (isNullOrUndefined(fieldEnd.fieldBegin)) {\n                this.linkFieldTraversingBackward(this.line, fieldEnd, fieldEnd);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    ElementBox.prototype.linkFieldTraversingBackward = function (line, fieldEnd, previousNode) {\n        var k = line.children.length - 1;\n        if (line.children.indexOf(previousNode) > -1) {\n            k = line.children.indexOf(previousNode) - 1;\n        }\n        for (var j = k; j >= 0; j--) {\n            var childNode = line.children[j];\n            if (childNode instanceof FieldElementBox) {\n                if (childNode.fieldType === 0) {\n                    if (isNullOrUndefined(childNode.fieldEnd)) {\n                        fieldEnd.fieldBegin = childNode;\n                        if (isNullOrUndefined(childNode.fieldEnd)) {\n                            childNode.fieldEnd = fieldEnd;\n                        }\n                        if (fieldEnd.fieldSeparator && isNullOrUndefined(fieldEnd.fieldSeparator.fieldBegin)) {\n                            fieldEnd.fieldSeparator.fieldBegin = childNode;\n                            if (isNullOrUndefined(childNode.fieldSeparator)) {\n                                childNode.fieldSeparator = fieldEnd.fieldSeparator;\n                            }\n                        }\n                        return !isNullOrUndefined(fieldEnd.fieldBegin);\n                    }\n                }\n                else if (childNode.fieldType === 2 && isNullOrUndefined(childNode.fieldEnd)) {\n                    fieldEnd.fieldSeparator = childNode;\n                    childNode.fieldEnd = fieldEnd;\n                    if (!isNullOrUndefined(childNode.fieldBegin)) {\n                        fieldEnd.fieldBegin = childNode.fieldBegin;\n                    }\n                }\n            }\n        }\n        if (line.previousLine) {\n            this.linkFieldTraversingBackward(line.previousLine, fieldEnd, this);\n        }\n        else if (line.paragraph.previousRenderedWidget instanceof ParagraphWidget\n            && line.paragraph.previousRenderedWidget.childWidgets.length > 0) {\n            var prevParagraph = line.paragraph.previousRenderedWidget;\n            this.linkFieldTraversingBackward(prevParagraph.childWidgets[prevParagraph.childWidgets.length - 1], fieldEnd, this);\n        }\n        return true;\n    };\n    /**\n     * @private\n     */\n    ElementBox.prototype.linkFieldTraversingForward = function (line, fieldBegin, previousNode) {\n        var i = 0;\n        if (line.children.indexOf(previousNode) > -1) {\n            i = line.children.indexOf(previousNode) + 1;\n        }\n        for (var j = i; j < line.children.length; j++) {\n            var node = line.children[j];\n            if (node instanceof FieldElementBox) {\n                if (node.fieldType === 1) {\n                    if (isNullOrUndefined(node.fieldBegin)) {\n                        fieldBegin.fieldEnd = node;\n                    }\n                    if (fieldBegin.fieldEnd && isNullOrUndefined(fieldBegin.fieldEnd.fieldBegin)) {\n                        fieldBegin.fieldEnd.fieldBegin = fieldBegin;\n                    }\n                    return true;\n                }\n                else if (isNullOrUndefined(fieldBegin.fieldSeparator)) {\n                    if (node.fieldType === 2 && isNullOrUndefined(node.fieldBegin)) {\n                        fieldBegin.fieldSeparator = node;\n                        if (fieldBegin.fieldSeparator && isNullOrUndefined(fieldBegin.fieldSeparator.fieldBegin)) {\n                            fieldBegin.fieldSeparator.fieldBegin = fieldBegin;\n                        }\n                        if (!isNullOrUndefined(node.fieldEnd)) {\n                            fieldBegin.fieldEnd = node.fieldEnd;\n                            fieldBegin.fieldSeparator.fieldEnd = fieldBegin.fieldEnd;\n                            return true;\n                        }\n                    }\n                    else {\n                        return false;\n                    }\n                }\n            }\n        }\n        if (line.nextLine) {\n            this.linkFieldTraversingForward(line.nextLine, fieldBegin, this);\n        }\n        else if (line.paragraph.nextRenderedWidget instanceof ParagraphWidget\n            && line.paragraph.nextRenderedWidget.childWidgets.length > 0) {\n            this.linkFieldTraversingForward(line.paragraph.nextRenderedWidget.childWidgets[0], fieldBegin, this);\n        }\n        else if (line.paragraph.nextRenderedWidget instanceof TableWidget) {\n            var tableWidget = line.paragraph.nextRenderedWidget;\n            tableWidget = tableWidget.getSplitWidgets().pop();\n            if (!isNullOrUndefined(tableWidget.nextRenderedWidget) && tableWidget.nextRenderedWidget instanceof ParagraphWidget && tableWidget.nextRenderedWidget.childWidgets.length > 0) {\n                this.linkFieldTraversingForward(tableWidget.nextRenderedWidget.childWidgets[0], fieldBegin, this);\n            }\n        }\n        return true;\n    };\n    /**\n     * @private\n     */\n    ElementBox.prototype.linkFieldTraversingBackwardSeparator = function (line, fieldSeparator, previousNode) {\n        var index = line.children.length - 1;\n        if (line.children.indexOf(previousNode) > -1) {\n            index = line.children.indexOf(previousNode) - 1;\n        }\n        for (var i = index; i >= 0; i--) {\n            var childElement = line.children[i];\n            if (childElement instanceof FieldElementBox) {\n                if (childElement instanceof FieldElementBox && childElement.fieldType === 0) {\n                    if (isNullOrUndefined(childElement.fieldSeparator)) {\n                        fieldSeparator.fieldBegin = childElement;\n                    }\n                    return !isNullOrUndefined(fieldSeparator.fieldBegin);\n                }\n            }\n        }\n        if (line.previousLine) {\n            this.linkFieldTraversingBackwardSeparator(line.previousLine, fieldSeparator, this);\n        }\n        else if (line.paragraph.previousRenderedWidget instanceof ParagraphWidget\n            && line.paragraph.previousRenderedWidget.childWidgets.length > 0) {\n            line = line.paragraph.previousRenderedWidget.childWidgets[line.paragraph.previousRenderedWidget.childWidgets.length - 1];\n            this.linkFieldTraversingBackwardSeparator(line, fieldSeparator, this);\n        }\n        else {\n            return true;\n        }\n        return true;\n    };\n    Object.defineProperty(ElementBox.prototype, \"length\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.getLength();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"indexInOwner\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.line instanceof LineWidget && this.line.children ? this.line.children.indexOf(this) : -1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"previousElement\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var index = this.indexInOwner;\n            if (index > 0 && index < this.line.children.length) {\n                return this.line.children[index - 1];\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"nextElement\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var index = this.indexInOwner;\n            if (index > -1 && index < this.line.children.length - 1) {\n                return this.line.children[index + 1];\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"nextNode\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var index = this.line.children.indexOf(this);\n            var lineIndex = this.line.paragraph.childWidgets.indexOf(this.line);\n            if (index < this.line.children.length - 1) {\n                return this.line.children[index + 1];\n            }\n            else if (lineIndex < this.line.paragraph.childWidgets.length - 1) {\n                return this.line.paragraph.childWidgets[lineIndex + 1].children[0];\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"nextValidNodeForTracking\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var elementBox = this;\n            while (!isNullOrUndefined(elementBox) && (elementBox instanceof BookmarkElementBox || elementBox instanceof CommentCharacterElementBox || elementBox instanceof EditRangeStartElementBox || elementBox instanceof EditRangeEndElementBox || elementBox instanceof ContentControl)) {\n                elementBox = elementBox.nextNode;\n            }\n            return elementBox;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"previousValidNodeForTracking\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var elementBox = this;\n            while (!isNullOrUndefined(elementBox) && (elementBox instanceof BookmarkElementBox || elementBox instanceof CommentCharacterElementBox || elementBox instanceof EditRangeStartElementBox || elementBox instanceof EditRangeEndElementBox || elementBox instanceof ContentControl)) {\n                elementBox = elementBox.previousNode;\n            }\n            return elementBox;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"previousNode\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var index = this.line.children.indexOf(this);\n            var lineIndex = this.line.paragraph.childWidgets.indexOf(this.line);\n            if (index > 0) {\n                return this.line.children[index - 1];\n            }\n            else if (lineIndex > 0) {\n                var lineWidget = this.line.paragraph.childWidgets[lineIndex - 1];\n                return lineWidget.children[lineWidget.children.length - 1];\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ElementBox.prototype, \"paragraph\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.line) {\n                return this.line.paragraph;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ElementBox.prototype.destroy = function () {\n        if (!isNullOrUndefined(this.line) && this.line.children && this.line.children.indexOf(this) > -1) {\n            var index = this.line.children.indexOf(this);\n            this.line.children.splice(index, 1);\n        }\n        this.line = undefined;\n        if (this.characterFormat) {\n            this.characterFormat.destroy();\n        }\n        this.characterFormat = undefined;\n        if (this.margin) {\n            this.margin.destroy();\n        }\n        this.margin = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.width = undefined;\n        this.height = undefined;\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    ElementBox.prototype.componentDestroy = function () {\n        if (this.characterFormat) {\n            this.characterFormat.destroy();\n        }\n        this.characterFormat = undefined;\n        if (this.margin) {\n            this.margin.destroy();\n        }\n        this.margin = undefined;\n        if (this.padding) {\n            this.padding.destroy();\n        }\n        this.padding = undefined;\n        this.contentControlProperties = undefined;\n        this.line = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.width = undefined;\n        this.height = undefined;\n    };\n    /**\n     * @private\n     */\n    ElementBox.objectCharacter = String.fromCharCode(65532);\n    return ElementBox;\n}());\nexport { ElementBox };\n/**\n * @private\n */\nvar FieldElementBox = /** @class */ (function (_super) {\n    __extends(FieldElementBox, _super);\n    function FieldElementBox(type) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.fieldType = 0;\n        /**\n         * @private\n         */\n        _this.fieldCodeType = '';\n        /**\n         * @private\n         */\n        _this.hasFieldEnd = false;\n        /**\n        * @private\n        */\n        _this.fieldBeginInternal = undefined;\n        _this.fieldSeparatorInternal = undefined;\n        _this.fieldEndInternal = undefined;\n        _this.fieldType = type;\n        return _this;\n    }\n    Object.defineProperty(FieldElementBox.prototype, \"fieldBegin\", {\n        get: function () {\n            return this.fieldBeginInternal;\n        },\n        set: function (field) {\n            this.fieldBeginInternal = field;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FieldElementBox.prototype, \"fieldSeparator\", {\n        get: function () {\n            return this.fieldSeparatorInternal;\n        },\n        set: function (field) {\n            this.fieldSeparatorInternal = field;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FieldElementBox.prototype, \"fieldEnd\", {\n        get: function () {\n            return this.fieldEndInternal;\n        },\n        set: function (field) {\n            this.fieldEndInternal = field;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FieldElementBox.prototype, \"resultText\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (!isNullOrUndefined(this.formFieldData) && this.fieldType === 0 &&\n                !isNullOrUndefined(this.fieldSeparator) && !isNullOrUndefined(this.fieldEnd)) {\n                var textElement = this.fieldSeparator.nextElement;\n                var text = '';\n                do {\n                    if (textElement instanceof TextElementBox) {\n                        text += textElement.text;\n                    }\n                    textElement = textElement.nextNode;\n                    if (textElement === this.fieldEnd) {\n                        break;\n                    }\n                } while (textElement);\n                return text;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    FieldElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    /**\n     * @private\n     */\n    FieldElementBox.prototype.clone = function () {\n        var field = new FieldElementBox(this.fieldType);\n        if (this.fieldType === 0 && !isNullOrUndefined(this.formFieldData)) {\n            field.formFieldData = this.formFieldData.clone();\n        }\n        field.characterFormat.copyFormat(this.characterFormat);\n        if (this.margin) {\n            field.margin = this.margin.clone();\n        }\n        field.width = this.width;\n        field.height = this.height;\n        if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n            if (this.revisions.length > 0) {\n                for (var i = 0; i < this.revisions.length; i++) {\n                    var revision = this.revisions[i];\n                    field.revisions.push(revision.clone());\n                }\n            }\n        }\n        else {\n            if (this.revisions.length > 0) {\n                field.removedIds = Revision.cloneRevisions(this.revisions);\n            }\n            else {\n                field.removedIds = this.removedIds.slice();\n            }\n        }\n        field.fieldCodeType = this.fieldCodeType;\n        return field;\n    };\n    /**\n     * @private\n     */\n    FieldElementBox.prototype.destroy = function () {\n        this.fieldType = undefined;\n        this.hasFieldEnd = undefined;\n        this.fieldBeginInternal = undefined;\n        this.fieldEndInternal = undefined;\n        this.fieldSeparatorInternal = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    FieldElementBox.prototype.componentDestroy = function () {\n        if (this.formFieldData) {\n            this.formFieldData.destroy();\n        }\n        this.formFieldData = undefined;\n        this.fieldCodeType = undefined;\n        this.fieldBeginInternal = undefined;\n        this.fieldEndInternal = undefined;\n        this.fieldSeparatorInternal = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return FieldElementBox;\n}(ElementBox));\nexport { FieldElementBox };\n/**\n * @private\n */\nvar FormField = /** @class */ (function () {\n    function FormField() {\n        /*\n         * @private\n         */\n        this.name = '';\n        /**\n         * @private\n         */\n        this.enabled = true;\n        /**\n         * @private\n         */\n        this.helpText = '';\n        /**\n         * @private\n         */\n        this.statusText = '';\n    }\n    /**\n     * @private\n     */\n    FormField.prototype.destroy = function () {\n        this.name = undefined;\n        this.helpText = undefined;\n        this.statusText = undefined;\n    };\n    return FormField;\n}());\nexport { FormField };\n/**\n * @private\n */\nvar TextFormField = /** @class */ (function (_super) {\n    __extends(TextFormField, _super);\n    function TextFormField() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.type = 'Text';\n        /**\n         * @private\n         */\n        _this.maxLength = 0;\n        /**\n         * @private\n         */\n        _this.defaultValue = '';\n        /**\n         * @private\n         */\n        _this.format = '';\n        return _this;\n    }\n    /**\n     * @private\n     */\n    TextFormField.prototype.clone = function () {\n        var textForm = new TextFormField();\n        textForm.type = this.type;\n        textForm.name = this.name;\n        textForm.enabled = this.enabled;\n        textForm.helpText = this.helpText;\n        textForm.statusText = this.statusText;\n        textForm.maxLength = this.maxLength;\n        textForm.defaultValue = this.defaultValue;\n        textForm.format = this.format;\n        return textForm;\n    };\n    /**\n     * @private\n     */\n    TextFormField.prototype.getFormFieldInfo = function () {\n        var textFormField = {\n            defaultValue: this.defaultValue,\n            enabled: this.enabled,\n            format: this.format,\n            helpText: this.helpText,\n            maxLength: this.maxLength,\n            type: this.type,\n            name: this.name\n        };\n        return textFormField;\n    };\n    /**\n     * @private\n     */\n    TextFormField.prototype.copyFieldInfo = function (info) {\n        if (!isNullOrUndefined(info.defaultValue)) {\n            this.defaultValue = info.defaultValue;\n        }\n        if (!isNullOrUndefined(info.enabled)) {\n            this.enabled = info.enabled;\n        }\n        if (!isNullOrUndefined(info.format)) {\n            this.format = info.format;\n        }\n        if (!isNullOrUndefined(info.helpText)) {\n            this.helpText = info.helpText;\n        }\n        if (!isNullOrUndefined(info.maxLength)) {\n            this.maxLength = info.maxLength;\n        }\n        if (!isNullOrUndefined(info.type)) {\n            this.type = info.type;\n        }\n    };\n    /**\n     * @private\n     */\n    TextFormField.prototype.destroy = function () {\n        this.format = undefined;\n        this.defaultValue = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    return TextFormField;\n}(FormField));\nexport { TextFormField };\n/**\n * @private\n */\nvar CheckBoxFormField = /** @class */ (function (_super) {\n    __extends(CheckBoxFormField, _super);\n    function CheckBoxFormField() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.sizeType = 'Auto';\n        /**\n         * @private\n         */\n        _this.size = 11;\n        /**\n         * @private\n         */\n        _this.defaultValue = false;\n        /**\n         * @private\n         */\n        _this.checked = false;\n        return _this;\n    }\n    /**\n     * @private\n     */\n    CheckBoxFormField.prototype.clone = function () {\n        var checkBoxForm = new CheckBoxFormField();\n        checkBoxForm.name = this.name;\n        checkBoxForm.enabled = this.enabled;\n        checkBoxForm.helpText = this.helpText;\n        checkBoxForm.statusText = this.statusText;\n        checkBoxForm.sizeType = this.sizeType;\n        checkBoxForm.size = this.size;\n        checkBoxForm.defaultValue = this.defaultValue;\n        checkBoxForm.checked = this.checked;\n        return checkBoxForm;\n    };\n    /**\n     * @private\n     */\n    CheckBoxFormField.prototype.getFormFieldInfo = function () {\n        var checkBoxFormField = {\n            defaultValue: this.defaultValue,\n            enabled: this.enabled,\n            helpText: this.helpText,\n            size: this.size,\n            sizeType: this.sizeType,\n            name: this.name\n        };\n        return checkBoxFormField;\n    };\n    /**\n     * @private\n     */\n    CheckBoxFormField.prototype.copyFieldInfo = function (info) {\n        if (!isNullOrUndefined(info.defaultValue)) {\n            this.defaultValue = info.defaultValue;\n            this.checked = info.defaultValue;\n        }\n        if (!isNullOrUndefined(info.enabled)) {\n            this.enabled = info.enabled;\n        }\n        if (!isNullOrUndefined(info.size)) {\n            this.size = info.size;\n        }\n        if (!isNullOrUndefined(info.helpText)) {\n            this.helpText = info.helpText;\n        }\n        if (!isNullOrUndefined(info.sizeType)) {\n            this.sizeType = info.sizeType;\n        }\n    };\n    /**\n     * @private\n     */\n    CheckBoxFormField.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return CheckBoxFormField;\n}(FormField));\nexport { CheckBoxFormField };\n/**\n * @private\n */\nvar DropDownFormField = /** @class */ (function (_super) {\n    __extends(DropDownFormField, _super);\n    function DropDownFormField() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.dropdownItems = [];\n        /**\n         * @private\n         */\n        _this.selectedIndex = 0;\n        return _this;\n    }\n    /**\n     * @private\n     */\n    DropDownFormField.prototype.clone = function () {\n        var dropDown = new DropDownFormField();\n        dropDown.name = this.name;\n        dropDown.enabled = this.enabled;\n        dropDown.helpText = this.helpText;\n        dropDown.statusText = this.statusText;\n        dropDown.dropdownItems = this.dropdownItems.slice();\n        dropDown.selectedIndex = this.selectedIndex;\n        return dropDown;\n    };\n    /**\n     * @private\n     */\n    DropDownFormField.prototype.getFormFieldInfo = function () {\n        var dropDownFormField = {\n            dropdownItems: this.dropdownItems.slice(),\n            enabled: this.enabled,\n            helpText: this.helpText,\n            name: this.name\n        };\n        return dropDownFormField;\n    };\n    /**\n     * @private\n     */\n    DropDownFormField.prototype.copyFieldInfo = function (info) {\n        if (!isNullOrUndefined(info.dropdownItems)) {\n            this.dropdownItems = info.dropdownItems;\n        }\n        if (!isNullOrUndefined(info.enabled)) {\n            this.enabled = info.enabled;\n        }\n        if (!isNullOrUndefined(info.helpText)) {\n            this.helpText = info.helpText;\n        }\n    };\n    /**\n     * @private\n     */\n    DropDownFormField.prototype.destroy = function () {\n        this.dropdownItems = [];\n        this.dropdownItems = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    return DropDownFormField;\n}(FormField));\nexport { DropDownFormField };\n/**\n * @private\n */\nvar TextElementBox = /** @class */ (function (_super) {\n    __extends(TextElementBox, _super);\n    function TextElementBox() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.baselineOffset = 0;\n        /**\n         * @private\n         */\n        _this.text = '';\n        /**\n         * @private\n         */\n        _this.trimEndWidth = 0;\n        /**\n         * @private\n         */\n        _this.ignoreOnceItems = [];\n        /**\n         * @private\n         */\n        _this.istextCombined = false;\n        /**\n         * @private\n         */\n        _this.scriptType = FontScriptType.English;\n        /**\n         * @private\n         */\n        _this.renderedFontFamily = undefined;\n        _this.errorCollection = [];\n        return _this;\n    }\n    /**\n     * @private\n     */\n    TextElementBox.prototype.getLength = function () {\n        return this.text ? this.text.length : 0;\n    };\n    /**\n     * @private\n     */\n    TextElementBox.prototype.clone = function () {\n        var textEle = new TextElementBox();\n        textEle.characterFormat.copyFormat(this.characterFormat);\n        textEle.text = this.text;\n        if (this.margin) {\n            textEle.margin = this.margin.clone();\n        }\n        textEle.baselineOffset = this.baselineOffset;\n        if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n            if (this.revisions.length > 0) {\n                for (var i = 0; i < this.revisions.length; i++) {\n                    var revision = this.revisions[i];\n                    textEle.revisions.push(revision.clone());\n                }\n            }\n        }\n        else {\n            if (this.revisions.length > 0) {\n                textEle.removedIds = Revision.cloneRevisions(this.revisions);\n            }\n            else {\n                textEle.removedIds = this.removedIds.slice();\n            }\n        }\n        textEle.width = this.width;\n        textEle.height = this.height;\n        if (this.contentControlProperties) {\n            textEle.contentControlProperties = this.contentControlProperties;\n        }\n        return textEle;\n    };\n    /**\n     * @private\n     */\n    TextElementBox.prototype.destroy = function () {\n        this.text = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * @private\n     */\n    TextElementBox.prototype.componentDestroy = function () {\n        this.text = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return TextElementBox;\n}(ElementBox));\nexport { TextElementBox };\n/**\n * @private\n */\nvar Footnote = /** @class */ (function () {\n    function Footnote() {\n        this.separator = [];\n        this.continuationNotice = [];\n        this.continuationSeparator = [];\n    }\n    /**\n     * @private\n     */\n    Footnote.prototype.clear = function () {\n        if (this.separator) {\n            for (var i = 0; i < this.separator.length; i++) {\n                var bodyWidget = this.separator[i];\n                bodyWidget.destroy();\n            }\n            this.separator = [];\n        }\n        if (this.continuationSeparator) {\n            for (var i = 0; i < this.continuationSeparator.length; i++) {\n                var bodyWidget = this.continuationSeparator[i];\n                bodyWidget.destroy();\n            }\n            this.continuationSeparator = [];\n        }\n        if (this.continuationNotice) {\n            for (var i = 0; i < this.continuationNotice.length; i++) {\n                var bodyWidget = this.continuationNotice[i];\n                bodyWidget.destroy();\n            }\n            this.continuationNotice = [];\n        }\n    };\n    Footnote.prototype.destroy = function () {\n        this.separator = [];\n        this.continuationSeparator = [];\n        this.continuationNotice = [];\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    Footnote.prototype.componentDestroy = function () {\n        if (this.separator) {\n            for (var i = 0; i < this.separator.length; i++) {\n                var bodyWidget = this.separator[i];\n                bodyWidget.componentDestroy();\n            }\n            this.separator = [];\n        }\n        this.separator = undefined;\n        if (this.continuationSeparator) {\n            for (var i = 0; i < this.continuationSeparator.length; i++) {\n                var bodyWidget = this.continuationSeparator[i];\n                bodyWidget.componentDestroy();\n            }\n            this.continuationSeparator = [];\n        }\n        this.continuationSeparator = undefined;\n        if (this.continuationNotice) {\n            for (var i = 0; i < this.continuationNotice.length; i++) {\n                var bodyWidget = this.continuationNotice[i];\n                bodyWidget.componentDestroy();\n            }\n            this.continuationNotice = [];\n        }\n        this.continuationNotice = undefined;\n    };\n    return Footnote;\n}());\nexport { Footnote };\n/**\n * @private\n */\nvar FootnoteElementBox = /** @class */ (function (_super) {\n    __extends(FootnoteElementBox, _super);\n    function FootnoteElementBox() {\n        var _this = _super.call(this) || this;\n        _this.isLayout = false;\n        _this.bodyWidget = new BodyWidget();\n        _this.bodyWidget.footNoteReference = _this;\n        return _this;\n    }\n    FootnoteElementBox.prototype.clone = function () {\n        var span = new FootnoteElementBox();\n        span.text = this.text;\n        span.characterFormat.copyFormat(this.characterFormat);\n        span.height = this.height;\n        span.footnoteType = this.footnoteType;\n        span.width = this.width;\n        span.symbolCode = this.symbolCode;\n        span.bodyWidget.childWidgets = this.bodyWidget.childWidgets;\n        span.bodyWidget.page = this.bodyWidget.page;\n        if (this.margin) {\n            span.margin = this.margin.clone();\n        }\n        return span;\n    };\n    FootnoteElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    FootnoteElementBox.prototype.destroy = function () {\n        this.symbolCode = '';\n        this.symbolFontName = '';\n        this.customMarker = '';\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    FootnoteElementBox.prototype.componentDestroy = function () {\n        if (this.characterFormat) {\n            this.characterFormat.destroy();\n            this.characterFormat = undefined;\n        }\n        this.symbolCode = '';\n        this.symbolFontName = '';\n        this.customMarker = '';\n        if (this.bodyWidget) {\n            this.bodyWidget.componentDestroy();\n        }\n        this.bodyWidget = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return FootnoteElementBox;\n}(TextElementBox));\nexport { FootnoteElementBox };\n/**\n * @private\n */\nvar ErrorTextElementBox = /** @class */ (function (_super) {\n    __extends(ErrorTextElementBox, _super);\n    function ErrorTextElementBox() {\n        var _this = _super.call(this) || this;\n        _this.startIn = undefined;\n        _this.endIn = undefined;\n        return _this;\n    }\n    Object.defineProperty(ErrorTextElementBox.prototype, \"start\", {\n        get: function () {\n            return this.startIn;\n        },\n        set: function (value) {\n            this.startIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ErrorTextElementBox.prototype, \"end\", {\n        get: function () {\n            return this.endIn;\n        },\n        set: function (value) {\n            this.endIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ErrorTextElementBox.prototype.destroy = function () {\n        this.start = undefined;\n        this.end = undefined;\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    ErrorTextElementBox.prototype.componentDestroy = function () {\n        if (this.startIn) {\n            this.startIn.destroy();\n        }\n        this.startIn = undefined;\n        if (this.endIn) {\n            this.endIn.destroy();\n        }\n        this.endIn = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return ErrorTextElementBox;\n}(TextElementBox));\nexport { ErrorTextElementBox };\n/**\n * @private\n */\nvar FieldTextElementBox = /** @class */ (function (_super) {\n    __extends(FieldTextElementBox, _super);\n    function FieldTextElementBox() {\n        var _this = _super.call(this) || this;\n        _this.fieldText = '';\n        return _this;\n    }\n    Object.defineProperty(FieldTextElementBox.prototype, \"text\", {\n        get: function () {\n            return this.fieldText;\n        },\n        set: function (value) {\n            this.fieldText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    FieldTextElementBox.prototype.clone = function () {\n        var fieldSpan = new FieldTextElementBox();\n        fieldSpan.characterFormat.copyFormat(this.characterFormat);\n        fieldSpan.fieldBegin = this.fieldBegin;\n        fieldSpan.text = this.text;\n        if (this.margin) {\n            fieldSpan.margin = this.margin.clone();\n        }\n        if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n            if (this.revisions.length > 0) {\n                for (var i = 0; i < this.revisions.length; i++) {\n                    var revisionChanges = this.revisions[i];\n                    fieldSpan.revisions.push(revisionChanges.clone());\n                }\n            }\n        }\n        else {\n            if (this.revisions.length > 0) {\n                fieldSpan.removedIds = Revision.cloneRevisions(this.revisions);\n            }\n            else {\n                fieldSpan.removedIds = this.removedIds.slice();\n            }\n        }\n        fieldSpan.width = this.width;\n        fieldSpan.height = this.height;\n        return fieldSpan;\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    FieldTextElementBox.prototype.componentDestroy = function () {\n        this.fieldText = undefined;\n        this.fieldBegin = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return FieldTextElementBox;\n}(TextElementBox));\nexport { FieldTextElementBox };\n/**\n * @private\n */\nvar TabElementBox = /** @class */ (function (_super) {\n    __extends(TabElementBox, _super);\n    function TabElementBox() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.tabText = '';\n        /**\n         * @private\n         */\n        _this.tabLeader = 'None';\n        return _this;\n    }\n    /**\n     * @private\n     */\n    TabElementBox.prototype.destroy = function () {\n        this.tabText = undefined;\n        this.tabLeader = undefined;\n    };\n    /**\n     * @private\n     */\n    TabElementBox.prototype.componentDestroy = function () {\n        this.tabText = undefined;\n        this.tabLeader = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    /**\n     * @private\n     */\n    TabElementBox.prototype.clone = function () {\n        var tabSpan = new TabElementBox();\n        tabSpan.characterFormat.copyFormat(this.characterFormat);\n        tabSpan.tabText = this.tabText;\n        tabSpan.tabLeader = this.tabLeader;\n        tabSpan.text = this.text;\n        if (this.margin) {\n            tabSpan.margin = this.margin.clone();\n        }\n        tabSpan.width = this.width;\n        tabSpan.height = this.height;\n        if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n            if (this.revisions.length > 0) {\n                for (var i = 0; i < this.revisions.length; i++) {\n                    var revision = this.revisions[i];\n                    tabSpan.revisions.push(revision.clone());\n                }\n            }\n        }\n        else {\n            if (this.revisions.length > 0) {\n                tabSpan.removedIds = Revision.cloneRevisions(this.revisions);\n            }\n            else {\n                tabSpan.removedIds = this.removedIds.slice();\n            }\n        }\n        return tabSpan;\n    };\n    return TabElementBox;\n}(TextElementBox));\nexport { TabElementBox };\n/**\n * @private\n */\nvar BookmarkElementBox = /** @class */ (function (_super) {\n    __extends(BookmarkElementBox, _super);\n    function BookmarkElementBox(type) {\n        var _this = _super.call(this) || this;\n        _this.bookmarkTypeIn = 0;\n        _this.refereneceIn = undefined;\n        _this.nameIn = '';\n        _this.bookmarkTypeIn = type;\n        return _this;\n    }\n    Object.defineProperty(BookmarkElementBox.prototype, \"bookmarkType\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.bookmarkTypeIn;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookmarkElementBox.prototype, \"properties\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.propertiesIn;\n        },\n        /**\n         * @private\n         */\n        set: function (properties) {\n            this.propertiesIn = properties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookmarkElementBox.prototype, \"name\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.nameIn;\n        },\n        /**\n         * @private\n         */\n        set: function (name) {\n            this.nameIn = name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookmarkElementBox.prototype, \"reference\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.refereneceIn;\n        },\n        /**\n         * @private\n         */\n        set: function (reference) {\n            this.refereneceIn = reference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    BookmarkElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    /**\n     * @private\n     */\n    BookmarkElementBox.prototype.destroy = function () {\n        this.name = undefined;\n        this.reference = undefined;\n        this.bookmarkTypeIn = undefined;\n    };\n    /**\n     * @private\n     */\n    BookmarkElementBox.prototype.componentDestroy = function () {\n        this.name = undefined;\n        this.reference = undefined;\n        this.bookmarkTypeIn = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    /**\n     * Clones the bookmark element box.\n     * @param element - book mark element\n     */\n    /**\n     * @private\n     */\n    BookmarkElementBox.prototype.clone = function () {\n        var span = new BookmarkElementBox(this.bookmarkType);\n        span.name = this.name;\n        span.reference = this.reference;\n        span.properties = this.properties;\n        if (this.margin) {\n            span.margin = this.margin.clone();\n        }\n        if (this.revisions.length > 0) {\n            span.removedIds = Revision.cloneRevisions(this.revisions);\n        }\n        else {\n            span.removedIds = this.removedIds.slice();\n        }\n        span.width = this.width;\n        span.height = this.height;\n        if (this.contentControlProperties) {\n            span.contentControlProperties = this.contentControlProperties;\n        }\n        return span;\n    };\n    return BookmarkElementBox;\n}(ElementBox));\nexport { BookmarkElementBox };\n/**\n * @private\n */\nvar ContentControl = /** @class */ (function (_super) {\n    __extends(ContentControl, _super);\n    function ContentControl(widgetType) {\n        var _this = _super.call(this) || this;\n        _this.contentControlWidgetType = widgetType;\n        _this.contentControlProperties = new ContentControlProperties(widgetType);\n        return _this;\n    }\n    /**\n     * @private\n     */\n    ContentControl.prototype.getLength = function () {\n        return 1;\n    };\n    /**\n     * @private\n     */\n    ContentControl.prototype.clone = function () {\n        var span = new ContentControl(this.contentControlWidgetType);\n        span.characterFormat.copyFormat(this.characterFormat);\n        span.contentControlProperties = this.contentControlProperties;\n        span.contentControlWidgetType = this.contentControlWidgetType;\n        if (this.margin) {\n            span.margin = this.margin.clone();\n        }\n        if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n            if (this.revisions.length > 0) {\n                for (var i = 0; i < this.revisions.length; i++) {\n                    var revisionChange = this.revisions[i];\n                    span.revisions.push(revisionChange.clone());\n                }\n            }\n        }\n        else {\n            if (this.revisions.length > 0) {\n                span.removedIds = Revision.cloneRevisions(this.revisions);\n            }\n            else {\n                span.removedIds = this.removedIds.slice();\n            }\n        }\n        span.type = this.type;\n        span.width = this.width;\n        span.height = this.height;\n        span.reference = this.reference;\n        return span;\n    };\n    /**\n     * @private\n     */\n    ContentControl.prototype.destroy = function () {\n        this.contentControlProperties = undefined;\n        this.contentControlWidgetType = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    ContentControl.prototype.componentDestroy = function () {\n        if (this.contentControlProperties) {\n            this.contentControlProperties.destroy();\n            this.contentControlProperties = undefined;\n        }\n        this.contentControlWidgetType = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return ContentControl;\n}(ElementBox));\nexport { ContentControl };\n/**\n * @private\n */\n/**\n * @private\n */\nvar ContentControlProperties = /** @class */ (function () {\n    function ContentControlProperties(widgetType) {\n        /**\n         * @private\n         */\n        this.contentControlListItems = [];\n        this.contentControlWidgetType = widgetType;\n        this.characterFormat = new WCharacterFormat();\n    }\n    /**\n     * @private\n     */\n    ContentControlProperties.prototype.destroy = function () {\n        if (this.characterFormat) {\n            this.characterFormat.destroy();\n            this.characterFormat = undefined;\n        }\n        if (this.xmlMapping) {\n            this.xmlMapping.destroy();\n            this.xmlMapping = undefined;\n        }\n        this.lockContentControl = undefined;\n        this.lockContents = undefined;\n        this.tag = undefined;\n        this.color = undefined;\n        this.title = undefined;\n        this.appearance = undefined;\n        this.type = undefined;\n        this.hasPlaceHolderText = undefined;\n        this.multiline = undefined;\n        this.isTemporary = undefined;\n        this.isChecked = undefined;\n        this.dateCalendarType = undefined;\n        this.dateStorageFormat = undefined;\n        this.dateDisplayLocale = undefined;\n        this.dateDisplayFormat = undefined;\n    };\n    /**\n     * @private\n     */\n    ContentControlProperties.prototype.clone = function () {\n        var span = new ContentControlProperties(this.contentControlWidgetType);\n        span.lockContentControl = this.lockContentControl;\n        span.lockContents = this.lockContents;\n        span.tag = this.tag;\n        span.color = this.color;\n        span.title = this.title;\n        span.appearance = this.appearance;\n        span.type = this.type;\n        span.hasPlaceHolderText = this.hasPlaceHolderText;\n        span.multiline = this.multiline;\n        span.isTemporary = this.isTemporary;\n        span.isChecked = this.isChecked;\n        span.dateCalendarType = this.dateCalendarType;\n        span.dateStorageFormat = this.dateStorageFormat;\n        span.dateDisplayLocale = this.dateDisplayLocale;\n        span.dateDisplayFormat = this.dateDisplayFormat;\n        if (this.contentControlListItems.length > 0) {\n            for (var i = 0; i < this.contentControlListItems.length; i++) {\n                span.contentControlListItems.push(this.contentControlListItems[i].clone());\n            }\n        }\n        if (this.checkedState) {\n            span.checkedState = this.checkedState.clone();\n        }\n        if (this.uncheckedState) {\n            span.uncheckedState = this.uncheckedState.clone();\n        }\n        if (this.xmlMapping) {\n            span.xmlMapping = this.xmlMapping.clone();\n        }\n        return span;\n    };\n    return ContentControlProperties;\n}());\nexport { ContentControlProperties };\n/**\n * @private\n */\nvar ContentControlListItems = /** @class */ (function () {\n    function ContentControlListItems() {\n    }\n    /**\n     * @private\n     */\n    ContentControlListItems.prototype.destroy = function () {\n        this.displayText = undefined;\n        this.value = undefined;\n    };\n    /**\n     * @private\n     */\n    ContentControlListItems.prototype.clone = function () {\n        var span = new ContentControlListItems();\n        span.displayText = this.displayText;\n        span.value = this.value;\n        return span;\n    };\n    return ContentControlListItems;\n}());\nexport { ContentControlListItems };\n/**\n * @private\n */\nvar CheckBoxState = /** @class */ (function () {\n    function CheckBoxState() {\n    }\n    /**\n     * @private\n     */\n    CheckBoxState.prototype.destroy = function () {\n        this.font = undefined;\n        this.value = undefined;\n    };\n    /**\n     * @private\n     */\n    CheckBoxState.prototype.clone = function () {\n        var span = new CheckBoxState();\n        span.font = this.font;\n        span.value = this.value;\n        return span;\n    };\n    return CheckBoxState;\n}());\nexport { CheckBoxState };\n/**\n * @private\n */\nvar XmlMapping = /** @class */ (function () {\n    function XmlMapping() {\n    }\n    /**\n     * @private\n     */\n    XmlMapping.prototype.destroy = function () {\n        this.isMapped = undefined;\n        this.isWordMl = undefined;\n        this.prefixMapping = undefined;\n        this.xPath = undefined;\n        this.storeItemId = undefined;\n        this.customXmlPart = undefined;\n    };\n    /**\n     * @private\n     */\n    XmlMapping.prototype.clone = function () {\n        var span = new XmlMapping();\n        span.isMapped = this.isMapped;\n        span.isWordMl = this.isWordMl;\n        span.prefixMapping = this.prefixMapping;\n        span.xPath = this.xPath;\n        span.storeItemId = this.storeItemId;\n        if (this.customXmlPart) {\n            span.customXmlPart = this.customXmlPart.clone();\n        }\n        return span;\n    };\n    return XmlMapping;\n}());\nexport { XmlMapping };\n/**\n * @private\n */\nvar CustomXmlPart = /** @class */ (function () {\n    function CustomXmlPart() {\n    }\n    /**\n     * @private\n     */\n    CustomXmlPart.prototype.destroy = function () {\n        this.id = undefined;\n        this.xml = undefined;\n    };\n    /**\n     * @private\n     */\n    CustomXmlPart.prototype.clone = function () {\n        var span = new CustomXmlPart();\n        span.id = this.id;\n        span.xml = this.xml;\n        return span;\n    };\n    return CustomXmlPart;\n}());\nexport { CustomXmlPart };\n/**\n * @private\n */\nvar ShapeCommon = /** @class */ (function (_super) {\n    __extends(ShapeCommon, _super);\n    function ShapeCommon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.name = '';\n        /**\n         * @private\n         */\n        _this.alternateText = '';\n        /**\n         * @private\n         */\n        _this.title = '';\n        return _this;\n    }\n    /**\n     *\n     * @private\n     */\n    ShapeCommon.prototype.getLength = function () {\n        return 1;\n    };\n    /**\n     * @private\n     */\n    ShapeCommon.prototype.clone = function () {\n        var shape = new ShapeElementBox();\n        return shape;\n    };\n    return ShapeCommon;\n}(ElementBox));\nexport { ShapeCommon };\n/**\n * @private\n */\nvar ShapeBase = /** @class */ (function (_super) {\n    __extends(ShapeBase, _super);\n    function ShapeBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.verticalPosition = 0;\n        /**\n         * @private\n         */\n        _this.horizontalPosition = 0;\n        /**\n         * @private\n         */\n        _this.textWrappingStyle = 'Inline';\n        /**\n         * @private\n         */\n        _this.distanceBottom = 0;\n        /**\n         * @private\n         */\n        _this.distanceLeft = 0;\n        /**\n         * @private\n         */\n        _this.distanceRight = 0;\n        /**\n         * @private\n         */\n        _this.distanceTop = 0;\n        return _this;\n    }\n    return ShapeBase;\n}(ShapeCommon));\nexport { ShapeBase };\n/**\n * @private\n */\nvar ShapeElementBox = /** @class */ (function (_super) {\n    __extends(ShapeElementBox, _super);\n    function ShapeElementBox() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @private\n     */\n    ShapeElementBox.prototype.clone = function () {\n        var shape = new ShapeElementBox();\n        shape.characterFormat.copyFormat(this.characterFormat);\n        shape.x = this.x;\n        shape.y = this.y;\n        shape.width = this.width;\n        shape.height = this.height;\n        shape.shapeId = this.shapeId;\n        shape.name = this.name;\n        shape.alternateText = this.alternateText;\n        shape.title = this.title;\n        shape.widthScale = this.widthScale;\n        shape.heightScale = this.heightScale;\n        shape.visible = this.visible;\n        shape.verticalPosition = this.verticalPosition;\n        shape.verticalAlignment = this.verticalAlignment;\n        shape.verticalOrigin = this.verticalOrigin;\n        shape.verticalRelativePercent = this.verticalRelativePercent;\n        shape.horizontalPosition = this.horizontalPosition;\n        shape.horizontalAlignment = this.horizontalAlignment;\n        shape.horizontalOrigin = this.horizontalOrigin;\n        shape.horizontalRelativePercent = this.horizontalRelativePercent;\n        shape.heightRelativePercent = this.heightRelativePercent;\n        shape.widthRelativePercent = this.widthRelativePercent;\n        shape.zOrderPosition = this.zOrderPosition;\n        shape.allowOverlap = this.allowOverlap;\n        shape.textWrappingStyle = this.textWrappingStyle;\n        shape.textWrappingType = this.textWrappingType;\n        shape.distanceBottom = this.distanceBottom;\n        shape.distanceLeft = this.distanceLeft;\n        shape.distanceRight = this.distanceRight;\n        shape.distanceTop = this.distanceTop;\n        shape.layoutInCell = this.layoutInCell;\n        shape.lockAnchor = this.lockAnchor;\n        shape.autoShapeType = this.autoShapeType;\n        if (this.lineFormat) {\n            shape.lineFormat = this.lineFormat.clone();\n        }\n        if (this.fillFormat) {\n            shape.fillFormat = this.fillFormat.clone();\n        }\n        if (this.textFrame) {\n            shape.textFrame = this.textFrame.clone();\n            shape.textFrame.containerShape = shape;\n        }\n        if (this.margin) {\n            shape.margin = this.margin.clone();\n        }\n        if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n            if (this.revisions.length > 0) {\n                for (var i = 0; i < this.revisions.length; i++) {\n                    var revision = this.revisions[i];\n                    shape.revisions.push(revision.clone());\n                }\n            }\n        }\n        else {\n            if (this.revisions.length > 0) {\n                shape.removedIds = Revision.cloneRevisions(this.revisions);\n            }\n            else {\n                shape.removedIds = this.removedIds.slice();\n            }\n        }\n        return shape;\n    };\n    return ShapeElementBox;\n}(ShapeBase));\nexport { ShapeElementBox };\n/**\n * @private\n */\nvar TextFrame = /** @class */ (function (_super) {\n    __extends(TextFrame, _super);\n    function TextFrame() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * @private\n         */\n        _this.marginLeft = 0;\n        /**\n         * @private\n         */\n        _this.marginRight = 0;\n        /**\n         * @private\n         */\n        _this.marginTop = 0;\n        /**\n         * @private\n         */\n        _this.marginBottom = 0;\n        return _this;\n    }\n    TextFrame.prototype.equals = function () {\n        return false;\n    };\n    TextFrame.prototype.destroyInternal = function () {\n        //return;\n    };\n    TextFrame.prototype.getHierarchicalIndex = function (index) {\n        var line = this.containerShape.line;\n        var offset = line.getOffset(this.containerShape, 0).toString();\n        return line.getHierarchicalIndex(offset);\n    };\n    TextFrame.prototype.getTableCellWidget = function () {\n        return undefined;\n    };\n    /**\n     * @private\n     */\n    TextFrame.prototype.clone = function () {\n        var textFrame = new TextFrame();\n        textFrame.textVerticalAlignment = this.textVerticalAlignment;\n        textFrame.marginBottom = this.marginBottom;\n        textFrame.marginLeft = this.marginLeft;\n        textFrame.marginRight = this.marginRight;\n        textFrame.marginTop = this.marginTop;\n        for (var i = 0; i < this.childWidgets.length; i++) {\n            var block = this.childWidgets[i].clone();\n            textFrame.childWidgets.push(block);\n            block.index = i;\n            block.containerWidget = textFrame;\n        }\n        return textFrame;\n    };\n    return TextFrame;\n}(Widget));\nexport { TextFrame };\n/**\n * @private\n */\nvar LineFormat = /** @class */ (function () {\n    function LineFormat() {\n    }\n    /**\n     * @private\n     */\n    LineFormat.prototype.clone = function () {\n        var lineFormat = new LineFormat();\n        lineFormat.lineFormatType = this.lineFormatType;\n        lineFormat.color = this.color;\n        lineFormat.weight = this.weight;\n        lineFormat.dashStyle = this.dashStyle;\n        lineFormat.line = this.line;\n        return lineFormat;\n    };\n    return LineFormat;\n}());\nexport { LineFormat };\n/**\n * @private\n */\nvar FillFormat = /** @class */ (function () {\n    function FillFormat() {\n    }\n    /**\n     * @private\n     */\n    FillFormat.prototype.clone = function () {\n        var fillFormat = new FillFormat();\n        fillFormat.color = this.color;\n        fillFormat.fill = this.fill;\n        return fillFormat;\n    };\n    return FillFormat;\n}());\nexport { FillFormat };\n/**\n * @private\n */\nvar ImageElementBox = /** @class */ (function (_super) {\n    __extends(ImageElementBox, _super);\n    function ImageElementBox(isInlineImage) {\n        var _this = _super.call(this) || this;\n        _this.imageStr = '';\n        _this.imgElement = undefined;\n        _this.isInlineImageIn = true;\n        _this.crop = false;\n        /**\n         * @private\n         */\n        _this.left = 0;\n        /**\n         * @private\n         */\n        _this.top = 0;\n        /**\n         * @private\n         */\n        _this.right = 0;\n        /**\n         * @private\n         */\n        _this.bottom = 0;\n        /**\n         * @private\n         */\n        _this.isMetaFile = false;\n        /**\n         * @private\n         */\n        _this.isCompressed = false;\n        _this.isInlineImageIn = isInlineImage;\n        return _this;\n    }\n    Object.defineProperty(ImageElementBox.prototype, \"isCrop\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.crop;\n        },\n        set: function (value) {\n            this.crop = value;\n            if (value) {\n                var right = 0;\n                var bottom = 0;\n                if (this.left !== 0) {\n                    this.cropX = (this.left * this.cropWidthScale) / 100;\n                }\n                else {\n                    this.cropX = 0;\n                }\n                if (this.top !== 0) {\n                    this.cropY = (this.top * this.cropHeightScale) / 100;\n                }\n                else {\n                    this.cropY = 0;\n                }\n                if (this.right !== 0) {\n                    right = (this.right * this.cropWidthScale) / 100;\n                }\n                if (this.bottom !== 0) {\n                    bottom = (this.bottom * this.cropHeightScale) / 100;\n                }\n                this.cropWidth = (this.cropWidthScale - (this.cropX + right));\n                this.cropHeight = (this.cropHeightScale - (this.cropY + bottom));\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageElementBox.prototype, \"isInlineImage\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isInlineImageIn;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageElementBox.prototype, \"element\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.imgElement)) {\n                this.imgElement = document.createElement('img');\n            }\n            return this.imgElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageElementBox.prototype, \"length\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return 1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageElementBox.prototype, \"imageString\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.imageStr;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.imageStr = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ImageElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    /**\n     * @private\n     */\n    ImageElementBox.prototype.clone = function () {\n        var image = new ImageElementBox(this.isInlineImage);\n        image.characterFormat.copyFormat(this.characterFormat);\n        image.imageString = this.imageString;\n        image.element.src = this.element.src;\n        image.isMetaFile = this.isMetaFile;\n        image.isCompressed = this.isCompressed;\n        image.metaFileImageString = this.metaFileImageString;\n        image.width = this.width;\n        image.height = this.height;\n        image.top = this.top;\n        image.left = this.left;\n        image.bottom = this.bottom;\n        image.right = this.right;\n        image.cropHeightScale = this.cropHeightScale;\n        image.cropWidthScale = this.cropWidthScale;\n        image.cropX = this.cropX;\n        image.cropY = this.cropY;\n        image.isCrop = this.isCrop;\n        image.x = this.x;\n        image.y = this.y;\n        if (this.margin) {\n            image.margin = this.margin.clone();\n        }\n        if (!isNullOrUndefined(this.paragraph) && this.paragraph.isInHeaderFooter) {\n            if (this.revisions.length > 0) {\n                for (var i = 0; i < this.revisions.length; i++) {\n                    var revision = this.revisions[i];\n                    image.revisions.push(revision.clone());\n                }\n            }\n        }\n        else {\n            if (this.revisions.length > 0) {\n                image.removedIds = Revision.cloneRevisions(this.revisions);\n            }\n            else {\n                image.removedIds = this.removedIds.slice();\n            }\n        }\n        image.name = this.name;\n        image.alternateText = this.alternateText;\n        image.title = this.title;\n        image.visible = this.visible;\n        image.widthScale = this.widthScale;\n        image.heightScale = this.heightScale;\n        image.verticalPosition = this.verticalPosition;\n        image.verticalOrigin = this.verticalOrigin;\n        image.verticalAlignment = this.verticalAlignment;\n        image.horizontalPosition = this.horizontalPosition;\n        image.horizontalOrigin = this.horizontalOrigin;\n        image.horizontalAlignment = this.horizontalAlignment;\n        image.allowOverlap = this.allowOverlap;\n        image.textWrappingStyle = this.textWrappingStyle;\n        image.textWrappingType = this.textWrappingType;\n        image.layoutInCell = this.layoutInCell;\n        image.zOrderPosition = this.zOrderPosition;\n        return image;\n    };\n    /**\n     * @private\n     */\n    ImageElementBox.prototype.destroy = function () {\n        this.imgElement = undefined;\n        this.imageString = undefined;\n        this.isInlineImageIn = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    return ImageElementBox;\n}(ShapeBase));\nexport { ImageElementBox };\n/**\n * @private\n */\nvar ListTextElementBox = /** @class */ (function (_super) {\n    __extends(ListTextElementBox, _super);\n    function ListTextElementBox(listLevel, isListFollowCharacter) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.baselineOffset = 0;\n        /**\n         * @private\n         */\n        _this.trimEndWidth = 0;\n        /**\n         * @private\n         */\n        _this.isFollowCharacter = false;\n        _this.listLevel = listLevel;\n        _this.isFollowCharacter = isListFollowCharacter;\n        return _this;\n    }\n    /**\n     * @private\n     */\n    ListTextElementBox.prototype.getLength = function () {\n        return this.text ? this.text.length : 0;\n    };\n    /**\n     * @private\n     */\n    ListTextElementBox.prototype.clone = function () {\n        var list = new ListTextElementBox(this.listLevel, this.isFollowCharacter);\n        list.text = this.text;\n        list.baselineOffset = this.baselineOffset;\n        if (this.margin) {\n            list.margin = this.margin.clone();\n        }\n        list.width = this.width;\n        list.height = this.height;\n        return list;\n    };\n    /**\n     * @private\n     */\n    ListTextElementBox.prototype.destroy = function () {\n        this.text = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    return ListTextElementBox;\n}(ElementBox));\nexport { ListTextElementBox };\n/**\n * @private\n */\nvar EditRangeEndElementBox = /** @class */ (function (_super) {\n    __extends(EditRangeEndElementBox, _super);\n    function EditRangeEndElementBox() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.editRangeStart = undefined;\n        _this.editRangeId = -1;\n        return _this;\n    }\n    /**\n     * @private\n     */\n    EditRangeEndElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    /**\n     * @private\n     */\n    EditRangeEndElementBox.prototype.destroy = function () {\n        this.editRangeStart = undefined;\n    };\n    /**\n     * @private\n     */\n    EditRangeEndElementBox.prototype.clone = function () {\n        var end = new EditRangeEndElementBox();\n        end.editRangeStart = this.editRangeStart;\n        end.editRangeId = this.editRangeId;\n        return end;\n    };\n    return EditRangeEndElementBox;\n}(ElementBox));\nexport { EditRangeEndElementBox };\n/**\n * @private\n */\nvar EditRangeStartElementBox = /** @class */ (function (_super) {\n    __extends(EditRangeStartElementBox, _super);\n    function EditRangeStartElementBox() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.columnFirst = -1;\n        /**\n         * @private\n         */\n        _this.columnLast = -1;\n        /**\n         * @private\n         */\n        _this.user = '';\n        /**\n         * @private\n         */\n        _this.group = '';\n        _this.editRangeId = -1;\n        return _this;\n    }\n    /**\n     * @private\n     */\n    EditRangeStartElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    /**\n     * @private\n     */\n    EditRangeStartElementBox.prototype.renderLockMark = function (currentUser, locale) {\n        if (isNullOrUndefined(this.editRangeMark)) {\n            var user = currentUser === this.user ? 'you' : this.user;\n            this.editRangeMark = document.createElement('div');\n            this.editRangeMark.style.display = 'none';\n            this.editRangeMark.classList.add('e-de-lock-mark');\n            var span = document.createElement('span');\n            span.className = 'e-icons e-de-ctnr-lock';\n            this.editRangeMark.appendChild(span);\n            this.editRangeMark.title = locale.getConstant('This region is locked by') + ' ' + user;\n        }\n        if (this.line && isNullOrUndefined(this.editRangeMark.parentElement)) {\n            var documentHelper = this.line.paragraph.bodyWidget.page.documentHelper;\n            documentHelper.pageContainer.appendChild(this.editRangeMark);\n        }\n    };\n    /**\n     * @private\n     */\n    EditRangeStartElementBox.prototype.removeEditRangeMark = function () {\n        if (this.editRangeMark) {\n            this.editRangeMark.parentElement.removeChild(this.editRangeMark);\n            this.editRangeMark = undefined;\n        }\n    };\n    /**\n     * @private\n     */\n    EditRangeStartElementBox.prototype.destroy = function () {\n        this.user = undefined;\n        this.columnFirst = undefined;\n        this.columnLast = undefined;\n    };\n    /**\n     * @private\n     */\n    EditRangeStartElementBox.prototype.clone = function () {\n        var start = new EditRangeStartElementBox();\n        start.columnFirst = this.columnFirst;\n        start.columnLast = this.columnLast;\n        start.user = this.user;\n        start.group = this.group;\n        start.editRangeEnd = this.editRangeEnd;\n        start.editRangeId = this.editRangeId;\n        return start;\n    };\n    return EditRangeStartElementBox;\n}(ElementBox));\nexport { EditRangeStartElementBox };\n/**\n * @private\n */\nvar ChartElementBox = /** @class */ (function (_super) {\n    __extends(ChartElementBox, _super);\n    /**\n     * @private\n     */\n    function ChartElementBox() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         */\n        _this.chartTitle = '';\n        /**\n         * @private\n         */\n        _this.chartType = '';\n        /**\n         * @private\n         */\n        _this.chartElement = undefined;\n        /**\n         * @private\n         */\n        _this.chartCategory = [];\n        /**\n         * @private\n         */\n        _this.chartSeries = [];\n        _this.chartArea = new ChartArea();\n        _this.chartPlotArea = new ChartArea();\n        _this.chartTitleArea = new ChartTitleArea();\n        _this.chartLegend = new ChartLegend();\n        _this.chartPrimaryCategoryAxis = new ChartCategoryAxis();\n        _this.chartPrimaryValueAxis = new ChartCategoryAxis();\n        _this.chartDataTable = new ChartDataTable();\n        return _this;\n    }\n    /**\n     * @private\n     */\n    ChartElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    Object.defineProperty(ChartElementBox.prototype, \"title\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.chartTitle;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.chartTitle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartElementBox.prototype, \"type\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.chartType;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.chartType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartElementBox.prototype, \"chartGapWidth\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.gapWidth;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.gapWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartElementBox.prototype, \"chartOverlap\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.overlap;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.overlap = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartElementBox.prototype, \"targetElement\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.div)) {\n                this.div = createElement('div');\n            }\n            return this.div;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartElementBox.prototype, \"officeChart\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.officeChartInternal;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            if (value) {\n                this.officeChartInternal = value;\n                this.officeChartInternal.chart.loaded = this.onChartLoaded.bind(this);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ChartElementBox.prototype.onChartLoaded = function () {\n        var _this = this;\n        this.officeChart.convertChartToImage(this.officeChart.chart, this.width, this.height).then(function (dataURL) {\n            _this.imageString = dataURL;\n            _this.element.src = dataURL;\n        });\n    };\n    /**\n     * @private\n     */\n    ChartElementBox.prototype.clone = function () {\n        var chart = new ChartElementBox();\n        chart.chartTitle = this.chartTitle;\n        chart.chartType = this.chartType;\n        chart.height = this.height;\n        chart.width = this.width;\n        chart.gapWidth = this.gapWidth;\n        chart.overlap = this.overlap;\n        for (var i = 0; i < this.chartCategory.length; i++) {\n            var chartCategory = this.chartCategory[i].clone();\n            chart.chartCategory.push(chartCategory);\n        }\n        for (var i = 0; i < this.chartSeries.length; i++) {\n            var series = this.chartSeries[i].clone();\n            chart.chartSeries.push(series);\n        }\n        chart.chartArea = this.chartArea.clone();\n        chart.chartPlotArea = this.chartPlotArea.clone();\n        chart.chartLegend = this.chartLegend.clone();\n        chart.chartTitleArea = this.chartTitleArea.clone();\n        chart.chartPrimaryCategoryAxis = this.chartPrimaryCategoryAxis.clone();\n        chart.chartPrimaryValueAxis = this.chartPrimaryValueAxis.clone();\n        chart.chartDataTable = this.chartDataTable.clone();\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartElementBox.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.officeChartInternal) {\n            this.officeChartInternal.chart.loaded = undefined;\n            this.officeChartInternal.destroy();\n            this.officeChartInternal = undefined;\n        }\n        if (this.div) {\n            this.div = undefined;\n        }\n        this.chartTitle = undefined;\n        this.chartType = undefined;\n        this.chartArea = undefined;\n        this.chartPlotArea = undefined;\n        this.chartCategory = [];\n        this.chartSeries = [];\n        this.chartTitleArea = undefined;\n        this.chartLegend = undefined;\n        this.chartPrimaryCategoryAxis = undefined;\n        this.chartPrimaryValueAxis = undefined;\n        this.chartDataTable = undefined;\n        this.chartElement = undefined;\n    };\n    return ChartElementBox;\n}(ImageElementBox));\nexport { ChartElementBox };\n/**\n * @private\n */\nvar ChartArea = /** @class */ (function () {\n    function ChartArea() {\n    }\n    Object.defineProperty(ChartArea.prototype, \"chartForeColor\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.foreColor;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.foreColor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartArea.prototype.clone = function () {\n        var chart = new ChartArea();\n        chart.foreColor = this.foreColor;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartArea.prototype.destroy = function () {\n        this.foreColor = undefined;\n    };\n    return ChartArea;\n}());\nexport { ChartArea };\n/**\n * @private\n */\nvar ChartCategory = /** @class */ (function () {\n    function ChartCategory() {\n        /**\n         * @private\n         */\n        this.categoryXName = '';\n        /**\n         * @private\n         */\n        this.chartData = [];\n    }\n    Object.defineProperty(ChartCategory.prototype, \"xName\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.categoryXName;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.categoryXName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartCategory.prototype.clone = function () {\n        var chart = new ChartCategory();\n        chart.categoryXName = this.categoryXName;\n        for (var i = 0; i < this.chartData.length; i++) {\n            var chartData = this.chartData[i].clone();\n            chart.chartData.push(chartData);\n        }\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartCategory.prototype.destroy = function () {\n        this.categoryXName = undefined;\n        this.chartData = [];\n    };\n    return ChartCategory;\n}());\nexport { ChartCategory };\n/**\n * @private\n */\nvar ChartData = /** @class */ (function () {\n    function ChartData() {\n    }\n    Object.defineProperty(ChartData.prototype, \"yAxisValue\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.yValue;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.yValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartData.prototype, \"xAxisValue\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.xValue;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.xValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartData.prototype, \"bubbleSize\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.size;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.size = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartData.prototype.clone = function () {\n        var chart = new ChartData();\n        chart.yValue = this.yValue;\n        chart.xValue = this.xValue;\n        chart.size = this.size;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartData.prototype.destroy = function () {\n        this.xValue = undefined;\n        this.yValue = undefined;\n        this.size = undefined;\n    };\n    return ChartData;\n}());\nexport { ChartData };\n/**\n * @private\n */\nvar ChartLegend = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function ChartLegend() {\n        this.chartTitleArea = new ChartTitleArea();\n    }\n    Object.defineProperty(ChartLegend.prototype, \"chartLegendPostion\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.legendPostion;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.legendPostion = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartLegend.prototype.clone = function () {\n        var chart = new ChartLegend();\n        chart.legendPostion = this.legendPostion;\n        chart.chartTitleArea = this.chartTitleArea.clone();\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartLegend.prototype.destroy = function () {\n        this.legendPostion = undefined;\n        this.chartTitleArea = undefined;\n    };\n    return ChartLegend;\n}());\nexport { ChartLegend };\n/**\n * @private\n */\nvar ChartSeries = /** @class */ (function () {\n    function ChartSeries() {\n        /**\n         * @private\n         */\n        this.chartDataFormat = [];\n        /**\n         * @private\n         */\n        this.trendLines = [];\n        this.errorBar = new ChartErrorBar();\n        this.dataLabels = new ChartDataLabels();\n        this.seriesFormat = new ChartSeriesFormat();\n    }\n    Object.defineProperty(ChartSeries.prototype, \"seriesName\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.name;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.name = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartSeries.prototype, \"firstSliceAngle\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.sliceAngle;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.sliceAngle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartSeries.prototype, \"doughnutHoleSize\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.holeSize;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.holeSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartSeries.prototype.clone = function () {\n        var chart = new ChartSeries();\n        chart.name = this.name;\n        chart.sliceAngle = this.sliceAngle;\n        chart.holeSize = this.holeSize;\n        chart.errorBar = this.errorBar.clone();\n        chart.dataLabels = this.dataLabels.clone();\n        chart.seriesFormat = this.seriesFormat.clone();\n        for (var i = 0; i < this.chartDataFormat.length; i++) {\n            var format = (this.chartDataFormat[i].clone());\n            chart.chartDataFormat.push(format);\n        }\n        for (var i = 0; i < this.trendLines.length; i++) {\n            var trendLine = (this.trendLines[i].clone());\n            chart.trendLines.push(trendLine);\n        }\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartSeries.prototype.destroy = function () {\n        this.name = undefined;\n        this.errorBar = undefined;\n        this.trendLines = undefined;\n        this.chartDataFormat = [];\n    };\n    return ChartSeries;\n}());\nexport { ChartSeries };\n/**\n * @private\n */\nvar ChartErrorBar = /** @class */ (function () {\n    function ChartErrorBar() {\n    }\n    Object.defineProperty(ChartErrorBar.prototype, \"errorType\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.type;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.type = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartErrorBar.prototype, \"errorDirection\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.direction;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.direction = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartErrorBar.prototype, \"errorEndStyle\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.endStyle;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.endStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartErrorBar.prototype, \"numberValue\", {\n        get: function () {\n            return this.errorValue;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.errorValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartErrorBar.prototype.clone = function () {\n        var chart = new ChartErrorBar();\n        chart.type = this.type;\n        chart.errorDirection = this.errorDirection;\n        chart.endStyle = this.endStyle;\n        chart.errorValue = this.errorValue;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartErrorBar.prototype.destroy = function () {\n        this.type = undefined;\n        this.errorDirection = undefined;\n        this.endStyle = undefined;\n    };\n    return ChartErrorBar;\n}());\nexport { ChartErrorBar };\n/**\n * @private\n */\nvar ChartSeriesFormat = /** @class */ (function () {\n    function ChartSeriesFormat() {\n    }\n    Object.defineProperty(ChartSeriesFormat.prototype, \"markerStyle\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.style;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.style = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartSeriesFormat.prototype, \"markerColor\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.color;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.color = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartSeriesFormat.prototype, \"numberValue\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.size;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.size = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartSeriesFormat.prototype.clone = function () {\n        var chart = new ChartSeriesFormat();\n        chart.style = this.style;\n        chart.color = this.color;\n        chart.size = this.size;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartSeriesFormat.prototype.destroy = function () {\n        this.style = undefined;\n        this.color = undefined;\n        this.size = undefined;\n    };\n    return ChartSeriesFormat;\n}());\nexport { ChartSeriesFormat };\n/**\n * @private\n */\nvar ChartDataLabels = /** @class */ (function () {\n    function ChartDataLabels() {\n    }\n    Object.defineProperty(ChartDataLabels.prototype, \"labelPosition\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.position;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.position = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"fontName\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.name;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.name = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"fontColor\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.color;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.color = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"fontSize\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.size;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.size = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"isLegendKey\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isLegend;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isLegend = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"isBubbleSize\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isBubble;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isBubble = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"isCategoryName\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isCategory;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isCategory = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"isSeriesName\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isSeries;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isSeries = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"isValue\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isValueEnabled;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isValueEnabled = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"isPercentage\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isPercentageEnabled;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isPercentageEnabled = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataLabels.prototype, \"isLeaderLines\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.showLeaderLines;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.showLeaderLines = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartDataLabels.prototype.clone = function () {\n        var chart = new ChartDataLabels();\n        chart.position = this.position;\n        chart.name = this.name;\n        chart.color = this.color;\n        chart.size = this.size;\n        chart.isBubble = this.isBubble;\n        chart.isLegend = this.isLegend;\n        chart.isCategory = this.isCategory;\n        chart.isSeries = this.isSeries;\n        chart.isValueEnabled = this.isValueEnabled;\n        chart.isPercentageEnabled = this.isPercentageEnabled;\n        chart.showLeaderLines = this.showLeaderLines;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartDataLabels.prototype.destroy = function () {\n        this.position = undefined;\n    };\n    return ChartDataLabels;\n}());\nexport { ChartDataLabels };\n/**\n * @private\n */\nvar ChartTrendLines = /** @class */ (function () {\n    function ChartTrendLines() {\n    }\n    Object.defineProperty(ChartTrendLines.prototype, \"trendLineType\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.type;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.type = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartTrendLines.prototype, \"trendLineName\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.name;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.name = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartTrendLines.prototype, \"interceptValue\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.intercept;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.intercept = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartTrendLines.prototype, \"forwardValue\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.forward;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.forward = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartTrendLines.prototype, \"backwardValue\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.backward;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.backward = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartTrendLines.prototype, \"isDisplayRSquared\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.displayRSquared;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.displayRSquared = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartTrendLines.prototype, \"isDisplayEquation\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.displayEquation;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.displayEquation = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartTrendLines.prototype.clone = function () {\n        var chart = new ChartTrendLines();\n        chart.type = this.type;\n        chart.name = this.name;\n        chart.forward = this.forward;\n        chart.backward = this.backward;\n        chart.intercept = this.intercept;\n        chart.displayEquation = this.displayEquation;\n        chart.displayRSquared = this.displayRSquared;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartTrendLines.prototype.destroy = function () {\n        this.type = undefined;\n        this.name = undefined;\n        this.forward = undefined;\n        this.backward = undefined;\n    };\n    return ChartTrendLines;\n}());\nexport { ChartTrendLines };\n/**\n * @private\n */\nvar ChartTitleArea = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function ChartTitleArea() {\n        this.dataFormat = new ChartDataFormat();\n        this.layout = new ChartLayout();\n    }\n    Object.defineProperty(ChartTitleArea.prototype, \"chartfontName\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.fontName;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.fontName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartTitleArea.prototype, \"chartFontSize\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.fontSize;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.fontSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartTitleArea.prototype.clone = function () {\n        var chart = new ChartTitleArea();\n        chart.fontName = this.fontName;\n        chart.fontSize = this.fontSize;\n        chart.dataFormat = this.dataFormat.clone();\n        chart.layout = this.layout.clone();\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartTitleArea.prototype.destroy = function () {\n        this.fontName = undefined;\n        this.fontSize = undefined;\n        this.dataFormat = undefined;\n        this.layout = undefined;\n    };\n    return ChartTitleArea;\n}());\nexport { ChartTitleArea };\n/**\n * @private\n */\nvar ChartDataFormat = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function ChartDataFormat() {\n        this.fill = new ChartFill();\n        this.line = new ChartFill();\n    }\n    /**\n     * @private\n     */\n    ChartDataFormat.prototype.clone = function () {\n        var chart = new ChartDataFormat();\n        chart.fill = this.fill.clone();\n        chart.line = this.line.clone();\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartDataFormat.prototype.destroy = function () {\n        this.fill = undefined;\n        this.line = undefined;\n    };\n    return ChartDataFormat;\n}());\nexport { ChartDataFormat };\n/**\n * @private\n */\nvar ChartFill = /** @class */ (function () {\n    function ChartFill() {\n    }\n    Object.defineProperty(ChartFill.prototype, \"color\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.fillColor;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.fillColor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartFill.prototype, \"rgb\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.fillRGB;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.fillRGB = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartFill.prototype.clone = function () {\n        var chart = new ChartFill();\n        chart.fillColor = this.fillColor;\n        chart.fillRGB = this.fillRGB;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartFill.prototype.destroy = function () {\n        this.fillColor = undefined;\n        this.fillRGB = undefined;\n    };\n    return ChartFill;\n}());\nexport { ChartFill };\n/**\n * @private\n */\nvar ChartLayout = /** @class */ (function () {\n    function ChartLayout() {\n    }\n    Object.defineProperty(ChartLayout.prototype, \"chartLayoutLeft\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.layoutX;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.layoutX = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartLayout.prototype, \"chartLayoutTop\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.layoutY;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.layoutY = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartLayout.prototype.clone = function () {\n        var chart = new ChartLayout();\n        chart.layoutX = this.layoutX;\n        chart.layoutY = this.layoutY;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartLayout.prototype.destroy = function () {\n        this.layoutX = undefined;\n        this.layoutY = undefined;\n    };\n    return ChartLayout;\n}());\nexport { ChartLayout };\n/**\n * @private\n */\nvar ChartCategoryAxis = /** @class */ (function () {\n    function ChartCategoryAxis() {\n        this.chartTitleArea = new ChartTitleArea();\n    }\n    Object.defineProperty(ChartCategoryAxis.prototype, \"majorTick\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.majorTickMark;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.majorTickMark = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"minorTick\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.minorTickMark;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.minorTickMark = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"tickPosition\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.tickLabelPostion;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.tickLabelPostion = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"minorGridLines\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.hasMinorGridLines;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.hasMinorGridLines = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"majorGridLines\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.hasMajorGridLines;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.hasMajorGridLines = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"interval\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.majorUnit;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.majorUnit = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"isAutoInternal\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isAutoMajor;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isAutoMajor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"max\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.maximumValue;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.maximumValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"min\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.minimumValue;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.minimumValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"categoryAxisTitle\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.title;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.title = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"categoryAxisType\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.categoryType;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.categoryType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"categoryNumberFormat\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.numberFormat;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.numberFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"axisFontSize\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.fontSize;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.fontSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartCategoryAxis.prototype, \"axisFontName\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.fontName;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.fontName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartCategoryAxis.prototype.clone = function () {\n        var chart = new ChartCategoryAxis();\n        chart.title = this.title;\n        chart.categoryType = this.categoryType;\n        chart.numberFormat = this.numberFormat;\n        chart.fontSize = this.fontSize;\n        chart.fontName = this.fontName;\n        chart.hasMajorGridLines = this.hasMajorGridLines;\n        chart.hasMinorGridLines = this.hasMinorGridLines;\n        chart.minimumValue = this.minimumValue;\n        chart.maximumValue = this.maximumValue;\n        chart.majorUnit = this.majorUnit;\n        chart.isAutoMajor = this.isAutoMajor;\n        chart.majorTickMark = this.majorTickMark;\n        chart.minorTickMark = this.minorTickMark;\n        chart.tickLabelPostion = this.tickLabelPostion;\n        chart.chartTitleArea = this.chartTitleArea.clone();\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartCategoryAxis.prototype.destroy = function () {\n        this.title = undefined;\n        this.categoryType = undefined;\n        this.numberFormat = undefined;\n        this.chartTitleArea = undefined;\n        this.minimumValue = undefined;\n        this.maximumValue = undefined;\n        this.fontSize = undefined;\n        this.fontName = undefined;\n        this.majorUnit = undefined;\n        this.majorTickMark = undefined;\n        this.minorTickMark = undefined;\n        this.tickLabelPostion = undefined;\n    };\n    return ChartCategoryAxis;\n}());\nexport { ChartCategoryAxis };\n/**\n * @private\n */\nvar ChartDataTable = /** @class */ (function () {\n    function ChartDataTable() {\n    }\n    Object.defineProperty(ChartDataTable.prototype, \"showSeriesKeys\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isSeriesKeys;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isSeriesKeys = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataTable.prototype, \"hasHorzBorder\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isHorzBorder;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isHorzBorder = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataTable.prototype, \"hasVertBorder\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isVertBorder;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isVertBorder = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ChartDataTable.prototype, \"hasBorders\", {\n        /**\n         * @private\n         */\n        get: function () {\n            return this.isBorders;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.isBorders = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    ChartDataTable.prototype.clone = function () {\n        var chart = new ChartDataTable();\n        chart.isSeriesKeys = this.isSeriesKeys;\n        chart.isHorzBorder = this.isHorzBorder;\n        chart.isVertBorder = this.isVertBorder;\n        chart.isBorders = this.isBorders;\n        return chart;\n    };\n    /**\n     * @private\n     */\n    ChartDataTable.prototype.destroy = function () {\n        this.isSeriesKeys = undefined;\n        this.isHorzBorder = undefined;\n        this.isVertBorder = undefined;\n        this.isBorders = undefined;\n    };\n    return ChartDataTable;\n}());\nexport { ChartDataTable };\n/**\n * @private\n */\nvar CommentCharacterElementBox = /** @class */ (function (_super) {\n    __extends(CommentCharacterElementBox, _super);\n    function CommentCharacterElementBox(type) {\n        var _this = _super.call(this) || this;\n        _this.commentType = 0;\n        _this.commentId = '';\n        _this.commentType = type;\n        return _this;\n    }\n    Object.defineProperty(CommentCharacterElementBox.prototype, \"comment\", {\n        get: function () {\n            return this.commentInternal;\n        },\n        set: function (value) {\n            this.commentInternal = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CommentCharacterElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    CommentCharacterElementBox.prototype.clone = function () {\n        var comment = new CommentCharacterElementBox(this.commentType);\n        comment.commentId = this.commentId;\n        comment.commentType = this.commentType;\n        if (!isNullOrUndefined(this.commentInternal)) {\n            comment.commentInternal = this.commentInternal.clone();\n        }\n        return comment;\n    };\n    CommentCharacterElementBox.prototype.renderCommentMark = function (topPosition, leftPosition) {\n        var documentHelper = this.line.paragraph.bodyWidget.page.documentHelper;\n        var commentMarkDictionary = documentHelper.render.commentMarkDictionary;\n        if (this.commentType === 0 && isNullOrUndefined(this.commentMark)) {\n            this.commentMark = document.createElement('div');\n            this.commentMark.style.display = 'none';\n            this.commentMark.classList.add('e-de-cmt-mark');\n            var span = document.createElement('span');\n            span.classList.add('e-icons');\n            span.classList.add('e-de-cmt-mark-icon');\n            this.commentMark.appendChild(span);\n        }\n        if (this.line && isNullOrUndefined(this.commentMark.parentElement)) {\n            documentHelper.pageContainer.appendChild(this.commentMark);\n            this.commentMark.addEventListener('click', this.selectComment.bind(this));\n        }\n        var positionOverlap = false;\n        var overlapKey;\n        for (var index = 0; index < commentMarkDictionary.length; index++) {\n            if (this.elementsOverlap(commentMarkDictionary.keys[index], topPosition, leftPosition)) {\n                positionOverlap = true;\n                overlapKey = commentMarkDictionary.keys[index];\n                break;\n            }\n        }\n        if (positionOverlap) {\n            var ifNotPresent = true;\n            for (var index = 0; index < commentMarkDictionary.get(overlapKey).length; index++) {\n                if (commentMarkDictionary.get(overlapKey)[index] === this) {\n                    ifNotPresent = false;\n                    break;\n                }\n            }\n            if (ifNotPresent) {\n                commentMarkDictionary.get(overlapKey).push(this);\n            }\n        }\n        else {\n            commentMarkDictionary.add(this.commentMark, [this]);\n        }\n        for (var index = 0; index < commentMarkDictionary.length; index++) {\n            var element = commentMarkDictionary.keys[index];\n            if (commentMarkDictionary.get(element).length == 1) {\n                if (commentMarkDictionary.get(element)[0].commentMark) {\n                    if (commentMarkDictionary.get(element)[0].commentMark.firstElementChild.classList.contains('e-de-multi-cmt-mark')) {\n                        classList(commentMarkDictionary.get(element)[0].commentMark.firstElementChild, ['e-de-cmt-mark-icon'], ['e-de-multi-cmt-mark']);\n                    }\n                    else if (commentMarkDictionary.get(element)[0].commentInternal.isResolved && commentMarkDictionary.get(element)[0].commentMark.firstElementChild.classList.contains('e-de-cmt-mark-icon')) {\n                        classList(commentMarkDictionary.get(element)[0].commentMark.firstElementChild, ['e-de-cmt-resolve-icon'], ['e-de-cmt-mark-icon']);\n                    }\n                    else if (!commentMarkDictionary.get(element)[0].commentInternal.isResolved && commentMarkDictionary.get(element)[0].commentMark.firstElementChild.classList.contains('e-de-cmt-resolve-icon')) {\n                        classList(commentMarkDictionary.get(element)[0].commentMark.firstElementChild, ['e-de-cmt-mark-icon'], ['e-de-cmt-resolve-icon']);\n                    }\n                }\n            }\n            if (commentMarkDictionary.get(element).length > 1) {\n                for (var z = 0; z < commentMarkDictionary.get(element).length; z++) {\n                    var resolve = true;\n                    for (var z_1 = 0; z_1 < commentMarkDictionary.get(element).length; z_1++) {\n                        if (commentMarkDictionary.get(element)[z_1].commentInternal && !commentMarkDictionary.get(element)[z_1].commentInternal.isResolved) {\n                            resolve = false;\n                            break;\n                        }\n                    }\n                    if (commentMarkDictionary.get(element)[z].commentMark) {\n                        if (commentMarkDictionary.get(element)[z].commentMark.firstElementChild.classList.contains('e-de-cmt-mark-icon')) {\n                            classList(commentMarkDictionary.get(element)[z].commentMark.firstElementChild, ['e-de-multi-cmt-mark'], ['e-de-cmt-mark-icon']);\n                        }\n                        else if (!resolve && commentMarkDictionary.get(element)[z].commentMark.firstElementChild.classList.contains('e-de-multi-cmt-resolve')) {\n                            classList(commentMarkDictionary.get(element)[z].commentMark.firstElementChild, ['e-de-multi-cmt-mark'], ['e-de-multi-cmt-resolve']);\n                        }\n                        else if (resolve) {\n                            classList(commentMarkDictionary.get(element)[z].commentMark.firstElementChild, ['e-de-multi-cmt-resolve'], ['e-de-multi-cmt-mark']);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CommentCharacterElementBox.prototype.elementsOverlap = function (elementOne, top, left) {\n        var width = elementOne.offsetWidth;\n        var height = elementOne.offsetHeight;\n        var elementOneTop = parseFloat(elementOne.style.top);\n        var elementOneLeft = parseFloat(elementOne.style.left);\n        var elementOneBottom = elementOneTop + height;\n        var elementOneRight = elementOneLeft + width;\n        var elementTwoTop = parseFloat(top);\n        var elementTwoLeft = parseFloat(left);\n        var elementTwoBottom = elementTwoTop + height;\n        var elementTwoRight = elementTwoLeft + width;\n        return !(elementOneTop > elementTwoBottom ||\n            elementOneRight < elementTwoLeft ||\n            elementOneBottom < elementTwoTop ||\n            elementOneLeft > elementTwoRight);\n    };\n    CommentCharacterElementBox.prototype.selectComment = function () {\n        var documentHelper = this.line.paragraph.bodyWidget.page.documentHelper;\n        var commentMarkDictionary = documentHelper.render.commentMarkDictionary;\n        var topPosition = this.commentMark.style.top;\n        var leftPosition = this.commentMark.style.left;\n        var currentIndex = 0;\n        var navigationArray = [];\n        for (var index = 0; index < commentMarkDictionary.keys.length; index++) {\n            if (this.elementsOverlap(commentMarkDictionary.keys[index], topPosition, leftPosition)) {\n                navigationArray = commentMarkDictionary.get(commentMarkDictionary.keys[index]);\n                break;\n            }\n        }\n        if (!documentHelper.owner.documentHelper.currentSelectedComment) {\n            currentIndex = 0;\n        }\n        else {\n            for (var index = 0; index < navigationArray.length; index++) {\n                if (navigationArray[index].comment === documentHelper.owner.documentHelper.currentSelectedComment) {\n                    currentIndex = index;\n                    break;\n                }\n            }\n            if (currentIndex < (navigationArray.length - 1)) {\n                currentIndex += 1;\n            }\n            else {\n                currentIndex = 0;\n            }\n        }\n        if (documentHelper.owner) {\n            if (!documentHelper.owner.commentReviewPane.commentPane.isEditMode) {\n                documentHelper.selectComment(navigationArray[currentIndex].comment);\n            }\n            else {\n                documentHelper.owner.showComments = true;\n            }\n        }\n    };\n    CommentCharacterElementBox.prototype.removeCommentMark = function () {\n        if (this.commentMark && this.commentMark.parentElement) {\n            this.commentMark.removeEventListener('click', this.selectComment.bind(this));\n            this.commentMark.parentElement.removeChild(this.commentMark);\n        }\n    };\n    CommentCharacterElementBox.prototype.destroy = function () {\n        if (this.commentMark) {\n            this.removeCommentMark();\n        }\n        this.commentMark = undefined;\n        this.commentInternal = undefined;\n        this.commentId = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return CommentCharacterElementBox;\n}(ElementBox));\nexport { CommentCharacterElementBox };\n/**\n * @private\n */\nvar CommentElementBox = /** @class */ (function (_super) {\n    __extends(CommentElementBox, _super);\n    function CommentElementBox(date) {\n        var _this = _super.call(this, 0) || this;\n        _this.authorIn = '';\n        _this.initialIn = '';\n        _this.done = false;\n        _this.textIn = '';\n        _this.isReply = false;\n        _this.ownerComment = undefined;\n        _this.mentionsIn = [];\n        _this.createdDate = date;\n        _this.replyComments = [];\n        return _this;\n    }\n    Object.defineProperty(CommentElementBox.prototype, \"commentStart\", {\n        get: function () {\n            return this.commentStartIn;\n        },\n        set: function (value) {\n            this.commentStartIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommentElementBox.prototype, \"commentEnd\", {\n        get: function () {\n            return this.commentEndIn;\n        },\n        set: function (value) {\n            this.commentEndIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommentElementBox.prototype, \"author\", {\n        get: function () {\n            return this.authorIn;\n        },\n        set: function (value) {\n            this.authorIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommentElementBox.prototype, \"initial\", {\n        get: function () {\n            return this.initialIn;\n        },\n        set: function (value) {\n            this.initialIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommentElementBox.prototype, \"isResolved\", {\n        get: function () {\n            return this.done;\n        },\n        set: function (value) {\n            this.done = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommentElementBox.prototype, \"date\", {\n        get: function () {\n            return this.createdDate;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommentElementBox.prototype, \"text\", {\n        get: function () {\n            return this.textIn;\n        },\n        set: function (value) {\n            this.textIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CommentElementBox.prototype, \"mentions\", {\n        get: function () {\n            return this.mentionsIn;\n        },\n        set: function (value) {\n            this.mentionsIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CommentElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    CommentElementBox.prototype.clone = function () {\n        var comment = new CommentElementBox(this.date);\n        comment.author = this.author;\n        comment.initial = this.initial;\n        comment.commentId = this.commentId;\n        comment.replyComments = this.replyComments;\n        comment.isResolved = this.isResolved;\n        comment.text = this.text;\n        return comment;\n    };\n    CommentElementBox.prototype.destroy = function () {\n        if (this.replyComments && this.replyComments.length > 0) {\n            for (var i = 0; i < this.replyComments.length; i++) {\n                var replyComment = this.replyComments[i];\n                replyComment.destroy();\n            }\n            this.replyComments = [];\n        }\n        this.replyComments = undefined;\n        if (this.commentStartIn) {\n            this.commentStartIn.destroy();\n            this.commentStartIn = undefined;\n        }\n        if (this.commentEndIn) {\n            this.commentEndIn.destroy();\n            this.commentEndIn = undefined;\n        }\n        this.commentId = undefined;\n        this.createdDate = undefined;\n        this.initialIn = undefined;\n        this.textIn = undefined;\n        this.authorIn = undefined;\n        this.ownerComment = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    return CommentElementBox;\n}(CommentCharacterElementBox));\nexport { CommentElementBox };\n/**\n * @private\n */\nvar Page = /** @class */ (function () {\n    /**\n     * Initialize the constructor of Page\n     */\n    function Page(documentHelper) {\n        /**\n         * Specifies the Bonding Rectangle\n         * @private\n         */\n        this.boundingRectangle = new Rect(96, 96, 816, 1056);\n        /**\n         * @private\n         */\n        this.repeatHeaderRowTableWidget = false;\n        /**\n         * Specifies the bodyWidgets\n         * @default []\n         * @private\n         */\n        this.bodyWidgets = [];\n        /**\n         * @private\n         */\n        this.headerWidgetIn = undefined;\n        /**\n         * @private\n         */\n        this.footerWidgetIn = undefined;\n        /**\n         * @private\n         */\n        this.footnoteWidget = undefined;\n        /**\n         * @private\n         */\n        this.endnoteWidget = undefined;\n        /**\n         * @private\n         */\n        this.currentPageNum = 1;\n        /**\n         * @private\n         */\n        this.allowNextPageRendering = true;\n        this.documentHelper = documentHelper;\n        // let text: string = 'DocumentEditor';\n    }\n    Object.defineProperty(Page.prototype, \"headerWidget\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (!isNullOrUndefined(this.headerWidgetIn)) {\n                if (this.headerWidgetIn.parentHeaderFooter) {\n                    return this.headerWidgetIn.parentHeaderFooter;\n                }\n            }\n            return this.headerWidgetIn;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.headerWidgetIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Page.prototype, \"footerWidget\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (!isNullOrUndefined(this.footerWidgetIn)) {\n                if (this.footerWidgetIn.parentHeaderFooter) {\n                    return this.footerWidgetIn.parentHeaderFooter;\n                }\n            }\n            return this.footerWidgetIn;\n        },\n        /**\n         * @private\n         */\n        set: function (value) {\n            this.footerWidgetIn = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Page.prototype, \"index\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.documentHelper) {\n                return this.documentHelper.pages.indexOf(this);\n            }\n            return -1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Page.prototype, \"previousPage\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var index = this.index;\n            if (index > 0) {\n                return this.documentHelper.pages[index - 1];\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Page.prototype, \"nextPage\", {\n        /**\n         * @private\n         */\n        get: function () {\n            var index = this.index;\n            if (index < this.documentHelper.pages.length - 1) {\n                return this.documentHelper.pages[index + 1];\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Page.prototype, \"sectionIndex\", {\n        /**\n         * @private\n         */\n        get: function () {\n            if (this.bodyWidgets.length > 0) {\n                return this.bodyWidgets[0].index;\n            }\n            return -1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Page.prototype, \"viewer\", {\n        get: function () {\n            return this.documentHelper.owner.viewer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Page.prototype.destroy = function () {\n        if (this.headerWidget && this.headerWidget.page === this) {\n            this.headerWidget.page = undefined;\n        }\n        if (this.footerWidget && this.footerWidget.page === this) {\n            this.footerWidget.page = undefined;\n        }\n        if (this.headerWidgetIn && !isNullOrUndefined(this.headerWidgetIn.parentHeaderFooter)) {\n            if (this.viewer && this.documentHelper.owner.editorModule) {\n                this.documentHelper.owner.editorModule.removeFieldInWidget(this.headerWidgetIn);\n                // Remove content control\n                this.documentHelper.owner.editorModule.removeFieldInWidget(this.headerWidgetIn, false, true);\n            }\n            this.headerWidgetIn.destroy();\n            this.headerWidget = undefined;\n        }\n        if (this.footerWidgetIn && !isNullOrUndefined(this.footerWidgetIn.parentHeaderFooter)) {\n            if (this.viewer && this.documentHelper.owner.editorModule) {\n                this.documentHelper.owner.editorModule.removeFieldInWidget(this.footerWidgetIn);\n                // Remove content control\n                this.documentHelper.owner.editorModule.removeFieldInWidget(this.footerWidgetIn, false, true);\n            }\n            this.footerWidgetIn.destroy();\n            this.footerWidgetIn = undefined;\n        }\n        this.bodyWidgets = [];\n        this.bodyWidgets = undefined;\n        if (!isNullOrUndefined(this.documentHelper)) {\n            if (!isNullOrUndefined(this.documentHelper.pages)) {\n                this.documentHelper.removePage(this);\n            }\n        }\n        this.documentHelper = undefined;\n    };\n    /**\n     * Disposes the internal objects which are maintained.\n     * @private\n     */\n    Page.prototype.componentDestroy = function () {\n        if (this.headerWidgetIn) {\n            this.headerWidgetIn.componentDestroy();\n            this.headerWidgetIn = undefined;\n        }\n        if (this.footerWidgetIn) {\n            this.footerWidgetIn.componentDestroy();\n            this.footerWidgetIn = undefined;\n        }\n        if (this.bodyWidgets) {\n            for (var i = 0; i < this.bodyWidgets.length; i++) {\n                var bodyWidget = this.bodyWidgets[i];\n                bodyWidget.componentDestroy();\n            }\n            this.bodyWidgets = [];\n            this.bodyWidgets = undefined;\n        }\n        this.documentHelper = undefined;\n    };\n    return Page;\n}());\nexport { Page };\n/**\n * @private\n */\nvar WTableHolder = /** @class */ (function () {\n    function WTableHolder() {\n        this.tableColumns = [];\n        /**\n         * @private\n         */\n        this.tableWidth = 0;\n    }\n    Object.defineProperty(WTableHolder.prototype, \"columns\", {\n        get: function () {\n            return this.tableColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @private\n     */\n    WTableHolder.prototype.resetColumns = function () {\n        for (var i = 0; i < this.tableColumns.length; i++) {\n            this.tableColumns[i].destroy();\n        }\n        this.tableColumns = [];\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.getPreviousSpannedCellWidth = function (previousColumnIndex, curColumnIndex) {\n        var width = 0;\n        for (var i = previousColumnIndex; i < curColumnIndex; i++) {\n            width += this.tableColumns[i].preferredWidth;\n        }\n        return width;\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.addColumns = function (currentColumnIndex, columnSpan, width, sizeInfo, offset, preferredWidthType) {\n        for (var i = this.columns.length; i < columnSpan; i++) {\n            this.columns.push(new WColumn());\n        }\n        var availableWidth = 0;\n        for (var j = currentColumnIndex; j < columnSpan; j++) {\n            availableWidth += this.columns[j].preferredWidth;\n        }\n        // If width to add is greater than preferred width, then preferred width will be increased.\n        // In case of Grid span > 1, only last grid column width will be updated.\n        var gridSpan = columnSpan - currentColumnIndex;\n        if (!(gridSpan > 1) && availableWidth < width) {\n            this.columns[columnSpan - 1].preferredWidth += (width - availableWidth);\n        }\n        if (sizeInfo.minimumWordWidth > this.columns[columnSpan - 1].minimumWordWidth) {\n            this.columns[columnSpan - 1].minimumWordWidth = sizeInfo.minimumWordWidth;\n        }\n        if (sizeInfo.maximumWordWidth > this.columns[columnSpan - 1].maximumWordWidth) {\n            this.columns[columnSpan - 1].maximumWordWidth = sizeInfo.maximumWordWidth;\n        }\n        if (sizeInfo.minimumWidth > this.columns[columnSpan - 1].minimumWidth) {\n            this.columns[columnSpan - 1].minimumWidth = sizeInfo.minimumWidth;\n        }\n        if (offset > this.columns[columnSpan - 1].endOffset) {\n            this.columns[columnSpan - 1].endOffset = offset;\n        }\n        this.columns[columnSpan - 1].widthType = preferredWidthType;\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.getTotalWidth = function (type) {\n        var width = 0;\n        for (var i = 0; i < this.columns.length; i++) {\n            var column = this.columns[i];\n            width += type === 0 ? column.preferredWidth :\n                type === 1 ? column.minimumWordWidth :\n                    type === 2 ? column.maximumWordWidth : column.minimumWidth;\n        }\n        return width;\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.isFitColumns = function (containerWidth, preferredTableWidth, isAutoWidth) {\n        // Gets total preferred width.\n        var totalColumnWidth = this.getTotalWidth(0);\n        // If auto table width, based on total column widths, minimum value will be updated.\n        if (isAutoWidth) {\n            this.tableWidth = preferredTableWidth > totalColumnWidth ? totalColumnWidth : preferredTableWidth;\n        }\n        else {\n            this.tableWidth = preferredTableWidth;\n        }\n        // If total columns width doesn't match table width, then all grid column widths will be updated by even factor.\n        // If totalColumnWidth < TableWidth, all grid columns are enlarged. Otherwise shrinked.\n        if (totalColumnWidth !== this.tableWidth) {\n            var factor = this.tableWidth / totalColumnWidth;\n            factor = isNaN(factor) || factor === Infinity ? 1 : factor;\n            for (var i = 0; i < this.columns.length; i++) {\n                var column = this.columns[i];\n                //column.PreferredWidth = factor * column.PreferredWidth;\n                if (factor * column.preferredWidth < column.minWidth) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.isAllColumnHasPointWidthType = function () {\n        var isPointWidthType = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i].widthType != 'Point') {\n                isPointWidthType = false;\n            }\n        }\n        return isPointWidthType;\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.autoFitColumn = function (containerWidth, preferredTableWidth, isAuto, isNestedTable, isAutoFit, hasSpannedCells, indent, pageContainerWidth) {\n        // Cell's preferred width should be considered until the table width fits to the container width.\n        var maxTotal = 0;\n        var minTotal = 0;\n        // For preferred width set as 0 pixels (not auto), then minimum word width only need to be considered.\n        // But currently there is no way to find any one of cell in particular column has 0 px preferred width set.\n        // If all columns are set as 0 pixels, then this will work.\n        var remainingWidthTotal = 0;\n        var isAllColumnPointWidth = true;\n        var minWidthExceedCellWidth = 0;\n        var columnIndexCollection = [];\n        for (var i = 0; i < this.columns.length; i++) {\n            var column = this.columns[i];\n            // If preferred width of column is less than column minimum width and also column is empty, considered column preferred width\n            if (column.minimumWordWidth === 0 && column.maximumWordWidth === 0 && column.minWidth === 0) {\n                column.minimumWordWidth = column.preferredWidth;\n                column.maximumWordWidth = column.preferredWidth;\n                column.minWidth = column.preferredWidth;\n            }\n            if (column.widthType !== 'Point') {\n                isAllColumnPointWidth = false;\n            }\n            var difference = 0;\n            maxTotal += column.preferredWidth > column.maximumWordWidth ? column.preferredWidth : column.maximumWordWidth;\n            minTotal += column.preferredWidth > column.minimumWordWidth ? column.preferredWidth : column.minimumWordWidth;\n            var preferred = column.preferredWidth === 0 ? column.minimumWordWidth : column.preferredWidth > column.minimumWordWidth ? column.preferredWidth : column.minimumWordWidth;\n            difference = column.maximumWordWidth - preferred;\n            remainingWidthTotal += difference > 0 ? difference : 0;\n            if (column.preferredWidth < column.minimumWordWidth) {\n                minWidthExceedCellWidth += column.minimumWordWidth - column.preferredWidth;\n            }\n            else {\n                columnIndexCollection.push(i);\n            }\n        }\n        // Try to fit maximum word width to match preferredTableWidth.\n        if (maxTotal <= preferredTableWidth) {\n            for (var i = 0; i < this.columns.length; i++) {\n                var column = this.columns[i];\n                if (column.widthType === 'Point') {\n                    if (column.preferredWidth < column.minimumWordWidth) {\n                        column.preferredWidth = column.minimumWordWidth;\n                    }\n                    continue;\n                }\n                if (column.preferredWidth < column.maximumWordWidth) {\n                    // if (isNestedTable) {\n                    //     column.preferredWidth = column.minimumWidth + column.minimumWordWidth;\n                    // } else {\n                    column.preferredWidth = column.maximumWordWidth;\n                    //}\n                }\n            }\n            // If the width is defined for table(cells undefined) then fit the columns to preferred table width using FitColumns.\n            if (!isAuto) {\n                this.fitColumns(containerWidth, preferredTableWidth, isAuto, isAutoFit);\n            }\n        }\n        else {\n            var totalPreferredWidth = this.getTotalWidth(0);\n            if (isAllColumnPointWidth && !hasSpannedCells) {\n                if (minTotal > containerWidth) {\n                    if (containerWidth > totalPreferredWidth) {\n                        minWidthExceedCellWidth -= (containerWidth - (totalPreferredWidth));\n                    }\n                    if (columnIndexCollection.length > 0 && minWidthExceedCellWidth > 0) {\n                        var averageWidth = minWidthExceedCellWidth / columnIndexCollection.length;\n                        for (var i = 0; i < this.columns.length; i++) {\n                            var column = this.columns[i];\n                            if (columnIndexCollection.indexOf(i) === -1) {\n                                column.preferredWidth = column.minimumWordWidth;\n                            }\n                            else {\n                                column.preferredWidth = (column.preferredWidth - averageWidth);\n                            }\n                        }\n                        totalPreferredWidth = this.getTotalWidth(0);\n                    }\n                }\n            }\n            // If the table preferred table width is set, then check its greater than total minimum word width. \n            // If yes then set table preferred table width as container width. Else, check whether the total minimum word width is less than container width.\n            // If yes, then set total minimum word width as container width. Else, set the container width to container width.\n            if (!isAuto) {\n                //let totalMinimumWordWidth: number = this.getTotalWidth(1);\n                //if (preferredTableWidth > totalMinimumWordWidth && totalMinimumWordWidth < containerWidth) {\n                var considerMinAsTableWidth = false;\n                if ((preferredTableWidth < minTotal && minTotal + (isNullOrUndefined(indent) ? 0 : indent) < containerWidth)) {\n                    considerMinAsTableWidth = true;\n                }\n                this.fitColumns(containerWidth, considerMinAsTableWidth ? minTotal : preferredTableWidth, isAuto, isAutoFit);\n                return;\n                //}\n                //containerWidth = preferredTableWidth < totalMinimumWordWidth ? totalMinimumWordWidth < containerWidth ? totalMinimumWordWidth : containerWidth : preferredTableWidth;\n            }\n            // Try to fit minimum word width to match preferredTableWidth or containerWidth.\n            if (minTotal <= preferredTableWidth || minTotal <= containerWidth) {\n                var availableWidth = containerWidth > preferredTableWidth ? containerWidth : preferredTableWidth;\n                availableWidth = availableWidth - minTotal;\n                for (var i = 0; i < this.columns.length; i++) {\n                    var column = this.columns[i];\n                    if (column.widthType === 'Point') {\n                        continue;\n                    }\n                    if (column.preferredWidth === 0) {\n                        column.preferredWidth = column.minimumWordWidth;\n                    }\n                    else {\n                        if (column.preferredWidth < column.minimumWordWidth) {\n                            column.preferredWidth = column.minimumWordWidth;\n                        }\n                    }\n                    var difference = column.maximumWordWidth - column.preferredWidth;\n                    difference = difference > 0 ? difference : 0;\n                    var factor = availableWidth * (difference / remainingWidthTotal);\n                    column.preferredWidth += isNaN(factor) ? 0 : factor;\n                }\n            }\n            else {\n                // Try to fit minimum width for each column and allot remaining space to columns based on their minimum word width.\n                var totalMinimumWordWidth = this.getTotalWidth(1);\n                var totalMinWidth = this.getTotalWidth(3);\n                if (totalMinWidth > 2112) {\n                    var cellWidth = 2112 / this.columns.length;\n                    for (var i = 0; i < this.columns.length; i++) {\n                        this.columns[i].preferredWidth = cellWidth;\n                    }\n                }\n                else {\n                    var availableWidth = 0;\n                    if (((totalMinWidth < containerWidth) && ((containerWidth - totalMinWidth) >= 1) && !isAllColumnPointWidth)\n                        || (isAllColumnPointWidth && !hasSpannedCells && totalMinimumWordWidth > containerWidth)) {\n                        availableWidth = containerWidth - totalMinWidth;\n                        for (var i = 0; i < this.columns.length; i++) {\n                            var column = this.columns[i];\n                            // The factor depends of current column's minimum word width and total minimum word width.\n                            var factor = availableWidth * column.minimumWordWidth / totalMinimumWordWidth;\n                            factor = isNaN(factor) ? 0 : factor;\n                            column.preferredWidth = (column.minimumWidth == 0 ? 1 : column.minimumWidth) + factor;\n                        }\n                        // table width exceeds container width\n                    }\n                    else if (totalPreferredWidth > containerWidth) {\n                        var factor = containerWidth / totalPreferredWidth;\n                        for (var i = 0; i < this.columns.length; i++) {\n                            var column = this.columns[i];\n                            column.preferredWidth = column.preferredWidth * factor;\n                        }\n                    }\n                }\n            }\n        }\n        this.tableWidth = this.getTotalWidth(0);\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.getValidColumnIndex = function (index) {\n        var endOffset = 0;\n        for (var i = 0; i < this.columns.length; i++) {\n            var column = this.columns[i];\n            if (i < index) {\n                endOffset = column.endOffset;\n            }\n            else if (endOffset === column.endOffset) {\n                //Increment the columnIndex if next column has zero width.\n                index++;\n            }\n            else {\n                break;\n            }\n        }\n        return index;\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.fitColumns = function (containerWidth, preferredTableWidth, isAutoWidth, isAutoFit, indent) {\n        if (isNullOrUndefined(indent)) {\n            indent = 0;\n        }\n        // Gets total preferred width.\n        var totalColumnWidth = this.getTotalWidth(0);\n        // Neglected left indent value, because in preferred table width left indent value is neglected\n        if (isAutoWidth) {\n            totalColumnWidth -= indent;\n        }\n        // If auto table width, based on total column widths, minimum value will be updated.\n        if (isAutoWidth) {\n            this.tableWidth = totalColumnWidth;\n        }\n        else {\n            this.tableWidth = preferredTableWidth;\n        }\n        // If total columns width doesn't match table width, then all grid column widths will be updated by even factor.\n        // If totalColumnWidth < TableWidth, all grid columns are enlarged. Otherwise shrinked.\n        if (totalColumnWidth !== this.tableWidth) {\n            var factor = this.tableWidth / totalColumnWidth;\n            factor = isNaN(factor) || factor === Infinity ? 1 : factor;\n            for (var i = 0; i < this.columns.length; i++) {\n                var column = this.columns[i];\n                if (column.widthType === 'Percent' && !isAutoWidth && !isAutoFit && totalColumnWidth > this.tableWidth) {\n                    if (i !== 0 && column.endOffset > this.tableWidth) {\n                        var totalCellWidth = this.getCellWidth(0, i + 1, preferredTableWidth);\n                        if (totalCellWidth > this.tableWidth) {\n                            column.preferredWidth -= (totalCellWidth - this.tableWidth);\n                            if (column.preferredWidth === 0 || column.preferredWidth < column.minimumWidth) {\n                                column.preferredWidth = column.minimumWidth > 0 ? column.minimumWidth : 1;\n                                this.columns[0].preferredWidth -= column.preferredWidth;\n                            }\n                        }\n                    }\n                }\n                else {\n                    column.preferredWidth = factor * column.preferredWidth;\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.getCellWidth = function (columnIndex, columnSpan, preferredTableWidth) {\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.tableColumns[i + columnIndex].preferredWidth;\n        }\n        return width;\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.validateColumnWidths = function () {\n        for (var i = 0; i < this.columns.length; i++) {\n            if (i === 0) {\n                if (this.columns[i].preferredWidth !== this.columns[i].endOffset) {\n                    this.columns[i].preferredWidth = this.columns[i].endOffset;\n                }\n            }\n            else {\n                // If Previous column offset + current column preferred width is less than current column offset, \n                // Then current column preferred width is set to current column offset - previous column offset.\n                if (this.columns[i - 1].endOffset + this.columns[i].preferredWidth < this.columns[i].endOffset) {\n                    if (this.columns[i - 1].endOffset === 0) {\n                        this.columns[i].preferredWidth = this.columns[i].endOffset - this.getPreviousValidOffset(i - 2);\n                    }\n                    else {\n                        this.columns[i].preferredWidth = this.columns[i].endOffset - this.columns[i - 1].endOffset;\n                    }\n                }\n            }\n        }\n    };\n    WTableHolder.prototype.getPreviousValidOffset = function (columnIndex) {\n        for (var j = columnIndex; j >= 0; j--) {\n            if (this.columns[j].endOffset !== 0) {\n                return this.columns[j].endOffset;\n            }\n        }\n        return 0;\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.clone = function () {\n        var tableHolder = new WTableHolder();\n        tableHolder.tableWidth = this.tableWidth;\n        for (var i = 0; i < this.columns.length; i++) {\n            tableHolder.columns.push(this.columns[i].clone());\n        }\n        return tableHolder;\n    };\n    /**\n     * @private\n     */\n    WTableHolder.prototype.destroy = function () {\n        if (!isNullOrUndefined(this.tableColumns)) {\n            for (var i = 0; i < this.tableColumns.length; i++) {\n                var column = this.tableColumns[i];\n                column.destroy();\n            }\n        }\n        this.tableColumns = [];\n        this.tableColumns = undefined;\n        this.tableWidth = undefined;\n    };\n    return WTableHolder;\n}());\nexport { WTableHolder };\n/**\n * @private\n */\nvar WColumn = /** @class */ (function () {\n    function WColumn() {\n        /**\n         * @private\n         */\n        this.preferredWidth = 0;\n        /**\n         * @private\n         */\n        this.minWidth = 0;\n        /**\n         * @private\n         */\n        this.maxWidth = 0;\n        /**\n         * @private\n         */\n        this.endOffset = 0;\n        /**\n         * @private\n         */\n        this.minimumWordWidth = 0;\n        /**\n         * @private\n         */\n        this.maximumWordWidth = 0;\n        /**\n         * @private\n         */\n        this.minimumWidth = 0;\n    }\n    /**\n     * @private\n     */\n    WColumn.prototype.clone = function () {\n        var column = new WColumn();\n        column.preferredWidth = this.preferredWidth;\n        column.minWidth = this.minWidth;\n        column.maxWidth = this.maxWidth;\n        return column;\n    };\n    /**\n     * @private\n     */\n    WColumn.prototype.destroy = function () {\n        this.preferredWidth = undefined;\n        this.minWidth = undefined;\n        this.maxWidth = undefined;\n    };\n    return WColumn;\n}());\nexport { WColumn };\n/**\n * @private\n */\nvar ColumnSizeInfo = /** @class */ (function () {\n    function ColumnSizeInfo() {\n        /**\n         * @private\n         */\n        this.minimumWordWidth = 0;\n        /**\n         * @private\n         */\n        this.maximumWordWidth = 0;\n        /**\n         * @private\n         */\n        this.minimumWidth = 0;\n        /**\n         * @private\n         */\n        this.hasMinimumWidth = false;\n        /**\n         * @private\n         */\n        this.hasMinimumWordWidth = false;\n        /**\n         * @private\n         */\n        this.hasMaximumWordWidth = false;\n    }\n    return ColumnSizeInfo;\n}());\nexport { ColumnSizeInfo };\n/**\n * @private\n */\nvar CommentEditInfo = /** @class */ (function () {\n    function CommentEditInfo() {\n    }\n    return CommentEditInfo;\n}());\nexport { CommentEditInfo };\n/**\n * @private\n */\nvar BreakElementBox = /** @class */ (function (_super) {\n    __extends(BreakElementBox, _super);\n    function BreakElementBox() {\n        return _super.call(this) || this;\n    }\n    /**\n     * @private\n     */\n    BreakElementBox.prototype.clone = function () {\n        var breakElement = _super.prototype.clone.call(this);\n        breakElement.breakClearType = this.breakClearType;\n        return breakElement;\n    };\n    /*\n    * @Private\n    */\n    BreakElementBox.prototype.destroy = function () {\n        this.breakClearType = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /*\n    * @Private\n    */\n    BreakElementBox.prototype.componentDestroy = function () {\n        this.breakClearType = undefined;\n        _super.prototype.componentDestroy.call(this);\n    };\n    return BreakElementBox;\n}(TextElementBox));\nexport { BreakElementBox };\n/**\n * @private\n */\nvar TabStopListInfo = /** @class */ (function () {\n    function TabStopListInfo() {\n    }\n    return TabStopListInfo;\n}());\nexport { TabStopListInfo };\n/**\n * @private\n */\nvar FootnoteEndnoteMarkerElementBox = /** @class */ (function (_super) {\n    __extends(FootnoteEndnoteMarkerElementBox, _super);\n    function FootnoteEndnoteMarkerElementBox() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @private\n     */\n    FootnoteEndnoteMarkerElementBox.prototype.getLength = function () {\n        return 1;\n    };\n    /**\n     * @private\n     */\n    FootnoteEndnoteMarkerElementBox.prototype.clone = function () {\n        return _super.prototype.clone.call(this);\n    };\n    return FootnoteEndnoteMarkerElementBox;\n}(TextElementBox));\nexport { FootnoteEndnoteMarkerElementBox };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}