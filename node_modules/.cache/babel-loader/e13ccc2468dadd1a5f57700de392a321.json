{"ast":null,"code":"var _jsxFileName = \"/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/shared/Highlight.js\";\nimport React, { useState, useEffect } from \"react\";\nimport processMd from \"../Dashboard/markdown\";\nimport axios from \"axios\";\n\nconst updateHash = highlight => {\n  document.location.hash = `highlight-${highlight.id}`;\n};\n\nfunction Highlight(props) {\n  const [state, setState] = useState({\n    highlights: []\n  });\n  const [PdfUrl, setPdfUrl] = useState({\n    url: \"\"\n  });\n  useEffect(() => {\n    async function fetchData() {\n      const result_json = await axios(\"http://127.0.0.1:8000/api/v1/json\");\n      const pdf_name = Object.keys(result_json.data)[0];\n      setPdfUrl({\n        url: `http://127.0.0.1:8000/api/v1/pdf/${pdf_name}`\n      });\n      setState({\n        highlights: result_json.data[pdf_name]\n      });\n    }\n\n    fetchData();\n  }, []);\n\n  const deleteHighlight = index => {\n    const highlights = state.highlights.filter((highlight, idx) => index !== idx ? highlight : null);\n    setState({\n      highlights\n    });\n  };\n\n  const {\n    highlights\n  } = state;\n\n  const resetHighlights = () => {\n    setState({\n      highlights: []\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebarnew\",\n    style: {\n      width: \"25vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      marginBottom: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, \"Highlights\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }\n  }, \"To create area highlight hold \\u2325 Option key (Alt), then click and drag.\"))), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"sidebar__highlights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }, highlights.map((highlight, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    className: \"sidebar__highlight\",\n    onClick: () => {\n      updateHash(highlight);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"4px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      float: \"right\"\n    },\n    onClick: () => deleteHighlight(index),\n    className: \"sidebar__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      float: \"right\",\n      marginRight: \"5px\"\n    },\n    onClick: event => {\n      event.stopPropagation();\n      props.onSendToEditor(highlight); // Assuming this function is passed as a prop\n    },\n    className: \"sidebar__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-send\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), \" \")), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 8\n    }\n  }, processMd(highlight.comment.text)), highlight.content.text ? /*#__PURE__*/React.createElement(\"blockquote\", {\n    style: {\n      marginTop: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, `${highlight.content.text.slice(0, 90).trim()}…`) : null, highlight.content.image ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight__image\",\n    style: {\n      marginTop: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: highlight.content.image,\n    alt: \"Screenshot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 10\n    }\n  })) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"highlight__location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"Page \", highlight.position.pageNumber)))), highlights.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: resetHighlights,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 6\n    }\n  }, \"Reset highlights\")) : null);\n}\n\nexport default Highlight;","map":{"version":3,"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/src/shared/Highlight.js"],"names":["React","useState","useEffect","processMd","axios","updateHash","highlight","document","location","hash","id","Highlight","props","state","setState","highlights","PdfUrl","setPdfUrl","url","fetchData","result_json","pdf_name","Object","keys","data","deleteHighlight","index","filter","idx","resetHighlights","width","padding","marginBottom","map","float","marginRight","event","stopPropagation","onSendToEditor","comment","text","content","marginTop","slice","trim","image","position","pageNumber","length"],"mappings":"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","sourcesContent":["// @flow\r\nimport React, { useState, useEffect } from \"react\";\r\nimport processMd from \"../Dashboard/markdown\";\r\nimport axios from \"axios\";\r\n\r\nconst updateHash = (highlight) => {\r\n\tdocument.location.hash = `highlight-${highlight.id}`;\r\n};\r\n\r\nfunction Highlight(props) {\r\n\tconst [state, setState] = useState({ highlights: [] });\r\n\tconst [PdfUrl, setPdfUrl] = useState({ url: \"\" });\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchData() {\r\n\t\t\tconst result_json = await axios(\"http://127.0.0.1:8000/api/v1/json\");\r\n\t\t\tconst pdf_name = Object.keys(result_json.data)[0];\r\n\t\t\tsetPdfUrl({ url: `http://127.0.0.1:8000/api/v1/pdf/${pdf_name}` });\r\n\t\t\tsetState({ highlights: result_json.data[pdf_name] });\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tconst deleteHighlight = (index) => {\r\n\t\tconst highlights = state.highlights.filter((highlight, idx) => (\r\n\t\t\tindex !== idx ? highlight : null\r\n\t\t));\r\n\t\tsetState({ highlights });\r\n\t};\r\n\r\n\tconst { highlights } = state;\r\n\r\n\tconst resetHighlights = () => {\r\n\t\tsetState({\r\n\t\t\thighlights: [],\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"sidebarnew\" style={{ width: \"25vw\" }}>\r\n\t\t\t{/*  */}\r\n\t\t\t<div className=\"description\" style={{ padding: \"1rem\" }}>\r\n\t\t\t\t<h2 style={{ marginBottom: \"1rem\" }}>Highlights</h2>\r\n\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\tTo create area highlight hold ⌥ Option key (Alt), then click and\r\n\t\t\t\t\t\tdrag.\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<ul className=\"sidebar__highlights\">\r\n\t\t\t\t{highlights.map((highlight, index) => (\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\tclassName=\"sidebar__highlight\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tupdateHash(highlight);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div style={{ padding: \"4px\" }}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tstyle={{ float: \"right\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => deleteHighlight(index)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"sidebar__btn\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-close\"></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tstyle={{ float: \"right\", marginRight: \"5px\" }}\r\n\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\tprops.onSendToEditor(highlight); // Assuming this function is passed as a prop\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"sidebar__btn\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-send\"></i> {/* Assuming you're using FontAwesome icons */}\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<strong>{processMd(highlight.comment.text)}</strong>\r\n\t\t\t\t\t\t\t{highlight.content.text ? (\r\n\t\t\t\t\t\t\t\t<blockquote style={{ marginTop: \"0.5rem\" }}>\r\n\t\t\t\t\t\t\t\t\t{`${highlight.content.text.slice(0, 90).trim()}…`}\r\n\t\t\t\t\t\t\t\t</blockquote>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{highlight.content.image ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"highlight__image\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginTop: \"0.5rem\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img src={highlight.content.image} alt={\"Screenshot\"} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"highlight__location\">\r\n\t\t\t\t\t\t\tPage {highlight.position.pageNumber}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t\t{highlights.length > 0 ? (\r\n\t\t\t\t<div style={{ padding: \"1rem\" }}>\r\n\t\t\t\t\t<button onClick={resetHighlights}>Reset highlights</button>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Highlight;\r\n"]},"metadata":{},"sourceType":"module"}