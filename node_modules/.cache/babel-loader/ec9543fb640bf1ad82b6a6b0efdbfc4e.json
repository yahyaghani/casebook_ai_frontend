{"ast":null,"code":"/**\n * ArabicShapeRenderer.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../../../collections/dictionary';\nvar ArabicShapeRenderer = /** @class */function () {\n  //#endregion\n  //#region Constructor\n  function ArabicShapeRenderer() {\n    //#region Constants\n    this.arabicCharTable = [['\\u0621', '\\uFE80'], ['\\u0622', '\\uFE81', '\\uFE82'], ['\\u0623', '\\uFE83', '\\uFE84'], ['\\u0624', '\\uFE85', '\\uFE86'], ['\\u0625', '\\uFE87', '\\uFE88'], ['\\u0626', '\\uFE89', '\\uFE8A', '\\uFE8B', '\\uFE8C'], ['\\u0627', '\\uFE8D', '\\uFE8E'], ['\\u0628', '\\uFE8F', '\\uFE90', '\\uFE91', '\\uFE92'], ['\\u0629', '\\uFE93', '\\uFE94'], ['\\u062A', '\\uFE95', '\\uFE96', '\\uFE97', '\\uFE98'], ['\\u062B', '\\uFE99', '\\uFE9A', '\\uFE9B', '\\uFE9C'], ['\\u062C', '\\uFE9D', '\\uFE9E', '\\uFE9F', '\\uFEA0'], ['\\u062D', '\\uFEA1', '\\uFEA2', '\\uFEA3', '\\uFEA4'], ['\\u062E', '\\uFEA5', '\\uFEA6', '\\uFEA7', '\\uFEA8'], ['\\u062F', '\\uFEA9', '\\uFEAA'], ['\\u0630', '\\uFEAB', '\\uFEAC'], ['\\u0631', '\\uFEAD', '\\uFEAE'], ['\\u0632', '\\uFEAF', '\\uFEB0'], ['\\u0633', '\\uFEB1', '\\uFEB2', '\\uFEB3', '\\uFEB4'], ['\\u0634', '\\uFEB5', '\\uFEB6', '\\uFEB7', '\\uFEB8'], ['\\u0635', '\\uFEB9', '\\uFEBA', '\\uFEBB', '\\uFEBC'], ['\\u0636', '\\uFEBD', '\\uFEBE', '\\uFEBF', '\\uFEC0'], ['\\u0637', '\\uFEC1', '\\uFEC2', '\\uFEC3', '\\uFEC4'], ['\\u0638', '\\uFEC5', '\\uFEC6', '\\uFEC7', '\\uFEC8'], ['\\u0639', '\\uFEC9', '\\uFECA', '\\uFECB', '\\uFECC'], ['\\u063A', '\\uFECD', '\\uFECE', '\\uFECF', '\\uFED0'], ['\\u0640', '\\u0640', '\\u0640', '\\u0640', '\\u0640'], ['\\u0641', '\\uFED1', '\\uFED2', '\\uFED3', '\\uFED4'], ['\\u0642', '\\uFED5', '\\uFED6', '\\uFED7', '\\uFED8'], ['\\u0643', '\\uFED9', '\\uFEDA', '\\uFEDB', '\\uFEDC'], ['\\u0644', '\\uFEDD', '\\uFEDE', '\\uFEDF', '\\uFEE0'], ['\\u0645', '\\uFEE1', '\\uFEE2', '\\uFEE3', '\\uFEE4'], ['\\u0646', '\\uFEE5', '\\uFEE6', '\\uFEE7', '\\uFEE8'], ['\\u0647', '\\uFEE9', '\\uFEEA', '\\uFEEB', '\\uFEEC'], ['\\u0648', '\\uFEED', '\\uFEEE'], ['\\u0649', '\\uFEEF', '\\uFEF0', '\\uFBE8', '\\uFBE9'], ['\\u064A', '\\uFEF1', '\\uFEF2', '\\uFEF3', '\\uFEF4'], ['\\u0671', '\\uFB50', '\\uFB51'], ['\\u0679', '\\uFB66', '\\uFB67', '\\uFB68', '\\uFB69'], ['\\u067A', '\\uFB5E', '\\uFB5F', '\\uFB60', '\\uFB61'], ['\\u067B', '\\uFB52', '\\uFB53', '\\uFB54', '\\uFB55'], ['\\u067E', '\\uFB56', '\\uFB57', '\\uFB58', '\\uFB59'], ['\\u067F', '\\uFB62', '\\uFB63', '\\uFB64', '\\uFB65'], ['\\u0680', '\\uFB5A', '\\uFB5B', '\\uFB5C', '\\uFB5D'], ['\\u0683', '\\uFB76', '\\uFB77', '\\uFB78', '\\uFB79'], ['\\u0684', '\\uFB72', '\\uFB73', '\\uFB74', '\\uFB75'], ['\\u0686', '\\uFB7A', '\\uFB7B', '\\uFB7C', '\\uFB7D'], ['\\u0687', '\\uFB7E', '\\uFB7F', '\\uFB80', '\\uFB81'], ['\\u0688', '\\uFB88', '\\uFB89'], ['\\u068C', '\\uFB84', '\\uFB85'], ['\\u068D', '\\uFB82', '\\uFB83'], ['\\u068E', '\\uFB86', '\\uFB87'], ['\\u0691', '\\uFB8C', '\\uFB8D'], ['\\u0698', '\\uFB8A', '\\uFB8B'], ['\\u06A4', '\\uFB6A', '\\uFB6B', '\\uFB6C', '\\uFB6D'], ['\\u06A6', '\\uFB6E', '\\uFB6F', '\\uFB70', '\\uFB71'], ['\\u06A9', '\\uFB8E', '\\uFB8F', '\\uFB90', '\\uFB91'], ['\\u06AD', '\\uFBD3', '\\uFBD4', '\\uFBD5', '\\uFBD6'], ['\\u06AF', '\\uFB92', '\\uFB93', '\\uFB94', '\\uFB95'], ['\\u06B1', '\\uFB9A', '\\uFB9B', '\\uFB9C', '\\uFB9D'], ['\\u06B3', '\\uFB96', '\\uFB97', '\\uFB98', '\\uFB99'], ['\\u06BA', '\\uFB9E', '\\uFB9F'], ['\\u06BB', '\\uFBA0', '\\uFBA1', '\\uFBA2', '\\uFBA3'], ['\\u06BE', '\\uFBAA', '\\uFBAB', '\\uFBAC', '\\uFBAD'], ['\\u06C0', '\\uFBA4', '\\uFBA5'], ['\\u06C1', '\\uFBA6', '\\uFBA7', '\\uFBA8', '\\uFBA9'], ['\\u06C5', '\\uFBE0', '\\uFBE1'], ['\\u06C6', '\\uFBD9', '\\uFBDA'], ['\\u06C7', '\\uFBD7', '\\uFBD8'], ['\\u06C8', '\\uFBDB', '\\uFBDC'], ['\\u06C9', '\\uFBE2', '\\uFBE3'], ['\\u06CB', '\\uFBDE', '\\uFBDF'], ['\\u06CC', '\\uFBFC', '\\uFBFD', '\\uFBFE', '\\uFBFF'], ['\\u06D0', '\\uFBE4', '\\uFBE5', '\\uFBE6', '\\uFBE7'], ['\\u06D2', '\\uFBAE', '\\uFBAF'], ['\\u06D3', '\\uFBB0', '\\uFBB1']];\n    this.alef = '\\u0627';\n    this.alefHamza = '\\u0623';\n    this.alefHamzaBelow = '\\u0625';\n    this.alefMadda = '\\u0622';\n    this.lam = '\\u0644';\n    this.hamza = '\\u0621';\n    this.zeroWidthJoiner = '\\u200D';\n    this.hamzaAbove = '\\u0654';\n    this.hamzaBelow = '\\u0655';\n    this.wawHamza = '\\u0624';\n    this.yehHamza = '\\u0626';\n    this.waw = '\\u0648';\n    this.alefMaksura = '\\u0649';\n    this.yeh = '\\u064A';\n    this.farsiYeh = '\\u06CC';\n    this.shadda = '\\u0651';\n    this.madda = '\\u0653';\n    this.lwa = '\\uFEFB';\n    this.lwawh = '\\uFEF7';\n    this.lwawhb = '\\uFEF9';\n    this.lwawm = '\\uFEF5';\n    this.bwhb = '\\u06D3';\n    this.fathatan = '\\u064B';\n    this.superScriptalef = '\\u0670';\n    this.vowel = 0x1;\n    // #endregion\n    //#region Fields\n    this.arabicMapTable = new Dictionary();\n    for (var i = 0; i < this.arabicCharTable.length; i++) {\n      this.arabicMapTable.setValue(this.arabicCharTable[i][0], this.arabicCharTable[i]);\n    }\n  }\n  //#endregion\n  //#region implementation\n  ArabicShapeRenderer.prototype.getCharacterShape = function (input, index) {\n    if (input >= this.hamza && input <= this.bwhb) {\n      var value = [];\n      if (this.arabicMapTable.getValue(input)) {\n        value = this.arabicMapTable.getValue(input);\n        return value[index + 1];\n      }\n    } else if (input >= this.lwawm && input <= this.lwa) {\n      return input;\n    }\n    return input;\n  };\n  ArabicShapeRenderer.prototype.shape = function (text, level) {\n    var builder = '';\n    var str2 = '';\n    for (var i = 0; i < text.length; i++) {\n      var c = text[i];\n      if (c >= '؀' && c <= 'ۿ') {\n        //if(c>= 0x0600.toString() && c<= 0x06FF.toString()) {\n        str2 = str2 + c;\n      } else {\n        if (str2.length > 0) {\n          var st = this.doShape(str2.toString(), 0);\n          builder = builder + st;\n          str2 = '';\n        }\n        builder = builder + c;\n      }\n    }\n    if (str2.length > 0) {\n      var st = this.doShape(str2.toString(), 0);\n      builder = builder + st;\n    }\n    return builder.toString();\n  };\n  ArabicShapeRenderer.prototype.doShape = function (input, level) {\n    var str = '';\n    var ligature = 0;\n    var len = 0;\n    var i = 0;\n    var next = '';\n    var previous = new ArabicShape();\n    var present = new ArabicShape();\n    while (i < input.length) {\n      next = input[i++];\n      ligature = this.ligature(next, present);\n      if (ligature === 0) {\n        var shapeCount = this.getShapeCount(next);\n        len = shapeCount === 1 ? 0 : 2;\n        if (previous.Shapes > 2) {\n          len += 1;\n        }\n        len = len % present.Shapes;\n        present.Value = this.getCharacterShape(present.Value, len);\n        str = this.append(str, previous, level);\n        previous = present;\n        present = new ArabicShape();\n        present.Value = next;\n        present.Shapes = shapeCount;\n        present.Ligature++;\n      }\n    }\n    len = previous.Shapes > 2 ? 1 : 0;\n    len = len % present.Shapes;\n    present.Value = this.getCharacterShape(present.Value, len);\n    str = this.append(str, previous, level);\n    str = this.append(str, present, level);\n    return str.toString();\n  };\n  ArabicShapeRenderer.prototype.append = function (builder, shape, level) {\n    if (shape.Value !== '') {\n      builder = builder + shape.Value;\n      shape.Ligature -= 1;\n      if (shape.Type !== '') {\n        if ((level & this.vowel) === 0) {\n          builder = builder + shape.Type;\n          shape.Ligature -= 1;\n        } else {\n          shape.Ligature -= 1;\n        }\n      }\n      if (shape.vowel !== '') {\n        if ((level & this.vowel) === 0) {\n          builder = builder + shape.vowel;\n          shape.Ligature -= 1;\n        } else {\n          shape.Ligature -= 1;\n        }\n      }\n    }\n    return builder;\n  };\n  ArabicShapeRenderer.prototype.ligature = function (value, shape) {\n    if (shape.Value !== '') {\n      var result = 0;\n      if (value >= this.fathatan && value <= this.hamzaBelow || value === this.superScriptalef) {\n        result = 1;\n        if (shape.vowel !== '' && value !== this.shadda) {\n          result = 2;\n        }\n        if (value === this.shadda) {\n          if (shape.Type == null) {\n            shape.Type = this.shadda;\n          } else {\n            return 0;\n          }\n        } else if (value === this.hamzaBelow) {\n          if (shape.Value === this.alef) {\n            shape.Value = this.alefHamzaBelow;\n            result = 2;\n          } else if (value === this.lwa) {\n            shape.Value = this.lwawhb;\n            result = 2;\n          } else {\n            shape.Type = this.hamzaBelow;\n          }\n        } else if (value === this.hamzaAbove) {\n          if (shape.Value === this.alef) {\n            shape.Value = this.alefHamza;\n            result = 2;\n          } else if (shape.Value === this.lwa) {\n            shape.Value = this.lwawh;\n            result = 2;\n          } else if (shape.Value === this.waw) {\n            shape.Value = this.wawHamza;\n            result = 2;\n          } else if (shape.Value === this.yeh || shape.Value === this.alefMaksura || shape.Value === this.farsiYeh) {\n            shape.Value = this.yehHamza;\n            result = 2;\n          } else {\n            shape.Type = this.hamzaAbove;\n          }\n        } else if (value === this.madda) {\n          if (shape.Value === this.alef) {\n            shape.Value = this.alefMadda;\n            result = 2;\n          }\n        } else {\n          shape.vowel = value;\n        }\n        if (result === 1) {\n          shape.Ligature++;\n        }\n        return result;\n      }\n      if (shape.vowel !== '') {\n        return 0;\n      }\n      if (shape.Value === this.lam) {\n        if (value === this.alef) {\n          shape.Value = this.lwa;\n          shape.Shapes = 2;\n          result = 3;\n        } else if (value === this.alefHamza) {\n          shape.Value = this.lwawh;\n          shape.Shapes = 2;\n          result = 3;\n        } else if (value === this.alefHamzaBelow) {\n          shape.Value = this.lwawhb;\n          shape.Shapes = 2;\n          result = 3;\n        } else if (value === this.alefMadda) {\n          shape.Value = this.lwawm;\n          shape.Shapes = 2;\n          result = 3;\n        }\n      }\n      // else if (shape.Value === '') {\n      //     shape.Value = value;\n      //     shape.Shapes = this.getShapeCount(value);\n      //     result = 1;\n      // }\n      return result;\n    } else {\n      return 0;\n    }\n  };\n  ArabicShapeRenderer.prototype.getShapeCount = function (shape) {\n    if (shape >= this.hamza && shape <= this.bwhb && !(shape >= this.fathatan && shape <= this.hamzaBelow || shape === this.superScriptalef)) {\n      var c = [];\n      if (this.arabicMapTable.getValue(shape)) {\n        c = this.arabicMapTable.getValue(shape);\n        return c.length - 1;\n      }\n    } else if (shape === this.zeroWidthJoiner) {\n      return 4;\n    }\n    return 1;\n  };\n  return ArabicShapeRenderer;\n}();\nexport { ArabicShapeRenderer };\n//#endregion\n//#region Internals\nvar ArabicShape = /** @class */function () {\n  function ArabicShape() {\n    //#region Fields\n    this.shapeValue = '';\n    this.shapeType = '';\n    this.shapeVowel = '';\n    this.shapeLigature = 0;\n    this.shapeShapes = 1;\n    //#endregion\n  }\n  Object.defineProperty(ArabicShape.prototype, \"Value\", {\n    //#endregion\n    //#region Properties \n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function () {\n      return this.shapeValue;\n    },\n    set: function (value) {\n      this.shapeValue = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ArabicShape.prototype, \"Type\", {\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function () {\n      return this.shapeType;\n    },\n    set: function (value) {\n      this.shapeType = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ArabicShape.prototype, \"vowel\", {\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function () {\n      return this.shapeVowel;\n    },\n    set: function (value) {\n      this.shapeVowel = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ArabicShape.prototype, \"Ligature\", {\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function () {\n      return this.shapeLigature;\n    },\n    set: function (value) {\n      this.shapeLigature = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ArabicShape.prototype, \"Shapes\", {\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function () {\n      return this.shapeShapes;\n    },\n    set: function (value) {\n      this.shapeShapes = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return ArabicShape;\n}();\nexport { ArabicShape };\n//#endregion","map":{"version":3,"names":["Dictionary","ArabicShapeRenderer","arabicCharTable","alef","alefHamza","alefHamzaBelow","alefMadda","lam","hamza","zeroWidthJoiner","hamzaAbove","hamzaBelow","wawHamza","yehHamza","waw","alefMaksura","yeh","farsiYeh","shadda","madda","lwa","lwawh","lwawhb","lwawm","bwhb","fathatan","superScriptalef","vowel","arabicMapTable","i","length","setValue","prototype","getCharacterShape","input","index","value","getValue","shape","text","level","builder","str2","c","st","doShape","toString","str","ligature","len","next","previous","ArabicShape","present","shapeCount","getShapeCount","Shapes","Value","append","Ligature","Type","result","shapeValue","shapeType","shapeVowel","shapeLigature","shapeShapes","Object","defineProperty","get","set","enumerable","configurable"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/fonts/rtl/rtl-text-shape.js"],"sourcesContent":["/**\n * ArabicShapeRenderer.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../../../collections/dictionary';\nvar ArabicShapeRenderer = /** @class */ (function () {\n    //#endregion\n    //#region Constructor\n    function ArabicShapeRenderer() {\n        //#region Constants\n        this.arabicCharTable = [['\\u0621', '\\uFE80'], ['\\u0622', '\\uFE81', '\\uFE82'],\n            ['\\u0623', '\\uFE83', '\\uFE84'],\n            ['\\u0624', '\\uFE85', '\\uFE86'],\n            ['\\u0625', '\\uFE87', '\\uFE88'],\n            ['\\u0626', '\\uFE89', '\\uFE8A', '\\uFE8B', '\\uFE8C'],\n            ['\\u0627', '\\uFE8D', '\\uFE8E'],\n            ['\\u0628', '\\uFE8F', '\\uFE90', '\\uFE91', '\\uFE92'],\n            ['\\u0629', '\\uFE93', '\\uFE94'],\n            ['\\u062A', '\\uFE95', '\\uFE96', '\\uFE97', '\\uFE98'],\n            ['\\u062B', '\\uFE99', '\\uFE9A', '\\uFE9B', '\\uFE9C'],\n            ['\\u062C', '\\uFE9D', '\\uFE9E', '\\uFE9F', '\\uFEA0'],\n            ['\\u062D', '\\uFEA1', '\\uFEA2', '\\uFEA3', '\\uFEA4'],\n            ['\\u062E', '\\uFEA5', '\\uFEA6', '\\uFEA7', '\\uFEA8'],\n            ['\\u062F', '\\uFEA9', '\\uFEAA'],\n            ['\\u0630', '\\uFEAB', '\\uFEAC'],\n            ['\\u0631', '\\uFEAD', '\\uFEAE'],\n            ['\\u0632', '\\uFEAF', '\\uFEB0'],\n            ['\\u0633', '\\uFEB1', '\\uFEB2', '\\uFEB3', '\\uFEB4'],\n            ['\\u0634', '\\uFEB5', '\\uFEB6', '\\uFEB7', '\\uFEB8'],\n            ['\\u0635', '\\uFEB9', '\\uFEBA', '\\uFEBB', '\\uFEBC'],\n            ['\\u0636', '\\uFEBD', '\\uFEBE', '\\uFEBF', '\\uFEC0'],\n            ['\\u0637', '\\uFEC1', '\\uFEC2', '\\uFEC3', '\\uFEC4'],\n            ['\\u0638', '\\uFEC5', '\\uFEC6', '\\uFEC7', '\\uFEC8'],\n            ['\\u0639', '\\uFEC9', '\\uFECA', '\\uFECB', '\\uFECC'],\n            ['\\u063A', '\\uFECD', '\\uFECE', '\\uFECF', '\\uFED0'],\n            ['\\u0640', '\\u0640', '\\u0640', '\\u0640', '\\u0640'],\n            ['\\u0641', '\\uFED1', '\\uFED2', '\\uFED3', '\\uFED4'],\n            ['\\u0642', '\\uFED5', '\\uFED6', '\\uFED7', '\\uFED8'],\n            ['\\u0643', '\\uFED9', '\\uFEDA', '\\uFEDB', '\\uFEDC'],\n            ['\\u0644', '\\uFEDD', '\\uFEDE', '\\uFEDF', '\\uFEE0'],\n            ['\\u0645', '\\uFEE1', '\\uFEE2', '\\uFEE3', '\\uFEE4'],\n            ['\\u0646', '\\uFEE5', '\\uFEE6', '\\uFEE7', '\\uFEE8'],\n            ['\\u0647', '\\uFEE9', '\\uFEEA', '\\uFEEB', '\\uFEEC'],\n            ['\\u0648', '\\uFEED', '\\uFEEE'],\n            ['\\u0649', '\\uFEEF', '\\uFEF0', '\\uFBE8', '\\uFBE9'],\n            ['\\u064A', '\\uFEF1', '\\uFEF2', '\\uFEF3', '\\uFEF4'],\n            ['\\u0671', '\\uFB50', '\\uFB51'],\n            ['\\u0679', '\\uFB66', '\\uFB67', '\\uFB68', '\\uFB69'],\n            ['\\u067A', '\\uFB5E', '\\uFB5F', '\\uFB60', '\\uFB61'],\n            ['\\u067B', '\\uFB52', '\\uFB53', '\\uFB54', '\\uFB55'],\n            ['\\u067E', '\\uFB56', '\\uFB57', '\\uFB58', '\\uFB59'],\n            ['\\u067F', '\\uFB62', '\\uFB63', '\\uFB64', '\\uFB65'],\n            ['\\u0680', '\\uFB5A', '\\uFB5B', '\\uFB5C', '\\uFB5D'],\n            ['\\u0683', '\\uFB76', '\\uFB77', '\\uFB78', '\\uFB79'],\n            ['\\u0684', '\\uFB72', '\\uFB73', '\\uFB74', '\\uFB75'],\n            ['\\u0686', '\\uFB7A', '\\uFB7B', '\\uFB7C', '\\uFB7D'],\n            ['\\u0687', '\\uFB7E', '\\uFB7F', '\\uFB80', '\\uFB81'],\n            ['\\u0688', '\\uFB88', '\\uFB89'],\n            ['\\u068C', '\\uFB84', '\\uFB85'],\n            ['\\u068D', '\\uFB82', '\\uFB83'],\n            ['\\u068E', '\\uFB86', '\\uFB87'],\n            ['\\u0691', '\\uFB8C', '\\uFB8D'],\n            ['\\u0698', '\\uFB8A', '\\uFB8B'],\n            ['\\u06A4', '\\uFB6A', '\\uFB6B', '\\uFB6C', '\\uFB6D'],\n            ['\\u06A6', '\\uFB6E', '\\uFB6F', '\\uFB70', '\\uFB71'],\n            ['\\u06A9', '\\uFB8E', '\\uFB8F', '\\uFB90', '\\uFB91'],\n            ['\\u06AD', '\\uFBD3', '\\uFBD4', '\\uFBD5', '\\uFBD6'],\n            ['\\u06AF', '\\uFB92', '\\uFB93', '\\uFB94', '\\uFB95'],\n            ['\\u06B1', '\\uFB9A', '\\uFB9B', '\\uFB9C', '\\uFB9D'],\n            ['\\u06B3', '\\uFB96', '\\uFB97', '\\uFB98', '\\uFB99'],\n            ['\\u06BA', '\\uFB9E', '\\uFB9F'],\n            ['\\u06BB', '\\uFBA0', '\\uFBA1', '\\uFBA2', '\\uFBA3'],\n            ['\\u06BE', '\\uFBAA', '\\uFBAB', '\\uFBAC', '\\uFBAD'],\n            ['\\u06C0', '\\uFBA4', '\\uFBA5'],\n            ['\\u06C1', '\\uFBA6', '\\uFBA7', '\\uFBA8', '\\uFBA9'],\n            ['\\u06C5', '\\uFBE0', '\\uFBE1'],\n            ['\\u06C6', '\\uFBD9', '\\uFBDA'],\n            ['\\u06C7', '\\uFBD7', '\\uFBD8'],\n            ['\\u06C8', '\\uFBDB', '\\uFBDC'],\n            ['\\u06C9', '\\uFBE2', '\\uFBE3'],\n            ['\\u06CB', '\\uFBDE', '\\uFBDF'],\n            ['\\u06CC', '\\uFBFC', '\\uFBFD', '\\uFBFE', '\\uFBFF'],\n            ['\\u06D0', '\\uFBE4', '\\uFBE5', '\\uFBE6', '\\uFBE7'],\n            ['\\u06D2', '\\uFBAE', '\\uFBAF'],\n            ['\\u06D3', '\\uFBB0', '\\uFBB1']\n        ];\n        this.alef = '\\u0627';\n        this.alefHamza = '\\u0623';\n        this.alefHamzaBelow = '\\u0625';\n        this.alefMadda = '\\u0622';\n        this.lam = '\\u0644';\n        this.hamza = '\\u0621';\n        this.zeroWidthJoiner = '\\u200D';\n        this.hamzaAbove = '\\u0654';\n        this.hamzaBelow = '\\u0655';\n        this.wawHamza = '\\u0624';\n        this.yehHamza = '\\u0626';\n        this.waw = '\\u0648';\n        this.alefMaksura = '\\u0649';\n        this.yeh = '\\u064A';\n        this.farsiYeh = '\\u06CC';\n        this.shadda = '\\u0651';\n        this.madda = '\\u0653';\n        this.lwa = '\\uFEFB';\n        this.lwawh = '\\uFEF7';\n        this.lwawhb = '\\uFEF9';\n        this.lwawm = '\\uFEF5';\n        this.bwhb = '\\u06D3';\n        this.fathatan = '\\u064B';\n        this.superScriptalef = '\\u0670';\n        this.vowel = 0x1;\n        // #endregion\n        //#region Fields\n        this.arabicMapTable = new Dictionary();\n        for (var i = 0; i < this.arabicCharTable.length; i++) {\n            this.arabicMapTable.setValue(this.arabicCharTable[i][0], this.arabicCharTable[i]);\n        }\n    }\n    //#endregion\n    //#region implementation\n    ArabicShapeRenderer.prototype.getCharacterShape = function (input, index) {\n        if ((input >= this.hamza) && (input <= this.bwhb)) {\n            var value = [];\n            if (this.arabicMapTable.getValue(input)) {\n                value = this.arabicMapTable.getValue(input);\n                return value[index + 1];\n            }\n        }\n        else if (input >= this.lwawm && input <= this.lwa) {\n            return (input);\n        }\n        return input;\n    };\n    ArabicShapeRenderer.prototype.shape = function (text, level) {\n        var builder = '';\n        var str2 = '';\n        for (var i = 0; i < text.length; i++) {\n            var c = text[i];\n            if (c >= '؀' && c <= 'ۿ') {\n                //if(c>= 0x0600.toString() && c<= 0x06FF.toString()) {\n                str2 = str2 + c;\n            }\n            else {\n                if (str2.length > 0) {\n                    var st = this.doShape(str2.toString(), 0);\n                    builder = builder + st;\n                    str2 = '';\n                }\n                builder = builder + c;\n            }\n        }\n        if (str2.length > 0) {\n            var st = this.doShape(str2.toString(), 0);\n            builder = builder + st;\n        }\n        return builder.toString();\n    };\n    ArabicShapeRenderer.prototype.doShape = function (input, level) {\n        var str = '';\n        var ligature = 0;\n        var len = 0;\n        var i = 0;\n        var next = '';\n        var previous = new ArabicShape();\n        var present = new ArabicShape();\n        while (i < input.length) {\n            next = input[i++];\n            ligature = this.ligature(next, present);\n            if (ligature === 0) {\n                var shapeCount = this.getShapeCount(next);\n                len = (shapeCount === 1) ? 0 : 2;\n                if (previous.Shapes > 2) {\n                    len += 1;\n                }\n                len = len % (present.Shapes);\n                present.Value = this.getCharacterShape(present.Value, len);\n                str = this.append(str, previous, level);\n                previous = present;\n                present = new ArabicShape();\n                present.Value = next;\n                present.Shapes = shapeCount;\n                present.Ligature++;\n            }\n        }\n        len = (previous.Shapes > 2) ? 1 : 0;\n        len = len % (present.Shapes);\n        present.Value = this.getCharacterShape(present.Value, len);\n        str = this.append(str, previous, level);\n        str = this.append(str, present, level);\n        return str.toString();\n    };\n    ArabicShapeRenderer.prototype.append = function (builder, shape, level) {\n        if (shape.Value !== '') {\n            builder = builder + shape.Value;\n            shape.Ligature -= 1;\n            if (shape.Type !== '') {\n                if ((level & this.vowel) === 0) {\n                    builder = builder + shape.Type;\n                    shape.Ligature -= 1;\n                }\n                else {\n                    shape.Ligature -= 1;\n                }\n            }\n            if (shape.vowel !== '') {\n                if ((level & this.vowel) === 0) {\n                    builder = builder + shape.vowel;\n                    shape.Ligature -= 1;\n                }\n                else {\n                    shape.Ligature -= 1;\n                }\n            }\n        }\n        return builder;\n    };\n    ArabicShapeRenderer.prototype.ligature = function (value, shape) {\n        if (shape.Value !== '') {\n            var result = 0;\n            if ((value >= this.fathatan && value <= this.hamzaBelow) || value === this.superScriptalef) {\n                result = 1;\n                if ((shape.vowel !== '') && (value !== this.shadda)) {\n                    result = 2;\n                }\n                if (value === this.shadda) {\n                    if (shape.Type == null) {\n                        shape.Type = this.shadda;\n                    }\n                    else {\n                        return 0;\n                    }\n                }\n                else if (value === this.hamzaBelow) {\n                    if (shape.Value === this.alef) {\n                        shape.Value = this.alefHamzaBelow;\n                        result = 2;\n                    }\n                    else if (value === this.lwa) {\n                        shape.Value = this.lwawhb;\n                        result = 2;\n                    }\n                    else {\n                        shape.Type = this.hamzaBelow;\n                    }\n                }\n                else if (value === this.hamzaAbove) {\n                    if (shape.Value === this.alef) {\n                        shape.Value = this.alefHamza;\n                        result = 2;\n                    }\n                    else if (shape.Value === this.lwa) {\n                        shape.Value = this.lwawh;\n                        result = 2;\n                    }\n                    else if (shape.Value === this.waw) {\n                        shape.Value = this.wawHamza;\n                        result = 2;\n                    }\n                    else if (shape.Value === this.yeh || shape.Value === this.alefMaksura || shape.Value === this.farsiYeh) {\n                        shape.Value = this.yehHamza;\n                        result = 2;\n                    }\n                    else {\n                        shape.Type = this.hamzaAbove;\n                    }\n                }\n                else if (value === this.madda) {\n                    if (shape.Value === this.alef) {\n                        shape.Value = this.alefMadda;\n                        result = 2;\n                    }\n                }\n                else {\n                    shape.vowel = value;\n                }\n                if (result === 1) {\n                    shape.Ligature++;\n                }\n                return result;\n            }\n            if (shape.vowel !== '') {\n                return 0;\n            }\n            if (shape.Value === this.lam) {\n                if (value === this.alef) {\n                    shape.Value = this.lwa;\n                    shape.Shapes = 2;\n                    result = 3;\n                }\n                else if (value === this.alefHamza) {\n                    shape.Value = this.lwawh;\n                    shape.Shapes = 2;\n                    result = 3;\n                }\n                else if (value === this.alefHamzaBelow) {\n                    shape.Value = this.lwawhb;\n                    shape.Shapes = 2;\n                    result = 3;\n                }\n                else if (value === this.alefMadda) {\n                    shape.Value = this.lwawm;\n                    shape.Shapes = 2;\n                    result = 3;\n                }\n            }\n            // else if (shape.Value === '') {\n            //     shape.Value = value;\n            //     shape.Shapes = this.getShapeCount(value);\n            //     result = 1;\n            // }\n            return result;\n        }\n        else {\n            return 0;\n        }\n    };\n    ArabicShapeRenderer.prototype.getShapeCount = function (shape) {\n        if ((shape >= this.hamza) && (shape <= this.bwhb) && !((shape >= this.fathatan && shape <= this.hamzaBelow)\n            || shape === this.superScriptalef)) {\n            var c = [];\n            if (this.arabicMapTable.getValue(shape)) {\n                c = this.arabicMapTable.getValue(shape);\n                return c.length - 1;\n            }\n        }\n        else if (shape === this.zeroWidthJoiner) {\n            return 4;\n        }\n        return 1;\n    };\n    return ArabicShapeRenderer;\n}());\nexport { ArabicShapeRenderer };\n//#endregion\n//#region Internals\nvar ArabicShape = /** @class */ (function () {\n    function ArabicShape() {\n        //#region Fields\n        this.shapeValue = '';\n        this.shapeType = '';\n        this.shapeVowel = '';\n        this.shapeLigature = 0;\n        this.shapeShapes = 1;\n        //#endregion\n    }\n    Object.defineProperty(ArabicShape.prototype, \"Value\", {\n        //#endregion\n        //#region Properties \n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeValue;\n        },\n        set: function (value) {\n            this.shapeValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArabicShape.prototype, \"Type\", {\n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeType;\n        },\n        set: function (value) {\n            this.shapeType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArabicShape.prototype, \"vowel\", {\n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeVowel;\n        },\n        set: function (value) {\n            this.shapeVowel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArabicShape.prototype, \"Ligature\", {\n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeLigature;\n        },\n        set: function (value) {\n            this.shapeLigature = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArabicShape.prototype, \"Shapes\", {\n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeShapes;\n        },\n        set: function (value) {\n            this.shapeShapes = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ArabicShape;\n}());\nexport { ArabicShape };\n//#endregion\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,UAAU,QAAQ,mCAAmC;AAC9D,IAAIC,mBAAmB,GAAG,aAAe,YAAY;EACjD;EACA;EACA,SAASA,mBAAmBA,CAAA,EAAG;IAC3B;IACA,IAAI,CAACC,eAAe,GAAG,CAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EACxE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAC9B,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAClD,CAAC,QAAQ,EAAE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","ignoreList":[]},"metadata":{},"sourceType":"module"}