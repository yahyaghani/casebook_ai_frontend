{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Complex, compile, createElement, animationMode } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append, EventHandler, Draggable, extend } from '@syncfusion/ej2-base';\nimport { SanitizeHtmlHelper, Browser } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { createResize, removeResize, setMinHeight, setMaxWidth, setMaxHeight } from '../common/resize';\nvar ButtonProps = /** @class */function (_super) {\n  __extends(ButtonProps, _super);\n  function ButtonProps() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(true)], ButtonProps.prototype, \"isFlat\", void 0);\n  __decorate([Property()], ButtonProps.prototype, \"buttonModel\", void 0);\n  __decorate([Property('Button')], ButtonProps.prototype, \"type\", void 0);\n  __decorate([Event()], ButtonProps.prototype, \"click\", void 0);\n  return ButtonProps;\n}(ChildProperty);\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */function (_super) {\n  __extends(AnimationSettings, _super);\n  function AnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property('Fade')], AnimationSettings.prototype, \"effect\", void 0);\n  __decorate([Property(400)], AnimationSettings.prototype, \"duration\", void 0);\n  __decorate([Property(0)], AnimationSettings.prototype, \"delay\", void 0);\n  return AnimationSettings;\n}(ChildProperty);\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nvar DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */function (_super) {\n  __extends(Dialog, _super);\n  /*\n   * * Constructor for creating the widget\n   *\n   * @param\n   * @param\n   * @hidden\n   */\n  function Dialog(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.needsID = true;\n    return _this;\n  }\n  /**\n   *Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n  Dialog.prototype.render = function () {\n    this.initialize();\n    this.initRender();\n    this.wireEvents();\n    if (this.width === '100%') {\n      this.element.style.width = '';\n    }\n    if (this.minHeight !== '') {\n      this.element.style.minHeight = formatUnit(this.minHeight);\n    }\n    if (this.enableResize) {\n      this.setResize();\n      if (this.animationSettings.effect === 'None') {\n        this.getMinHeight();\n      }\n    }\n    this.renderComplete();\n  };\n  Dialog.prototype.initializeValue = function () {\n    this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n  };\n  /**\n   *Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n  Dialog.prototype.preRender = function () {\n    var _this = this;\n    this.initializeValue();\n    this.headerContent = null;\n    this.allowMaxHeight = true;\n    this.preventVisibility = true;\n    this.clonedEle = this.element.cloneNode(true);\n    this.closeIconClickEventHandler = function (event) {\n      _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n      _this.hide(event);\n    };\n    this.dlgOverlayClickEventHandler = function (event) {\n      _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n      event.preventFocus = false;\n      _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n        if (!overlayClickEventArgs.preventFocus) {\n          _this.focusContent();\n        }\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    };\n    var localeText = {\n      close: 'Close'\n    };\n    this.l10n = new L10n('dialog', localeText, this.locale);\n    this.checkPositionData();\n    if (isNullOrUndefined(this.target)) {\n      var prevOnChange = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      this.target = document.body;\n      this.isProtectedOnChange = prevOnChange;\n    }\n  };\n  Dialog.prototype.updatePersistData = function () {\n    if (this.enablePersistence) {\n      this.setProperties({\n        width: parseFloat(this.element.style.width),\n        height: parseFloat(this.element.style.height),\n        position: {\n          X: parseFloat(this.dragObj.element.style.left),\n          Y: parseFloat(this.dragObj.element.style.top)\n        }\n      }, true);\n    }\n  };\n  Dialog.prototype.isNumberValue = function (value) {\n    var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n    return isNumber;\n  };\n  Dialog.prototype.checkPositionData = function () {\n    if (!isNullOrUndefined(this.position)) {\n      if (!isNullOrUndefined(this.position.X) && typeof this.position.X !== 'number') {\n        var isNumber = this.isNumberValue(this.position.X);\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.X = parseFloat(this.position.X);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n      if (!isNullOrUndefined(this.position.Y) && typeof this.position.Y !== 'number') {\n        var isNumber = this.isNumberValue(this.position.Y);\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.Y = parseFloat(this.position.Y);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n    }\n  };\n  Dialog.prototype.getEle = function (list, selector) {\n    var element = undefined;\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].classList.contains(selector)) {\n        element = list[i];\n        break;\n      }\n    }\n    return element;\n  };\n  /* istanbul ignore next */\n  Dialog.prototype.getMinHeight = function () {\n    var computedHeaderHeight = '0px';\n    var computedFooterHeight = '0px';\n    if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n      computedHeaderHeight = getComputedStyle(this.headerContent).height;\n    }\n    var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n    if (!isNullOrUndefined(footerEle)) {\n      computedFooterHeight = getComputedStyle(footerEle).height;\n    }\n    var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n    var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n    setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n    return headerHeight + 30 + footerHeight;\n  };\n  Dialog.prototype.onResizeStart = function (args, dialogObj) {\n    dialogObj.trigger('resizeStart', args);\n    return args.cancel;\n  };\n  Dialog.prototype.onResizing = function (args, dialogObj) {\n    dialogObj.trigger('resizing', args);\n  };\n  Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n    dialogObj.trigger('resizeStop', args);\n    this.updatePersistData();\n  };\n  Dialog.prototype.setResize = function () {\n    if (this.enableResize) {\n      if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n        return;\n      }\n      this.element.classList.add(DLG_RESIZABLE);\n      var computedHeight = getComputedStyle(this.element).minHeight;\n      var computedWidth = getComputedStyle(this.element).minWidth;\n      var direction = '';\n      for (var i = 0; i < this.resizeHandles.length; i++) {\n        if (this.resizeHandles[i] === 'All') {\n          direction = 'south north east west north-east north-west south-east south-west';\n          break;\n        } else {\n          var directionValue = '';\n          switch (this.resizeHandles[i].toString()) {\n            case 'SouthEast':\n              directionValue = 'south-east';\n              break;\n            case 'SouthWest':\n              directionValue = 'south-west';\n              break;\n            case 'NorthEast':\n              directionValue = 'north-east';\n              break;\n            case 'NorthWest':\n              directionValue = 'north-west';\n              break;\n            default:\n              directionValue = this.resizeHandles[i].toString();\n              break;\n          }\n          direction += directionValue.toLocaleLowerCase() + ' ';\n        }\n      }\n      if (this.enableRtl && direction.trim() === 'south-east') {\n        direction = 'south-west';\n      } else if (this.enableRtl && direction.trim() === 'south-west') {\n        direction = 'south-east';\n      }\n      if (this.isModal && this.enableRtl) {\n        this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n      } else if (this.isModal && this.target === document.body) {\n        this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n      }\n      createResize({\n        element: this.element,\n        direction: direction,\n        minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n        maxHeight: this.targetEle.clientHeight,\n        minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n        maxWidth: this.targetEle.clientWidth,\n        boundary: this.target === document.body ? null : this.targetEle,\n        resizeBegin: this.onResizeStart.bind(this),\n        resizeComplete: this.onResizeComplete.bind(this),\n        resizing: this.onResizing.bind(this),\n        proxy: this\n      });\n      this.wireWindowResizeEvent();\n    } else {\n      removeResize();\n      this.unWireWindowResizeEvent();\n      if (this.isModal) {\n        this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n      } else {\n        this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n      }\n      this.element.classList.remove(DLG_RESIZABLE);\n    }\n  };\n  Dialog.prototype.getFocusElement = function (target) {\n    var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n    var items = target.querySelectorAll(value);\n    return {\n      element: items[items.length - 1]\n    };\n  };\n  /* istanbul ignore next */\n  Dialog.prototype.keyDown = function (event) {\n    var _this = this;\n    if (event.keyCode === 9) {\n      if (this.isModal) {\n        var buttonObj = void 0;\n        if (!isNullOrUndefined(this.btnObj)) {\n          buttonObj = this.btnObj[this.btnObj.length - 1];\n        }\n        if (isNullOrUndefined(this.btnObj) && !isNullOrUndefined(this.ftrTemplateContent)) {\n          buttonObj = this.getFocusElement(this.ftrTemplateContent);\n        }\n        if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n          buttonObj = this.getFocusElement(this.contentEle);\n        }\n        if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n          event.preventDefault();\n          this.focusableElements(this.element).focus();\n        }\n        if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n          event.preventDefault();\n          if (!isNullOrUndefined(buttonObj)) {\n            buttonObj.element.focus();\n          }\n        }\n      }\n    }\n    var element = document.activeElement;\n    var isTagName = ['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1;\n    var isContentEdit = false;\n    if (!isTagName) {\n      isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n    }\n    if (event.keyCode === 27 && this.closeOnEscape) {\n      this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n      var query = document.querySelector('.e-popup-open:not(.e-dialog)');\n      // 'document.querySelector' is used to find the elements rendered based on body\n      if (!(!isNullOrUndefined(query) && !query.classList.contains('e-toolbar-pop'))) {\n        this.hide(event);\n      }\n    }\n    if (event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' && isTagName && !isNullOrUndefined(this.primaryButtonEle) || event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' || isContentEdit) && !isNullOrUndefined(this.primaryButtonEle)) {\n      var buttonIndex_1;\n      var firstPrimary = this.buttons.some(function (data, index) {\n        buttonIndex_1 = index;\n        // eslint-disable-next-line\n        var buttonModel = data.buttonModel;\n        return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n      });\n      if (firstPrimary && typeof this.buttons[buttonIndex_1].click === 'function') {\n        setTimeout(function () {\n          _this.buttons[buttonIndex_1].click.call(_this, event);\n        });\n      }\n    }\n  };\n  /**\n   * Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n  Dialog.prototype.initialize = function () {\n    if (!isNullOrUndefined(this.target)) {\n      this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n    }\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], ROOT);\n    }\n    if (Browser.isDevice) {\n      addClass([this.element], DEVICE);\n    }\n    if (!this.isBlazorServerRender()) {\n      this.setCSSClass();\n    }\n    this.setMaxHeight();\n  };\n  /**\n   * Initialize the rendering\n   *\n   * @returns {void}\n   * @private\n   */\n  Dialog.prototype.initRender = function () {\n    var _this = this;\n    this.initialRender = true;\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        role: 'dialog'\n      });\n    }\n    if (this.zIndex === 1000) {\n      this.setzIndex(this.element, false);\n      this.calculatezIndex = true;\n    } else {\n      this.calculatezIndex = false;\n    }\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n    }\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n      this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n    }\n    if (!this.isBlazorServerRender()) {\n      this.setTargetContent();\n      if (this.header !== '' && !isNullOrUndefined(this.header)) {\n        this.setHeader();\n      }\n      this.renderCloseIcon();\n      this.setContent();\n      if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n        this.setFooterTemplate();\n      } else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n        this.setButton();\n      }\n    }\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n        this.setButton();\n      }\n    }\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        'aria-modal': this.isModal ? 'true' : 'false'\n      });\n      if (this.isModal) {\n        this.setIsModal();\n      }\n    }\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n      this.dlgContainer = this.element.parentElement;\n      for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n        if (childNodes[i].classList.contains('e-dlg-overlay')) {\n          this.dlgOverlay = childNodes[i];\n        }\n      }\n    }\n    if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true && !isNullOrUndefined(this.element.parentElement)) {\n      var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n      this.refElement = this.createElement('div', {\n        className: DLG_REF_ELEMENT\n      });\n      parentEle.insertBefore(this.refElement, this.isModal ? this.dlgContainer : this.element);\n    }\n    if (!isNullOrUndefined(this.targetEle)) {\n      // eslint-disable-next-line\n      this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n    }\n    this.popupObj = new Popup(this.element, {\n      height: this.height,\n      width: this.width,\n      zIndex: this.zIndex,\n      relateTo: this.target,\n      actionOnScroll: 'none',\n      enableRtl: this.enableRtl,\n      // eslint-disable-next-line\n      open: function (event) {\n        var eventArgs = {\n          container: _this.isModal ? _this.dlgContainer : _this.element,\n          element: _this.element,\n          target: _this.target,\n          preventFocus: false\n        };\n        if (_this.enableResize) {\n          _this.resetResizeIcon();\n        }\n        _this.trigger('open', eventArgs, function (openEventArgs) {\n          if (!openEventArgs.preventFocus) {\n            _this.focusContent();\n          }\n        });\n      },\n      // eslint-disable-next-line\n      close: function (event) {\n        if (_this.isModal) {\n          addClass([_this.dlgOverlay], 'e-fade');\n        }\n        _this.unBindEvent(_this.element);\n        if (_this.isModal) {\n          _this.dlgContainer.style.display = 'none';\n        }\n        _this.trigger('close', _this.closeArgs);\n        var activeEle = document.activeElement;\n        if (!isNullOrUndefined(activeEle) && !isNullOrUndefined(activeEle.blur)) {\n          activeEle.blur();\n        }\n        if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n          _this.storeActiveElement.focus();\n        }\n      }\n    });\n    this.positionChange();\n    this.setEnableRTL();\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], DLG_HIDE);\n      if (this.isModal) {\n        this.setOverlayZindex();\n      }\n    }\n    if (this.visible) {\n      this.show();\n      if (this.isModal) {\n        var targetType = this.getTargetContainer(this.target);\n        if (targetType instanceof Element) {\n          var computedStyle = window.getComputedStyle(targetType);\n          if (computedStyle.getPropertyValue('direction') === 'rtl') {\n            this.setPopupPosition();\n          }\n        }\n      }\n    } else {\n      if (this.isModal) {\n        this.dlgOverlay.style.display = 'none';\n      }\n    }\n    this.initialRender = false;\n  };\n  Dialog.prototype.getTargetContainer = function (targetValue) {\n    var targetElement = null;\n    if (typeof targetValue === 'string') {\n      if (targetValue.startsWith('#')) {\n        targetElement = document.getElementById(targetValue.substring(1));\n      } else if (targetValue.startsWith('.')) {\n        var elements = document.getElementsByClassName(targetValue.substring(1));\n        targetElement = elements.length > 0 ? elements[0] : null;\n      } else {\n        if (!(targetValue instanceof HTMLElement) && targetValue !== document.body) {\n          targetElement = document.querySelector(targetValue);\n        }\n      }\n    } else if (targetValue instanceof HTMLElement) {\n      targetElement = targetValue;\n    }\n    return targetElement;\n  };\n  Dialog.prototype.resetResizeIcon = function () {\n    var dialogConHeight = this.getMinHeight();\n    if (this.targetEle.offsetHeight < dialogConHeight) {\n      var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n      var resizeIcon = this.element.querySelector('.' + className);\n      if (!isNullOrUndefined(resizeIcon)) {\n        resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n      }\n    }\n  };\n  Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n    var zIndex;\n    if (isNullOrUndefined(zIndexValue)) {\n      zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n    } else {\n      zIndex = zIndexValue;\n    }\n    this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n    this.dlgContainer.style.zIndex = zIndex.toString();\n  };\n  Dialog.prototype.positionChange = function () {\n    if (this.isModal) {\n      if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else if (!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)) || isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else {\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n        this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n      }\n    } else {\n      this.setPopupPosition();\n    }\n  };\n  Dialog.prototype.setPopupPosition = function () {\n    this.popupObj.setProperties({\n      position: {\n        X: this.position.X,\n        Y: this.position.Y\n      }\n    });\n  };\n  Dialog.prototype.setAllowDragging = function () {\n    var _this = this;\n    var handleContent = '.' + DLG_HEADER_CONTENT;\n    if (!this.element.classList.contains(DLG_DRAG)) {\n      this.dragObj = new Draggable(this.element, {\n        clone: false,\n        isDragScroll: true,\n        abort: '.e-dlg-closeicon-btn',\n        handle: handleContent,\n        dragStart: function (event) {\n          _this.trigger('dragStart', event, function (dragEventArgs) {\n            if (isBlazor()) {\n              dragEventArgs.bindEvents(event.dragElement);\n            }\n          });\n        },\n        dragStop: function (event) {\n          if (_this.isModal) {\n            if (!isNullOrUndefined(_this.position)) {\n              _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n            }\n            // Reset the dialog position after drag completion.\n            var targetType = _this.getTargetContainer(_this.target);\n            if (targetType instanceof Element) {\n              var computedStyle = window.getComputedStyle(targetType);\n              if (computedStyle.getPropertyValue('direction') === 'rtl') {\n                _this.element.style.position = 'absolute';\n              } else {\n                _this.element.style.position = 'relative';\n              }\n            } else {\n              _this.element.style.position = 'relative';\n            }\n          }\n          _this.trigger('dragStop', event);\n          _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n          _this.updatePersistData();\n        },\n        drag: function (event) {\n          _this.trigger('drag', event);\n        }\n      });\n      if (!isNullOrUndefined(this.targetEle)) {\n        this.dragObj.dragArea = this.targetEle;\n      }\n    }\n  };\n  Dialog.prototype.setButton = function () {\n    if (!this.isBlazorServerRender()) {\n      this.buttonContent = [];\n      this.btnObj = [];\n      // eslint-disable-next-line\n      var primaryBtnFlag = true;\n      for (var i = 0; i < this.buttons.length; i++) {\n        var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n        var btn = this.createElement('button', {\n          className: this.cssClass,\n          attrs: {\n            type: buttonType\n          }\n        });\n        this.buttonContent.push(btn.outerHTML);\n      }\n      this.setFooterTemplate();\n    }\n    var footerBtn;\n    for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n      if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n        footerBtn = childNodes[i].querySelectorAll('button');\n      }\n    }\n    for (var i = 0; i < this.buttons.length; i++) {\n      if (!this.isBlazorServerRender()) {\n        this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n      }\n      if (this.isBlazorServerRender()) {\n        this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n      }\n      if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n        }\n        if (typeof this.buttons[i].click === 'object') {\n          EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n        }\n      }\n      if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n        this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n        if (this.buttons[i].isFlat) {\n          this.btnObj[i].element.classList.add('e-flat');\n        }\n        this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n      }\n    }\n  };\n  Dialog.prototype.buttonClickHandler = function (index) {\n    this.trigger('buttons[' + index + '].click', {});\n  };\n  Dialog.prototype.setContent = function () {\n    this.contentEle = this.createElement('div', {\n      className: DLG_CONTENT,\n      id: this.element.id + '_dialog-content'\n    });\n    if (this.headerEle) {\n      attributes(this.element, {\n        'aria-describedby': this.element.id + '_title' + ' ' + this.element.id + '_dialog-content'\n      });\n    } else {\n      attributes(this.element, {\n        'aria-describedby': this.element.id + '_dialog-content'\n      });\n    }\n    if (this.innerContentElement) {\n      this.contentEle.appendChild(this.innerContentElement);\n    } else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n      // eslint-disable-next-line\n      var blazorContain = Object.keys(window);\n      if (typeof this.content === 'string' && !isBlazor()) {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      } else if (this.content instanceof HTMLElement) {\n        this.contentEle.appendChild(this.content);\n      } else {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      }\n    }\n    if (!isNullOrUndefined(this.headerContent)) {\n      this.element.insertBefore(this.contentEle, this.element.children[1]);\n    } else {\n      this.element.insertBefore(this.contentEle, this.element.children[0]);\n    }\n    if (this.height === 'auto') {\n      if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n        this.element.style.width = formatUnit(this.width);\n      }\n      this.setMaxHeight();\n    }\n  };\n  Dialog.prototype.setTemplate = function (template, toElement, prop) {\n    var templateFn;\n    var templateProps;\n    // eslint-disable-next-line\n    var blazorContain = Object.keys(window);\n    if (toElement.classList.contains(DLG_HEADER)) {\n      templateProps = this.element.id + 'header';\n    } else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n      templateProps = this.element.id + 'footerTemplate';\n    } else {\n      templateProps = this.element.id + 'content';\n    }\n    var templateValue;\n    if (!isNullOrUndefined(template.outerHTML)) {\n      toElement.appendChild(template);\n    } else if (typeof template === 'string' || typeof template !== 'string' || isBlazor() && !this.isStringTemplate) {\n      if (typeof template === 'string') {\n        template = this.sanitizeHelper(template);\n      }\n      if (this.isVue || typeof template !== 'string') {\n        templateFn = compile(template);\n        templateValue = template;\n      } else {\n        toElement.innerHTML = template;\n      }\n    }\n    var fromElements = [];\n    if (!isNullOrUndefined(templateFn)) {\n      var isString = isBlazor() && !this.isStringTemplate && templateValue.indexOf('<div>Blazor') === 0 ? this.isStringTemplate : true;\n      for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n        var item = _a[_i];\n        fromElements.push(item);\n      }\n      append([].slice.call(fromElements), toElement);\n    }\n  };\n  /*\n   * @returns {void}\n   * @hidden\n   * @value\n   */\n  Dialog.prototype.sanitizeHelper = function (value) {\n    if (this.enableHtmlSanitizer) {\n      var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n      var beforeEvent = {\n        cancel: false,\n        helper: null\n      };\n      extend(dialogItem, dialogItem, beforeEvent);\n      this.trigger('beforeSanitizeHtml', dialogItem);\n      if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n        value = dialogItem.helper(value);\n      } else if (!dialogItem.cancel) {\n        value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n      }\n    }\n    return value;\n  };\n  Dialog.prototype.setMaxHeight = function () {\n    if (!this.allowMaxHeight) {\n      return;\n    }\n    var display = this.element.style.display;\n    this.element.style.display = 'none';\n    this.element.style.maxHeight = !isNullOrUndefined(this.target) && this.targetEle.offsetHeight < window.innerHeight ? this.targetEle.offsetHeight - 20 + 'px' : window.innerHeight - 20 + 'px';\n    this.element.style.display = display;\n    if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle) && this.element.offsetHeight < this.contentEle.offsetHeight) {\n      this.element.style.height = 'inherit';\n    }\n  };\n  Dialog.prototype.setEnableRTL = function () {\n    if (!this.isBlazorServerRender()) {\n      // eslint-disable-next-line\n      this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    }\n    if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n      removeResize();\n      this.setResize();\n    }\n  };\n  Dialog.prototype.setTargetContent = function () {\n    var _this = this;\n    if (isNullOrUndefined(this.content) || this.content === '') {\n      var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n      if (this.element.children.length > 0 || isContent) {\n        this.innerContentElement = document.createDocumentFragment();\n        [].slice.call(this.element.childNodes).forEach(function (el) {\n          if (el.nodeType !== 8) {\n            _this.innerContentElement.appendChild(el);\n          }\n        });\n      }\n    }\n  };\n  Dialog.prototype.setHeader = function () {\n    if (this.headerEle) {\n      this.headerEle.innerHTML = '';\n    } else {\n      this.headerEle = this.createElement('div', {\n        id: this.element.id + '_title',\n        className: DLG_HEADER\n      });\n    }\n    this.createHeaderContent();\n    this.headerContent.appendChild(this.headerEle);\n    this.setTemplate(this.header, this.headerEle, 'header');\n    attributes(this.element, {\n      'aria-describedby': this.element.id + '_title'\n    });\n    attributes(this.element, {\n      'aria-label': \"dialog\"\n    });\n    this.element.insertBefore(this.headerContent, this.element.children[0]);\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n  };\n  Dialog.prototype.setFooterTemplate = function () {\n    if (this.ftrTemplateContent) {\n      this.ftrTemplateContent.innerHTML = '';\n    } else {\n      this.ftrTemplateContent = this.createElement('div', {\n        className: DLG_FOOTER_CONTENT\n      });\n    }\n    if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n      this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n    } else {\n      this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n    }\n    this.element.appendChild(this.ftrTemplateContent);\n  };\n  Dialog.prototype.createHeaderContent = function () {\n    if (isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.createElement('div', {\n        id: this.element.id + '_dialog-header',\n        className: DLG_HEADER_CONTENT\n      });\n    }\n  };\n  Dialog.prototype.renderCloseIcon = function () {\n    if (this.showCloseIcon) {\n      this.closeIcon = this.createElement('button', {\n        className: DLG_CLOSE_ICON_BTN,\n        attrs: {\n          type: 'button'\n        }\n      });\n      this.closeIconBtnObj = new Button({\n        cssClass: 'e-flat',\n        iconCss: DLG_CLOSE_ICON + ' ' + ICON\n      });\n      this.closeIconTitle();\n      if (!isNullOrUndefined(this.headerContent)) {\n        prepend([this.closeIcon], this.headerContent);\n      } else {\n        this.createHeaderContent();\n        prepend([this.closeIcon], this.headerContent);\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n      }\n      this.closeIconBtnObj.appendTo(this.closeIcon);\n    }\n  };\n  Dialog.prototype.closeIconTitle = function () {\n    this.l10n.setLocale(this.locale);\n    var closeIconTitle = this.l10n.getConstant('close');\n    this.closeIcon.setAttribute('title', closeIconTitle);\n    this.closeIcon.setAttribute('aria-label', closeIconTitle);\n  };\n  Dialog.prototype.setCSSClass = function (oldCSSClass) {\n    if (oldCSSClass) {\n      removeClass([this.element], oldCSSClass.split(' '));\n      if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n        removeClass([this.dlgContainer], oldCSSClass.split(' '));\n      }\n    }\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n      if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n        addClass([this.dlgContainer], this.cssClass.split(' '));\n      }\n    }\n  };\n  Dialog.prototype.setIsModal = function () {\n    this.dlgContainer = this.createElement('div', {\n      className: DLG_CONTAINER\n    });\n    this.setCSSClass();\n    this.element.classList.remove(DLG_SHOW);\n    this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n    this.dlgContainer.appendChild(this.element);\n    addClass([this.element], MODAL_DLG);\n    this.dlgOverlay = this.createElement('div', {\n      className: DLG_OVERLAY\n    });\n    this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n    this.dlgContainer.appendChild(this.dlgOverlay);\n  };\n  Dialog.prototype.getValidFocusNode = function (items) {\n    var node;\n    for (var u = 0; u < items.length; u++) {\n      node = items[u];\n      if ((node.clientHeight > 0 || node.tagName.toLowerCase() === 'a' && node.hasAttribute('href')) && node.tabIndex > -1 && !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n        return node;\n      } else {\n        node = null;\n      }\n    }\n    return node;\n  };\n  Dialog.prototype.focusableElements = function (content) {\n    if (!isNullOrUndefined(content)) {\n      var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n      var items = content.querySelectorAll(value);\n      return this.getValidFocusNode(items);\n    }\n    return null;\n  };\n  Dialog.prototype.getAutoFocusNode = function (container) {\n    var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n    var value = '[autofocus]';\n    var items = container.querySelectorAll(value);\n    var validNode = this.getValidFocusNode(items);\n    if (isBlazor()) {\n      this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n    }\n    if (!isNullOrUndefined(validNode)) {\n      node = validNode;\n    } else {\n      validNode = this.focusableElements(this.contentEle);\n      if (!isNullOrUndefined(validNode)) {\n        return node = validNode;\n      } else if (!isNullOrUndefined(this.primaryButtonEle)) {\n        return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n      }\n    }\n    return node;\n  };\n  Dialog.prototype.disableElement = function (element, t) {\n    var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n    if (elementMatch) {\n      for (; element; element = element.parentNode) {\n        if (element instanceof Element && elementMatch.call(element, t)) {\n          /* istanbul ignore next */\n          return element;\n        }\n      }\n    }\n    return null;\n  };\n  Dialog.prototype.focusContent = function () {\n    var element = this.getAutoFocusNode(this.element);\n    var node = !isNullOrUndefined(element) ? element : this.element;\n    var userAgent = Browser.userAgent;\n    if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n      this.element.focus();\n    }\n    node.focus();\n    this.unBindEvent(this.element);\n    this.bindEvent(this.element);\n  };\n  Dialog.prototype.bindEvent = function (element) {\n    EventHandler.add(element, 'keydown', this.keyDown, this);\n  };\n  Dialog.prototype.unBindEvent = function (element) {\n    EventHandler.remove(element, 'keydown', this.keyDown);\n  };\n  Dialog.prototype.updateSanitizeContent = function () {\n    if (!this.isBlazorServerRender()) {\n      this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n    }\n  };\n  Dialog.prototype.isBlazorServerRender = function () {\n    return isBlazor() && this.isServerRendered;\n  };\n  /**\n   * Module required function\n   *\n   * @returns {void}\n   * @private\n   */\n  Dialog.prototype.getModuleName = function () {\n    return 'dialog';\n  };\n  /**\n   * Called internally if any of the property value changed\n   *\n   * @param {DialogModel} newProp - specifies the new property\n   * @param {DialogModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n  Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'content':\n          if (!isNullOrUndefined(this.content) && this.content !== '') {\n            if (this.isBlazorServerRender()) {\n              this.contentEle = this.element.querySelector('.e-dlg-content');\n            }\n            if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n              if (!this.isBlazorServerRender()) {\n                this.contentEle.innerHTML = '';\n              }\n              if (typeof this.content === 'function') {\n                this.clearTemplate(['content']);\n                detach(this.contentEle);\n                this.contentEle = null;\n                this.setContent();\n              } else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                typeof this.content === 'string' ? this.isBlazorServerRender() && this.contentEle.innerText === '' ? this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) : this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n              }\n              this.setMaxHeight();\n            } else {\n              if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                this.setContent();\n              }\n            }\n          } else if (!isNullOrUndefined(this.contentEle)) {\n            detach(this.contentEle);\n            this.contentEle = null;\n          }\n          break;\n        case 'header':\n          if (this.header === '' || isNullOrUndefined(this.header)) {\n            if (this.headerEle) {\n              detach(this.headerEle);\n              this.headerEle = null;\n            }\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n              this.setHeader();\n            }\n          }\n          break;\n        case 'footerTemplate':\n          if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n            if (!this.ftrTemplateContent) {\n              return;\n            }\n            detach(this.ftrTemplateContent);\n            this.ftrTemplateContent = null;\n            this.buttons = [{}];\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n              this.setFooterTemplate();\n            }\n            this.buttons = [{}];\n          }\n          break;\n        case 'showCloseIcon':\n          if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n            if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n              detach(this.headerContent);\n              this.headerContent = null;\n            } else if (!this.showCloseIcon) {\n              detach(this.closeIcon);\n            } else {\n              if (this.isBlazorServerRender()) {\n                this.wireEvents();\n              }\n            }\n          } else {\n            if (!this.isBlazorServerRender()) {\n              this.renderCloseIcon();\n            }\n            this.wireEvents();\n          }\n          break;\n        case 'locale':\n          if (this.showCloseIcon) {\n            this.closeIconTitle();\n          }\n          break;\n        case 'visible':\n          // eslint-disable-next-line\n          this.visible ? this.show() : this.hide();\n          break;\n        case 'isModal':\n          this.updateIsModal();\n          break;\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          this.updatePersistData();\n          break;\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          this.updatePersistData();\n          break;\n        case 'zIndex':\n          this.popupObj.zIndex = this.zIndex;\n          if (this.isModal) {\n            this.setOverlayZindex(this.zIndex);\n          }\n          if (this.element.style.zIndex !== this.zIndex.toString()) {\n            this.calculatezIndex = false;\n          }\n          break;\n        case 'cssClass':\n          this.setCSSClass(oldProp.cssClass);\n          break;\n        case 'buttons':\n          {\n            var buttonCount = this.buttons.length;\n            if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n              detach(this.ftrTemplateContent);\n              this.ftrTemplateContent = null;\n            }\n            for (var i = 0; i < buttonCount; i++) {\n              if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                this.footerTemplate = '';\n                this.setButton();\n              }\n            }\n            break;\n          }\n        case 'allowDragging':\n          if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n            this.setAllowDragging();\n          } else {\n            this.dragObj.destroy();\n          }\n          break;\n        case 'target':\n          this.setTarget(newProp.target);\n          break;\n        case 'position':\n          this.checkPositionData();\n          if (this.isModal) {\n            var positionX = !isNullOrUndefined(oldProp.position) && !isNullOrUndefined(oldProp.position.X) ? oldProp.position.X : this.position.X;\n            var positionY = !isNullOrUndefined(oldProp.position) && !isNullOrUndefined(oldProp.position.Y) ? oldProp.position.Y : this.position.Y;\n            if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n              this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n            }\n          }\n          this.positionChange();\n          this.updatePersistData();\n          break;\n        case 'enableRtl':\n          this.setEnableRTL();\n          break;\n        case 'enableResize':\n          this.setResize();\n          break;\n        case 'minHeight':\n          if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n          }\n          break;\n      }\n    }\n  };\n  Dialog.prototype.setTarget = function (target) {\n    this.popupObj.relateTo = target;\n    this.target = target;\n    this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n    if (this.dragObj) {\n      this.dragObj.dragArea = this.targetEle;\n    }\n    this.setMaxHeight();\n    if (this.isModal) {\n      this.updateIsModal();\n    }\n    if (this.enableResize) {\n      this.setResize();\n    }\n  };\n  Dialog.prototype.updateIsModal = function () {\n    this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n    if (this.isModal) {\n      if (isNullOrUndefined(this.dlgOverlay)) {\n        this.setIsModal();\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n        if (!isNullOrUndefined(this.targetEle)) {\n          this.targetEle.appendChild(this.dlgContainer);\n        }\n      }\n    } else {\n      removeClass([this.element], MODAL_DLG);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n      detach(this.dlgOverlay);\n      while (this.dlgContainer.firstChild) {\n        this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n      }\n      this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n    }\n    if (this.visible) {\n      this.show();\n    }\n    this.positionChange();\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n  Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n    var prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    var currentzIndex = getZindexPartial(zIndexElement);\n    this.zIndex = currentzIndex > this.zIndex ? currentzIndex : this.zIndex;\n    this.isProtectedOnChange = prevOnChange;\n    if (setPopupZindex) {\n      this.popupObj.zIndex = this.zIndex;\n    }\n  };\n  Dialog.prototype.windowResizeHandler = function () {\n    setMaxWidth(this.targetEle.clientWidth);\n    setMaxHeight(this.targetEle.clientHeight);\n    this.setMaxHeight();\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {void}\n   * @private\n   */\n  Dialog.prototype.getPersistData = function () {\n    return this.addOnPersist(['width', 'height', 'position']);\n  };\n  Dialog.prototype.removeAllChildren = function (element) {\n    while (element.children[0]) {\n      this.removeAllChildren(element.children[0]);\n      element.removeChild(element.children[0]);\n    }\n  };\n  /**\n   * To destroy the widget\n   *\n   * @returns {void}\n   */\n  Dialog.prototype.destroy = function () {\n    if (this.isDestroyed) {\n      return;\n    }\n    var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n    var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n    removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n    if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n    }\n    if (this.isModal) {\n      removeClass([!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body], SCROLL_DISABLED);\n    }\n    this.unWireEvents();\n    if (!isNullOrUndefined(this.btnObj)) {\n      for (var i = 0; i < this.btnObj.length; i++) {\n        this.btnObj[i].destroy();\n      }\n    }\n    if (!isNullOrUndefined(this.closeIconBtnObj)) {\n      this.closeIconBtnObj.destroy();\n    }\n    if (!isNullOrUndefined(this.dragObj)) {\n      this.dragObj.destroy();\n    }\n    if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n      this.popupObj.destroy();\n    }\n    removeClass([this.element], classArray);\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      removeClass([this.element], this.cssClass.split(' '));\n    }\n    if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n      this.refElement.parentElement.insertBefore(this.isModal ? this.dlgContainer : this.element, this.refElement);\n      detach(this.refElement);\n      this.refElement = undefined;\n    }\n    if (this.isModal && !this.isBlazorServerRender()) {\n      detach(this.dlgOverlay);\n      this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n      detach(this.dlgContainer);\n    }\n    if (!this.isBlazorServerRender()) {\n      this.element.innerHTML = this.clonedEle.innerHTML;\n    }\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.element.children)) {\n        for (var i = 0; i <= this.element.children.length; i++) {\n          i = i - i;\n          detach(this.element.children[i]);\n        }\n      }\n    }\n    for (var i = 0; i < attrs.length; i++) {\n      this.element.removeAttribute(attrs[i]);\n    }\n    this.ftrTemplateContent = null;\n    this.headerContent = null;\n    if (!this.isReact && !this.isVue && !isNullOrUndefined(this.contentEle)) {\n      this.removeAllChildren(this.contentEle);\n    }\n    this.contentEle = null;\n    if (!this.isBlazorServerRender()) {\n      _super.prototype.destroy.call(this);\n    } else {\n      this.isDestroyed = true;\n    }\n    // eslint-disable-next-line\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n  };\n  Dialog.prototype.wireWindowResizeEvent = function () {\n    this.boundWindowResizeHandler = this.windowResizeHandler.bind(this);\n    window.addEventListener('resize', this.boundWindowResizeHandler);\n  };\n  Dialog.prototype.unWireWindowResizeEvent = function () {\n    window.removeEventListener('resize', this.boundWindowResizeHandler);\n    this.boundWindowResizeHandler = null;\n  };\n  /**\n   * Binding event to the element while widget creation\n   *\n   * @returns {void}\n   * @hidden\n   */\n  Dialog.prototype.wireEvents = function () {\n    if (this.isBlazorServerRender() && this.showCloseIcon) {\n      this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n    }\n    if (this.showCloseIcon) {\n      EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n    }\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n  /**\n   * Unbinding event to the element while widget destroy\n   *\n   * @returns {void}\n   * @hidden\n   */\n  Dialog.prototype.unWireEvents = function () {\n    if (this.showCloseIcon) {\n      EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n    }\n    if (this.isModal) {\n      EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n    }\n    if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n      for (var i = 0; i < this.buttons.length; i++) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n        }\n      }\n    }\n  };\n  /**\n   * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n   *\n   * @returns {void}\n   */\n  Dialog.prototype.refreshPosition = function () {\n    this.popupObj.refreshPosition();\n    if (this.element.classList.contains(MODAL_DLG)) {\n      this.positionChange();\n    }\n  };\n  /**\n   * Returns the current width and height of the Dialog\n   *\n   * @returns {DialogDimension}- returns the dialog element Dimension.\n   * @public\n   */\n  Dialog.prototype.getDimension = function () {\n    var dialogWidth = this.element.offsetWidth;\n    var dialogHeight = this.element.offsetHeight;\n    return {\n      width: dialogWidth,\n      height: dialogHeight\n    };\n  };\n  /**\n   * Opens the dialog if it is in hidden state.\n   * To open the dialog with full screen width, set the parameter to true.\n   *\n   * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n   * @returns {void}\n   */\n  Dialog.prototype.show = function (isFullScreen) {\n    var _this = this;\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n    if (!this.element.classList.contains(DLG_SHOW) || !isNullOrUndefined(isFullScreen)) {\n      if (!isNullOrUndefined(isFullScreen)) {\n        this.fullScreen(isFullScreen);\n      }\n      var eventArgs_1 = isBlazor() ? {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        maxHeight: this.element.style.maxHeight\n      } : {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        target: this.target,\n        maxHeight: this.element.style.maxHeight\n      };\n      this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n        if (!beforeOpenArgs.cancel) {\n          if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n            _this.allowMaxHeight = false;\n            _this.element.style.maxHeight = eventArgs_1.maxHeight;\n          }\n          if (_this.enableResize && _this.boundWindowResizeHandler == null && !_this.initialRender) {\n            _this.wireWindowResizeEvent();\n          }\n          _this.storeActiveElement = document.activeElement;\n          _this.element.tabIndex = -1;\n          if (_this.isModal && !isNullOrUndefined(_this.dlgOverlay)) {\n            _this.dlgOverlay.style.display = 'block';\n            _this.dlgContainer.style.display = 'flex';\n            removeClass([_this.dlgOverlay], 'e-fade');\n            if (!isNullOrUndefined(_this.targetEle)) {\n              if (_this.targetEle === document.body) {\n                _this.dlgContainer.style.position = 'fixed';\n              } else {\n                _this.dlgContainer.style.position = 'absolute';\n              }\n              _this.dlgOverlay.style.position = 'absolute';\n              var targetType = _this.getTargetContainer(_this.target);\n              if (targetType instanceof Element) {\n                var computedStyle = window.getComputedStyle(targetType);\n                if (computedStyle.getPropertyValue('direction') === 'rtl') {\n                  _this.element.style.position = 'absolute';\n                } else {\n                  _this.element.style.position = 'relative';\n                }\n              } else {\n                _this.element.style.position = 'relative';\n              }\n              addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            } else {\n              addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          }\n          var openAnimation = {\n            name: _this.animationSettings.effect === 'None' && animationMode === 'Enable' ? 'Zoom' + 'In' : _this.animationSettings.effect + 'In',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          };\n          var zIndexElement = _this.isModal ? _this.element.parentElement : _this.element;\n          if (_this.calculatezIndex) {\n            _this.setzIndex(zIndexElement, true);\n            setStyleAttribute(_this.element, {\n              'zIndex': _this.zIndex\n            });\n            if (_this.isModal) {\n              _this.setOverlayZindex(_this.zIndex);\n            }\n          }\n          // eslint-disable-next-line\n          _this.animationSettings.effect === 'None' && animationMode === 'Enable' ? _this.popupObj.show(openAnimation) : _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n          _this.dialogOpen = true;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = true;\n          _this.preventVisibility = true;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n      });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Closes the dialog if it is in visible state.\n   *\n   * @param { Event } event - specifies the event\n   * @returns {void}\n   */\n  Dialog.prototype.hide = function (event) {\n    var _this = this;\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n    if (this.preventVisibility) {\n      var eventArgs = isBlazor() ? {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event\n      } : {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        target: this.target,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event,\n        closedBy: this.dlgClosedBy\n      };\n      this.closeArgs = eventArgs;\n      this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n        if (!beforeCloseArgs.cancel) {\n          if (_this.isModal) {\n            if (!isNullOrUndefined(_this.targetEle)) {\n              removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          }\n          if (_this.enableResize) {\n            _this.unWireWindowResizeEvent();\n          }\n          if (document.body.classList.contains(DLG_TARGET) && document.body.classList.contains(SCROLL_DISABLED)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n          }\n          var closeAnimation = {\n            name: _this.animationSettings.effect === 'None' && animationMode === 'Enable' ? 'Zoom' + 'Out' : _this.animationSettings.effect + 'Out',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          };\n          // eslint-disable-next-line\n          _this.animationSettings.effect === 'None' && animationMode === 'Enable' ? _this.popupObj.hide(closeAnimation) : _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n          _this.dialogOpen = false;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = false;\n          _this.preventVisibility = false;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    }\n  };\n  // eslint-disable-next-line\n  /**\n   * Specifies to view the Full screen Dialog.\n   *\n   * @returns {void}\n   * @private\n   */\n  Dialog.prototype.fullScreen = function (args) {\n    /* eslint-disable */\n    var top = this.element.offsetTop;\n    var left = this.element.offsetLeft;\n    /* eslint-enable */\n    if (args) {\n      if (!this.isModal) {\n        this.element.style.top = document.scrollingElement.scrollTop + 'px';\n      }\n      addClass([this.element], FULLSCREEN);\n      var display = this.element.style.display;\n      this.element.style.display = 'none';\n      this.element.style.maxHeight = !isNullOrUndefined(this.target) ? this.targetEle.offsetHeight + 'px' : window.innerHeight + 'px';\n      this.element.style.display = display;\n      addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n      if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n        this.dragObj.destroy();\n      }\n    } else {\n      removeClass([this.element], FULLSCREEN);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n      if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n        this.setAllowDragging();\n      }\n    }\n    return args;\n  };\n  /**\n   * Returns the dialog button instances.\n   * Based on that, you can dynamically change the button states.\n   *\n   * @param { number } index - Index of the button.\n   * @returns {Button} - returns the button element\n   */\n  Dialog.prototype.getButtons = function (index) {\n    if (!isNullOrUndefined(index)) {\n      return this.btnObj[index];\n    }\n    return this.btnObj;\n  };\n  __decorate([Property('')], Dialog.prototype, \"content\", void 0);\n  __decorate([Property(true)], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n  __decorate([Property(false)], Dialog.prototype, \"enablePersistence\", void 0);\n  __decorate([Property(false)], Dialog.prototype, \"showCloseIcon\", void 0);\n  __decorate([Property(false)], Dialog.prototype, \"isModal\", void 0);\n  __decorate([Property('')], Dialog.prototype, \"header\", void 0);\n  __decorate([Property(true)], Dialog.prototype, \"visible\", void 0);\n  __decorate([Property(false)], Dialog.prototype, \"enableResize\", void 0);\n  __decorate([Property(['South-East'])], Dialog.prototype, \"resizeHandles\", void 0);\n  __decorate([Property('auto')], Dialog.prototype, \"height\", void 0);\n  __decorate([Property('')], Dialog.prototype, \"minHeight\", void 0);\n  __decorate([Property('100%')], Dialog.prototype, \"width\", void 0);\n  __decorate([Property('')], Dialog.prototype, \"cssClass\", void 0);\n  __decorate([Property(1000)], Dialog.prototype, \"zIndex\", void 0);\n  __decorate([Property(null)], Dialog.prototype, \"target\", void 0);\n  __decorate([Property('')], Dialog.prototype, \"footerTemplate\", void 0);\n  __decorate([Property(false)], Dialog.prototype, \"allowDragging\", void 0);\n  __decorate([Collection([{}], ButtonProps)], Dialog.prototype, \"buttons\", void 0);\n  __decorate([Property(true)], Dialog.prototype, \"closeOnEscape\", void 0);\n  __decorate([Complex({}, AnimationSettings)], Dialog.prototype, \"animationSettings\", void 0);\n  __decorate([Complex({\n    X: 'center',\n    Y: 'center'\n  }, PositionData)], Dialog.prototype, \"position\", void 0);\n  __decorate([Event()], Dialog.prototype, \"created\", void 0);\n  __decorate([Event()], Dialog.prototype, \"open\", void 0);\n  __decorate([Event()], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n  __decorate([Event()], Dialog.prototype, \"beforeOpen\", void 0);\n  __decorate([Event()], Dialog.prototype, \"close\", void 0);\n  __decorate([Event()], Dialog.prototype, \"beforeClose\", void 0);\n  __decorate([Event()], Dialog.prototype, \"dragStart\", void 0);\n  __decorate([Event()], Dialog.prototype, \"dragStop\", void 0);\n  __decorate([Event()], Dialog.prototype, \"drag\", void 0);\n  __decorate([Event()], Dialog.prototype, \"overlayClick\", void 0);\n  __decorate([Event()], Dialog.prototype, \"resizeStart\", void 0);\n  __decorate([Event()], Dialog.prototype, \"resizing\", void 0);\n  __decorate([Event()], Dialog.prototype, \"resizeStop\", void 0);\n  __decorate([Event()], Dialog.prototype, \"destroyed\", void 0);\n  Dialog = __decorate([NotifyPropertyChanges], Dialog);\n  return Dialog;\n}(Component);\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\nexport var DialogUtility;\n(function (DialogUtility) {\n  /**\n   * An alert dialog box is used to display warning like messages to the users.\n   * ```\n   * Eg : DialogUtility.alert('Alert message');\n   *\n   * ```\n   */\n  /* istanbul ignore next */\n  /**\n   *\n   * @param {AlertDialogArgs} args - specifies the string\n   * @returns {Dialog} - returns the dialog element.\n   */\n  function alert(args) {\n    // eslint-disable-next-line\n    var dialogComponent;\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_ALERT\n    });\n    document.body.appendChild(dialogElement);\n    var alertDialogObj;\n    var okButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n    if (typeof args === 'string') {\n      alertDialogObj = createDialog({\n        content: args,\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okButtonModel\n      }, dialogElement);\n    } else {\n      alertDialogObj = createDialog(alertOptions(args), dialogElement);\n    }\n    alertDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(alertDialogObj);\n      }\n      alertDialogObj.destroy();\n      if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n        alertDialogObj.element.parentElement.remove();\n        alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        alertDialogObj.element.remove();\n      }\n    };\n    return alertDialogObj;\n  }\n  DialogUtility.alert = alert;\n  /**\n   * A confirm dialog displays a specified message along with OK and Cancel button.\n   * ```\n   * Eg : DialogUtility.confirm('Confirm dialog message');\n   *\n   * ```\n   */\n  /* istanbul ignore next */\n  /**\n   *\n   * @param {ConfirmDialogArgs} args - specifies the args\n   * @returns {Dialog} - returns te element\n   */\n  function confirm(args) {\n    // eslint-disable-next-line\n    var dialogComponent;\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_CONFIRM\n    });\n    document.body.appendChild(dialogElement);\n    var confirmDialogObj;\n    var okCancelButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }, {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n    if (typeof args === 'string') {\n      confirmDialogObj = createDialog({\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        content: args,\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okCancelButtonModel\n      }, dialogElement);\n    } else {\n      confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n    }\n    confirmDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(confirmDialogObj);\n      }\n      confirmDialogObj.destroy();\n      if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n        confirmDialogObj.element.parentElement.remove();\n        confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        confirmDialogObj.element.remove();\n      }\n    };\n    return confirmDialogObj;\n  }\n  DialogUtility.confirm = confirm;\n  // eslint-disable-next-line\n  function createDialog(options, element) {\n    var dialogObject = new Dialog(options);\n    dialogObject.appendTo(element);\n    return dialogObject;\n  }\n  // eslint-disable-next-line\n  function alertOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setAlertButtonModel(options, option);\n    return options;\n  }\n  // eslint-disable-next-line\n  function confirmOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setConfirmButtonModel(options, option);\n    return options;\n  }\n  // eslint-disable-next-line\n  function formOptions(options, option) {\n    options.header = !isNullOrUndefined(option.title) ? option.title : null;\n    options.content = !isNullOrUndefined(option.content) ? option.content : '';\n    options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n    options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n    options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n    options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n    options.position = !isNullOrUndefined(option.position) ? option.position : {\n      X: 'center',\n      Y: 'top'\n    };\n    options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings : {\n      effect: 'Fade',\n      duration: 400,\n      delay: 0\n    };\n    options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n    options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n    options.open = !isNullOrUndefined(option.open) ? option.open : null;\n    options.width = !isNullOrUndefined(option.width) ? option.width : 'auto';\n    options.height = !isNullOrUndefined(option.height) ? option.height : 'auto';\n    return options;\n  }\n  // eslint-disable-next-line\n  function setAlertButtonModel(options, option) {\n    var alertButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n    } else {\n      options.buttons = alertButtonModel;\n    }\n    return options;\n  }\n  // eslint-disable-next-line\n  function setConfirmButtonModel(options, option) {\n    var okButtonModel = {\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n    var cancelButtonModel = {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n    } else {\n      options.buttons[0] = okButtonModel;\n    }\n    if (!isNullOrUndefined(option.cancelButton)) {\n      options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n    } else {\n      options.buttons[1] = cancelButtonModel;\n    }\n    return options;\n  }\n  // eslint-disable-next-line\n  function formButtonModel(buttonModel, option, buttonPropModel) {\n    var buttonProps = buttonPropModel;\n    if (!isNullOrUndefined(option.text)) {\n      buttonProps.buttonModel.content = option.text;\n    }\n    if (!isNullOrUndefined(option.icon)) {\n      buttonProps.buttonModel.iconCss = option.icon;\n    }\n    if (!isNullOrUndefined(option.cssClass)) {\n      buttonProps.buttonModel.cssClass = option.cssClass;\n    }\n    if (!isNullOrUndefined(option.click)) {\n      buttonProps.click = option.click;\n    }\n    if (!isNullOrUndefined(option.isFlat)) {\n      buttonProps.isFlat = option.isFlat;\n    }\n    return buttonProps;\n  }\n})(DialogUtility || (DialogUtility = {}));","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","Event","Collection","L10n","Complex","compile","createElement","animationMode","addClass","removeClass","detach","attributes","prepend","setStyleAttribute","NotifyPropertyChanges","ChildProperty","isBlazor","isNullOrUndefined","formatUnit","append","EventHandler","Draggable","extend","SanitizeHtmlHelper","Browser","Button","Popup","PositionData","getZindexPartial","createResize","removeResize","setMinHeight","setMaxWidth","setMaxHeight","ButtonProps","_super","apply","AnimationSettings","ROOT","RTL","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CONTENT","DLG_CLOSE_ICON","DLG_OVERLAY","DLG_TARGET","DLG_CONTAINER","SCROLL_DISABLED","DLG_PRIMARY_BUTTON","ICON","POPUP_ROOT","DEVICE","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_HIDE","DLG_SHOW","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","DLG_RESIZABLE","DLG_RESTRICT_LEFT_VALUE","DLG_RESTRICT_WIDTH_VALUE","DLG_REF_ELEMENT","DLG_USER_ACTION_CLOSED","DLG_CLOSE_ICON_CLOSED","DLG_ESCAPE_CLOSED","DLG_OVERLAYCLICK_CLOSED","DLG_DRAG","Dialog","options","element","_this","call","needsID","render","initialize","initRender","wireEvents","width","style","minHeight","enableResize","setResize","animationSettings","effect","getMinHeight","renderComplete","initializeValue","dlgClosedBy","preRender","headerContent","allowMaxHeight","preventVisibility","clonedEle","cloneNode","closeIconClickEventHandler","event","hide","dlgOverlayClickEventHandler","preventFocus","trigger","overlayClickEventArgs","focusContent","localeText","close","l10n","locale","checkPositionData","prevOnChange","isProtectedOnChange","document","body","updatePersistData","enablePersistence","setProperties","parseFloat","height","position","X","dragObj","left","Y","top","isNumberValue","value","isNumber","test","getEle","list","selector","undefined","classList","contains","computedHeaderHeight","computedFooterHeight","querySelector","getComputedStyle","footerEle","children","headerHeight","parseInt","slice","indexOf","footerHeight","isNaN","onResizeStart","args","dialogObj","cancel","onResizing","onResizeComplete","isBlazorServerRender","add","computedHeight","computedWidth","minWidth","direction","resizeHandles","directionValue","toString","toLocaleLowerCase","enableRtl","trim","isModal","maxHeight","targetEle","clientHeight","maxWidth","clientWidth","boundary","resizeBegin","bind","resizeComplete","resizing","proxy","wireWindowResizeEvent","unWireWindowResizeEvent","remove","getFocusElement","items","querySelectorAll","keyDown","keyCode","buttonObj","btnObj","ftrTemplateContent","contentEle","activeElement","shiftKey","preventDefault","focusableElements","focus","isTagName","tagName","toLowerCase","isContentEdit","hasAttribute","getAttribute","closeOnEscape","query","ctrlKey","primaryButtonEle","buttonIndex_1","firstPrimary","buttons","some","data","index","buttonModel","isPrimary","click","setTimeout","isDevice","setCSSClass","initialRender","role","zIndex","setzIndex","calculatezIndex","getElementsByClassName","id","setTargetContent","header","setHeader","renderCloseIcon","setContent","footerTemplate","setFooterTemplate","setButton","allowDragging","setAllowDragging","setIsModal","dlgContainer","parentElement","childNodes","dlgOverlay","parentEle","refElement","className","insertBefore","appendChild","popupObj","relateTo","actionOnScroll","open","eventArgs","container","resetResizeIcon","openEventArgs","unBindEvent","display","closeArgs","activeEle","blur","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","show","targetType","getTargetContainer","Element","computedStyle","window","getPropertyValue","setPopupPosition","targetValue","targetElement","startsWith","getElementById","substring","elements","HTMLElement","dialogConHeight","offsetHeight","resizeIcon","bottom","zIndexValue","handleContent","clone","isDragScroll","abort","handle","dragStart","dragEventArgs","bindEvents","dragElement","dragStop","drag","dragArea","buttonContent","primaryBtnFlag","buttonType","type","btn","cssClass","attrs","push","outerHTML","footerBtn","buttonClickHandler","appendTo","isFlat","headerEle","innerContentElement","content","blazorContain","keys","setTemplate","isIE","template","toElement","prop","templateFn","templateProps","templateValue","isStringTemplate","sanitizeHelper","isVue","innerHTML","fromElements","isString","_i","_a","item","enableHtmlSanitizer","dialogItem","beforeSanitize","beforeEvent","helper","serializeValue","innerHeight","isContent","replace","createDocumentFragment","forEach","el","nodeType","createHeaderContent","join","showCloseIcon","closeIcon","closeIconBtnObj","iconCss","closeIconTitle","setLocale","getConstant","setAttribute","oldCSSClass","split","parentNode","getValidFocusNode","node","u","tabIndex","disabled","disableElement","getAutoFocusNode","validNode","t","elementMatch","matches","webkitMatchesSelector","msGetRegionContent","userAgent","bindEvent","updateSanitizeContent","isServerRendered","getModuleName","onPropertyChanged","newProp","oldProp","clearTemplate","innerText","insertAdjacentHTML","updateIsModal","buttonCount","destroy","setTarget","positionX","positionY","firstChild","removeChild","zIndexElement","setPopupZindex","currentzIndex","windowResizeHandler","getPersistData","addOnPersist","removeAllChildren","isDestroyed","classArray","unWireEvents","removeAttribute","isReact","boundWindowResizeHandler","addEventListener","removeEventListener","refreshPosition","getDimension","dialogWidth","offsetWidth","dialogHeight","isFullScreen","fullScreen","eventArgs_1","beforeOpenArgs","openAnimation","name","duration","delay","dialogOpen","renderReactTemplates","isInteracted","closedBy","beforeCloseArgs","closeAnimation","offsetTop","offsetLeft","scrollingElement","scrollTop","getButtons","DialogUtility","alert","dialogComponent","dialogElement","alertDialogObj","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","option","formOptions","setAlertButtonModel","setConfirmButtonModel","title","isDraggable","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","text","icon"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Complex, compile, createElement, animationMode } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append, EventHandler, Draggable, extend } from '@syncfusion/ej2-base';\nimport { SanitizeHtmlHelper, Browser } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { createResize, removeResize, setMinHeight, setMaxWidth, setMaxHeight } from '../common/resize';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], ButtonProps.prototype, \"isFlat\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate([\n        Event()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nvar DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /*\n     * * Constructor for creating the widget\n     *\n     * @param\n     * @param\n     * @hidden\n     */\n    function Dialog(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.needsID = true;\n        return _this;\n    }\n    /**\n     *Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n        if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n        }\n        if (this.enableResize) {\n            this.setResize();\n            if (this.animationSettings.effect === 'None') {\n                this.getMinHeight();\n            }\n        }\n        this.renderComplete();\n    };\n    Dialog.prototype.initializeValue = function () {\n        this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n    };\n    /**\n     *Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.initializeValue();\n        this.headerContent = null;\n        this.allowMaxHeight = true;\n        this.preventVisibility = true;\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n            _this.hide(event);\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n            event.preventFocus = false;\n            _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n                if (!overlayClickEventArgs.preventFocus) {\n                    _this.focusContent();\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        };\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.checkPositionData();\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    Dialog.prototype.updatePersistData = function () {\n        if (this.enablePersistence) {\n            this.setProperties({ width: parseFloat(this.element.style.width), height: parseFloat(this.element.style.height),\n                position: { X: parseFloat(this.dragObj.element.style.left), Y: parseFloat(this.dragObj.element.style.top) } }, true);\n        }\n    };\n    Dialog.prototype.isNumberValue = function (value) {\n        var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n        return isNumber;\n    };\n    Dialog.prototype.checkPositionData = function () {\n        if (!isNullOrUndefined(this.position)) {\n            if (!isNullOrUndefined(this.position.X) && (typeof (this.position.X) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.X);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.X = parseFloat(this.position.X);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            if (!isNullOrUndefined(this.position.Y) && (typeof (this.position.Y) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.Y);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.Y = parseFloat(this.position.Y);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n        }\n    };\n    Dialog.prototype.getEle = function (list, selector) {\n        var element = undefined;\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].classList.contains(selector)) {\n                element = list[i];\n                break;\n            }\n        }\n        return element;\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.getMinHeight = function () {\n        var computedHeaderHeight = '0px';\n        var computedFooterHeight = '0px';\n        if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n            computedHeaderHeight = getComputedStyle(this.headerContent).height;\n        }\n        var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n        if (!isNullOrUndefined(footerEle)) {\n            computedFooterHeight = getComputedStyle(footerEle).height;\n        }\n        var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n        var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n        setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n        return (headerHeight + 30 + footerHeight);\n    };\n    Dialog.prototype.onResizeStart = function (args, dialogObj) {\n        dialogObj.trigger('resizeStart', args);\n        return args.cancel;\n    };\n    Dialog.prototype.onResizing = function (args, dialogObj) {\n        dialogObj.trigger('resizing', args);\n    };\n    Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n        dialogObj.trigger('resizeStop', args);\n        this.updatePersistData();\n    };\n    Dialog.prototype.setResize = function () {\n        if (this.enableResize) {\n            if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n                return;\n            }\n            this.element.classList.add(DLG_RESIZABLE);\n            var computedHeight = getComputedStyle(this.element).minHeight;\n            var computedWidth = getComputedStyle(this.element).minWidth;\n            var direction = '';\n            for (var i = 0; i < this.resizeHandles.length; i++) {\n                if (this.resizeHandles[i] === 'All') {\n                    direction = 'south north east west north-east north-west south-east south-west';\n                    break;\n                }\n                else {\n                    var directionValue = '';\n                    switch (this.resizeHandles[i].toString()) {\n                        case 'SouthEast':\n                            directionValue = 'south-east';\n                            break;\n                        case 'SouthWest':\n                            directionValue = 'south-west';\n                            break;\n                        case 'NorthEast':\n                            directionValue = 'north-east';\n                            break;\n                        case 'NorthWest':\n                            directionValue = 'north-west';\n                            break;\n                        default:\n                            directionValue = this.resizeHandles[i].toString();\n                            break;\n                    }\n                    direction += directionValue.toLocaleLowerCase() + ' ';\n                }\n            }\n            if (this.enableRtl && direction.trim() === 'south-east') {\n                direction = 'south-west';\n            }\n            else if (this.enableRtl && direction.trim() === 'south-west') {\n                direction = 'south-east';\n            }\n            if (this.isModal && this.enableRtl) {\n                this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else if (this.isModal && this.target === document.body) {\n                this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            createResize({\n                element: this.element,\n                direction: direction,\n                minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n                maxHeight: this.targetEle.clientHeight,\n                minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n                maxWidth: this.targetEle.clientWidth,\n                boundary: this.target === document.body ? null : this.targetEle,\n                resizeBegin: this.onResizeStart.bind(this),\n                resizeComplete: this.onResizeComplete.bind(this),\n                resizing: this.onResizing.bind(this),\n                proxy: this\n            });\n            this.wireWindowResizeEvent();\n        }\n        else {\n            removeResize();\n            this.unWireWindowResizeEvent();\n            if (this.isModal) {\n                this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else {\n                this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            this.element.classList.remove(DLG_RESIZABLE);\n        }\n    };\n    Dialog.prototype.getFocusElement = function (target) {\n        var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n        var items = target.querySelectorAll(value);\n        return { element: items[items.length - 1] };\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if ((isNullOrUndefined(this.btnObj)) && (!isNullOrUndefined(this.ftrTemplateContent))) {\n                    buttonObj = this.getFocusElement(this.ftrTemplateContent);\n                }\n                if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n                    buttonObj = this.getFocusElement(this.contentEle);\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n            var query = document.querySelector('.e-popup-open:not(.e-dialog)');\n            // 'document.querySelector' is used to find the elements rendered based on body\n            if (!(!isNullOrUndefined(query) && !query.classList.contains('e-toolbar-pop'))) {\n                this.hide(event);\n            }\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                // eslint-disable-next-line\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], ROOT);\n        }\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setCSSClass();\n        }\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { role: 'dialog' });\n        }\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n            this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setTargetContent();\n            if (this.header !== '' && !isNullOrUndefined(this.header)) {\n                this.setHeader();\n            }\n            this.renderCloseIcon();\n            this.setContent();\n            if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n                this.setFooterTemplate();\n            }\n            else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                this.setButton();\n            }\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                this.setButton();\n            }\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n            if (this.isModal) {\n                this.setIsModal();\n            }\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n            this.dlgContainer = this.element.parentElement;\n            for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n                if (childNodes[i].classList.contains('e-dlg-overlay')) {\n                    this.dlgOverlay = childNodes[i];\n                }\n            }\n        }\n        if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true\n            && !isNullOrUndefined(this.element.parentElement)) {\n            var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n            this.refElement = this.createElement('div', { className: DLG_REF_ELEMENT });\n            parentEle.insertBefore(this.refElement, (this.isModal ? this.dlgContainer : this.element));\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            // eslint-disable-next-line\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            enableRtl: this.enableRtl,\n            // eslint-disable-next-line\n            open: function (event) {\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target,\n                    preventFocus: false\n                };\n                if (_this.enableResize) {\n                    _this.resetResizeIcon();\n                }\n                _this.trigger('open', eventArgs, function (openEventArgs) {\n                    if (!openEventArgs.preventFocus) {\n                        _this.focusContent();\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                var activeEle = document.activeElement;\n                if (!isNullOrUndefined(activeEle) && !isNullOrUndefined((activeEle).blur)) {\n                    activeEle.blur();\n                }\n                if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], DLG_HIDE);\n            if (this.isModal) {\n                this.setOverlayZindex();\n            }\n        }\n        if (this.visible) {\n            this.show();\n            if (this.isModal) {\n                var targetType = this.getTargetContainer(this.target);\n                if (targetType instanceof Element) {\n                    var computedStyle = window.getComputedStyle(targetType);\n                    if (computedStyle.getPropertyValue('direction') === 'rtl') {\n                        this.setPopupPosition();\n                    }\n                }\n            }\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.getTargetContainer = function (targetValue) {\n        var targetElement = null;\n        if (typeof targetValue === 'string') {\n            if (targetValue.startsWith('#')) {\n                targetElement = document.getElementById(targetValue.substring(1));\n            }\n            else if (targetValue.startsWith('.')) {\n                var elements = document.getElementsByClassName(targetValue.substring(1));\n                targetElement = elements.length > 0 ? elements[0] : null;\n            }\n            else {\n                if (!(targetValue instanceof HTMLElement) && targetValue !== document.body) {\n                    targetElement = document.querySelector(targetValue);\n                }\n            }\n        }\n        else if (targetValue instanceof HTMLElement) {\n            targetElement = targetValue;\n        }\n        return targetElement;\n    };\n    Dialog.prototype.resetResizeIcon = function () {\n        var dialogConHeight = this.getMinHeight();\n        if (this.targetEle.offsetHeight < dialogConHeight) {\n            var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n            var resizeIcon = this.element.querySelector('.' + className);\n            if (!isNullOrUndefined(resizeIcon)) {\n                resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n            }\n        }\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n                this.setPopupPosition();\n            }\n            else if ((!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)))\n                || (isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y)))) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        if (!this.element.classList.contains(DLG_DRAG)) {\n            this.dragObj = new Draggable(this.element, {\n                clone: false,\n                isDragScroll: true,\n                abort: '.e-dlg-closeicon-btn',\n                handle: handleContent,\n                dragStart: function (event) {\n                    _this.trigger('dragStart', event, function (dragEventArgs) {\n                        if (isBlazor()) {\n                            dragEventArgs.bindEvents(event.dragElement);\n                        }\n                    });\n                },\n                dragStop: function (event) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.position)) {\n                            _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                        }\n                        // Reset the dialog position after drag completion.\n                        var targetType = _this.getTargetContainer(_this.target);\n                        if (targetType instanceof Element) {\n                            var computedStyle = window.getComputedStyle(targetType);\n                            if (computedStyle.getPropertyValue('direction') === 'rtl') {\n                                _this.element.style.position = 'absolute';\n                            }\n                            else {\n                                _this.element.style.position = 'relative';\n                            }\n                        }\n                        else {\n                            _this.element.style.position = 'relative';\n                        }\n                    }\n                    _this.trigger('dragStop', event);\n                    _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n                    _this.updatePersistData();\n                },\n                drag: function (event) {\n                    _this.trigger('drag', event);\n                }\n            });\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.dragObj.dragArea = this.targetEle;\n            }\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        if (!this.isBlazorServerRender()) {\n            this.buttonContent = [];\n            this.btnObj = [];\n            // eslint-disable-next-line\n            var primaryBtnFlag = true;\n            for (var i = 0; i < this.buttons.length; i++) {\n                var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n                var btn = this.createElement('button', { className: this.cssClass, attrs: { type: buttonType } });\n                this.buttonContent.push(btn.outerHTML);\n            }\n            this.setFooterTemplate();\n        }\n        var footerBtn;\n        for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n            if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n                footerBtn = childNodes[i].querySelectorAll('button');\n            }\n        }\n        for (var i = 0; i < this.buttons.length; i++) {\n            if (!this.isBlazorServerRender()) {\n                this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            }\n            if (this.isBlazorServerRender()) {\n                this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n            }\n            if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n                }\n                if (typeof (this.buttons[i].click) === 'object') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n                }\n            }\n            if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n                this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n                if (this.buttons[i].isFlat) {\n                    this.btnObj[i].element.classList.add('e-flat');\n                }\n                this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n            }\n        }\n    };\n    Dialog.prototype.buttonClickHandler = function (index) {\n        this.trigger('buttons[' + index + '].click', {});\n    };\n    Dialog.prototype.setContent = function () {\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.headerEle) {\n            attributes(this.element, { 'aria-describedby': this.element.id + '_title' + ' ' + this.element.id + '_dialog-content' });\n        }\n        else {\n            attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        }\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            // eslint-disable-next-line\n            var blazorContain = Object.keys(window);\n            if (typeof (this.content) === 'string' && !isBlazor()) {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n                this.element.style.width = formatUnit(this.width);\n            }\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement, prop) {\n        var templateFn;\n        var templateProps;\n        // eslint-disable-next-line\n        var blazorContain = Object.keys(window);\n        if (toElement.classList.contains(DLG_HEADER)) {\n            templateProps = this.element.id + 'header';\n        }\n        else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n            templateProps = this.element.id + 'footerTemplate';\n        }\n        else {\n            templateProps = this.element.id + 'content';\n        }\n        var templateValue;\n        if (!isNullOrUndefined(template.outerHTML)) {\n            toElement.appendChild(template);\n        }\n        else if ((typeof template === 'string') || (typeof template !== 'string') || (isBlazor() && !this.isStringTemplate)) {\n            if ((typeof template === 'string')) {\n                template = this.sanitizeHelper(template);\n            }\n            if (this.isVue || typeof template !== 'string') {\n                templateFn = compile(template);\n                templateValue = template;\n            }\n            else {\n                toElement.innerHTML = template;\n            }\n        }\n        var fromElements = [];\n        if (!isNullOrUndefined(templateFn)) {\n            var isString = (isBlazor() &&\n                !this.isStringTemplate && (templateValue).indexOf('<div>Blazor') === 0) ?\n                this.isStringTemplate : true;\n            for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n                var item = _a[_i];\n                fromElements.push(item);\n            }\n            append([].slice.call(fromElements), toElement);\n        }\n    };\n    /*\n     * @returns {void}\n     * @hidden\n     * @value\n     */\n    Dialog.prototype.sanitizeHelper = function (value) {\n        if (this.enableHtmlSanitizer) {\n            var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n            var beforeEvent = {\n                cancel: false,\n                helper: null\n            };\n            extend(dialogItem, dialogItem, beforeEvent);\n            this.trigger('beforeSanitizeHtml', dialogItem);\n            if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n                value = dialogItem.helper(value);\n            }\n            else if (!dialogItem.cancel) {\n                value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n            }\n        }\n        return value;\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        if (!this.allowMaxHeight) {\n            return;\n        }\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n        if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle)\n            && this.element.offsetHeight < this.contentEle.offsetHeight) {\n            this.element.style.height = 'inherit';\n        }\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        if (!this.isBlazorServerRender()) {\n            // eslint-disable-next-line\n            this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n            removeResize();\n            this.setResize();\n        }\n    };\n    Dialog.prototype.setTargetContent = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                [].slice.call(this.element.childNodes).forEach(function (el) {\n                    if (el.nodeType !== 8) {\n                        _this.innerContentElement.appendChild(el);\n                    }\n                });\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle, 'header');\n        attributes(this.element, { 'aria-describedby': this.element.id + '_title' });\n        attributes(this.element, { 'aria-label': \"dialog\" });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { id: this.element.id + '_dialog-header', className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        if (this.showCloseIcon) {\n            this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n            this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n            this.closeIconTitle();\n            if (!isNullOrUndefined(this.headerContent)) {\n                prepend([this.closeIcon], this.headerContent);\n            }\n            else {\n                this.createHeaderContent();\n                prepend([this.closeIcon], this.headerContent);\n                this.element.insertBefore(this.headerContent, this.element.children[0]);\n            }\n            this.closeIconBtnObj.appendTo(this.closeIcon);\n        }\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n        this.closeIcon.setAttribute('aria-label', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n            if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n                removeClass([this.dlgContainer], oldCSSClass.split(' '));\n            }\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n            if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n                addClass([this.dlgContainer], this.cssClass.split(' '));\n            }\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.setCSSClass();\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n            else {\n                node = null;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (isBlazor()) {\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        var userAgent = Browser.userAgent;\n        if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n            this.element.focus();\n        }\n        node.focus();\n        this.unBindEvent(this.element);\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    Dialog.prototype.updateSanitizeContent = function () {\n        if (!this.isBlazorServerRender()) {\n            this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n        }\n    };\n    Dialog.prototype.isBlazorServerRender = function () {\n        return isBlazor() && this.isServerRendered;\n    };\n    /**\n     * Module required function\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     *\n     * @param {DialogModel} newProp - specifies the new property\n     * @param {DialogModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (this.isBlazorServerRender()) {\n                            this.contentEle = this.element.querySelector('.e-dlg-content');\n                        }\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            if (!this.isBlazorServerRender()) {\n                                this.contentEle.innerHTML = '';\n                            }\n                            if (typeof (this.content) === 'function') {\n                                this.clearTemplate(['content']);\n                                detach(this.contentEle);\n                                this.contentEle = null;\n                                this.setContent();\n                            }\n                            else {\n                                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                                typeof (this.content) === 'string' ? (this.isBlazorServerRender() && (this.contentEle.innerText === '')) ?\n                                    this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) :\n                                    this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n                            }\n                            this.setMaxHeight();\n                        }\n                        else {\n                            if (!this.isBlazorServerRender() ||\n                                isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                                this.setContent();\n                            }\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n                            this.setHeader();\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n                            this.setFooterTemplate();\n                        }\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                        else {\n                            if (this.isBlazorServerRender()) {\n                                this.wireEvents();\n                            }\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender()) {\n                            this.renderCloseIcon();\n                        }\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    // eslint-disable-next-line\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    this.updatePersistData();\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    this.updatePersistData();\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    if (this.element.style.zIndex !== this.zIndex.toString()) {\n                        this.calculatezIndex = false;\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons': {\n                    var buttonCount = this.buttons.length;\n                    if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                    }\n                    for (var i = 0; i < buttonCount; i++) {\n                        if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                            this.footerTemplate = '';\n                            this.setButton();\n                        }\n                    }\n                    break;\n                }\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.setTarget(newProp.target);\n                    break;\n                case 'position':\n                    this.checkPositionData();\n                    if (this.isModal) {\n                        var positionX = !isNullOrUndefined(oldProp.position) && !isNullOrUndefined(oldProp.position.X) ? oldProp.position.X : this.position.X;\n                        var positionY = !isNullOrUndefined(oldProp.position) && !isNullOrUndefined(oldProp.position.Y) ? oldProp.position.Y : this.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    this.updatePersistData();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'enableResize':\n                    this.setResize();\n                    break;\n                case 'minHeight':\n                    if (this.minHeight !== '') {\n                        this.element.style.minHeight = formatUnit(this.minHeight);\n                    }\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.setTarget = function (target) {\n        this.popupObj.relateTo = target;\n        this.target = target;\n        this.targetEle = ((typeof this.target) === 'string') ?\n            document.querySelector(this.target) : this.target;\n        if (this.dragObj) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n        this.setMaxHeight();\n        if (this.isModal) {\n            this.updateIsModal();\n        }\n        if (this.enableResize) {\n            this.setResize();\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            if (isNullOrUndefined(this.dlgOverlay)) {\n                this.setIsModal();\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    this.targetEle.appendChild(this.dlgContainer);\n                }\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        var currentzIndex = getZindexPartial(zIndexElement);\n        this.zIndex = currentzIndex > this.zIndex ? currentzIndex : this.zIndex;\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    Dialog.prototype.windowResizeHandler = function () {\n        setMaxWidth(this.targetEle.clientWidth);\n        setMaxHeight(this.targetEle.clientHeight);\n        this.setMaxHeight();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist(['width', 'height', 'position']);\n    };\n    Dialog.prototype.removeAllChildren = function (element) {\n        while (element.children[0]) {\n            this.removeAllChildren(element.children[0]);\n            element.removeChild(element.children[0]);\n        }\n    };\n    /**\n     * To destroy the widget\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n        var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n        removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n        if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n        }\n        if (this.isModal) {\n            removeClass([(!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body)], SCROLL_DISABLED);\n        }\n        this.unWireEvents();\n        if (!isNullOrUndefined(this.btnObj)) {\n            for (var i = 0; i < this.btnObj.length; i++) {\n                this.btnObj[i].destroy();\n            }\n        }\n        if (!isNullOrUndefined(this.closeIconBtnObj)) {\n            this.closeIconBtnObj.destroy();\n        }\n        if (!isNullOrUndefined(this.dragObj)) {\n            this.dragObj.destroy();\n        }\n        if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], classArray);\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n            this.refElement.parentElement.insertBefore((this.isModal ? this.dlgContainer : this.element), this.refElement);\n            detach(this.refElement);\n            this.refElement = undefined;\n        }\n        if (this.isModal && !this.isBlazorServerRender()) {\n            detach(this.dlgOverlay);\n            this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n            detach(this.dlgContainer);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.element.innerHTML = this.clonedEle.innerHTML;\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.element.children)) {\n                for (var i = 0; i <= this.element.children.length; i++) {\n                    i = i - i;\n                    detach(this.element.children[i]);\n                }\n            }\n        }\n        for (var i = 0; i < attrs.length; i++) {\n            this.element.removeAttribute(attrs[i]);\n        }\n        this.ftrTemplateContent = null;\n        this.headerContent = null;\n        if (!this.isReact && !this.isVue && !isNullOrUndefined(this.contentEle)) {\n            this.removeAllChildren(this.contentEle);\n        }\n        this.contentEle = null;\n        if (!this.isBlazorServerRender()) {\n            _super.prototype.destroy.call(this);\n        }\n        else {\n            this.isDestroyed = true;\n        }\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    Dialog.prototype.wireWindowResizeEvent = function () {\n        this.boundWindowResizeHandler = this.windowResizeHandler.bind(this);\n        window.addEventListener('resize', this.boundWindowResizeHandler);\n    };\n    Dialog.prototype.unWireWindowResizeEvent = function () {\n        window.removeEventListener('resize', this.boundWindowResizeHandler);\n        this.boundWindowResizeHandler = null;\n    };\n    /**\n     * Binding event to the element while widget creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.isBlazorServerRender() && this.showCloseIcon) {\n            this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n        }\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n        if (this.element.classList.contains(MODAL_DLG)) {\n            this.positionChange();\n        }\n    };\n    /**\n     * Returns the current width and height of the Dialog\n     *\n     * @returns {DialogDimension}- returns the dialog element Dimension.\n     * @public\n     */\n    Dialog.prototype.getDimension = function () {\n        var dialogWidth = this.element.offsetWidth;\n        var dialogHeight = this.element.offsetHeight;\n        return { width: dialogWidth, height: dialogHeight };\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     *\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @returns {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs_1 = isBlazor() ? {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                maxHeight: this.element.style.maxHeight\n            } : {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target,\n                maxHeight: this.element.style.maxHeight\n            };\n            this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n                if (!beforeOpenArgs.cancel) {\n                    if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n                        _this.allowMaxHeight = false;\n                        _this.element.style.maxHeight = eventArgs_1.maxHeight;\n                    }\n                    if (_this.enableResize && _this.boundWindowResizeHandler == null && !_this.initialRender) {\n                        _this.wireWindowResizeEvent();\n                    }\n                    _this.storeActiveElement = document.activeElement;\n                    _this.element.tabIndex = -1;\n                    if (_this.isModal && (!isNullOrUndefined(_this.dlgOverlay))) {\n                        _this.dlgOverlay.style.display = 'block';\n                        _this.dlgContainer.style.display = 'flex';\n                        removeClass([_this.dlgOverlay], 'e-fade');\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            if (_this.targetEle === document.body) {\n                                _this.dlgContainer.style.position = 'fixed';\n                            }\n                            else {\n                                _this.dlgContainer.style.position = 'absolute';\n                            }\n                            _this.dlgOverlay.style.position = 'absolute';\n                            var targetType = _this.getTargetContainer(_this.target);\n                            if (targetType instanceof Element) {\n                                var computedStyle = window.getComputedStyle(targetType);\n                                if (computedStyle.getPropertyValue('direction') === 'rtl') {\n                                    _this.element.style.position = 'absolute';\n                                }\n                                else {\n                                    _this.element.style.position = 'relative';\n                                }\n                            }\n                            else {\n                                _this.element.style.position = 'relative';\n                            }\n                            addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                        else {\n                            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    var openAnimation = {\n                        name: (_this.animationSettings.effect === 'None' && animationMode === 'Enable') ? 'Zoom' + 'In' : _this.animationSettings.effect + 'In',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    var zIndexElement = (_this.isModal) ? _this.element.parentElement : _this.element;\n                    if (_this.calculatezIndex) {\n                        _this.setzIndex(zIndexElement, true);\n                        setStyleAttribute(_this.element, { 'zIndex': _this.zIndex });\n                        if (_this.isModal) {\n                            _this.setOverlayZindex(_this.zIndex);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    (_this.animationSettings.effect === 'None' && animationMode === 'Enable') ? _this.popupObj.show(openAnimation) : ((_this.animationSettings.effect === 'None') ? _this.popupObj.show() : _this.popupObj.show(openAnimation));\n                    _this.dialogOpen = true;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = true;\n                    _this.preventVisibility = true;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     *\n     * @param { Event } event - specifies the event\n     * @returns {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (this.preventVisibility) {\n            var eventArgs = isBlazor() ? {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            } : {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                target: this.target,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event,\n                closedBy: this.dlgClosedBy\n            };\n            this.closeArgs = eventArgs;\n            this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n                if (!beforeCloseArgs.cancel) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    if (_this.enableResize) {\n                        _this.unWireWindowResizeEvent();\n                    }\n                    if (document.body.classList.contains(DLG_TARGET) &&\n                        document.body.classList.contains(SCROLL_DISABLED)) {\n                        removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                    }\n                    var closeAnimation = {\n                        name: (_this.animationSettings.effect === 'None' && animationMode === 'Enable') ? 'Zoom' + 'Out' : _this.animationSettings.effect + 'Out',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    // eslint-disable-next-line\n                    (_this.animationSettings.effect === 'None' && animationMode === 'Enable') ? _this.popupObj.hide(closeAnimation) : ((_this.animationSettings.effect === 'None') ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation));\n                    _this.dialogOpen = false;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = false;\n                    _this.preventVisibility = false;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        }\n    };\n    // eslint-disable-next-line\n    /**\n     * Specifies to view the Full screen Dialog.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        /* eslint-disable */\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        /* eslint-enable */\n        if (args) {\n            if (!this.isModal) {\n                this.element.style.top = document.scrollingElement.scrollTop + 'px';\n            }\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     *\n     * @param { number } index - Index of the button.\n     * @returns {Button} - returns the button element\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"enableResize\", void 0);\n    __decorate([\n        Property(['South-East'])\n    ], Dialog.prototype, \"resizeHandles\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"minHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"destroyed\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\nexport var DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {AlertDialogArgs} args - specifies the string\n     * @returns {Dialog} - returns the dialog element.\n     */\n    function alert(args) {\n        // eslint-disable-next-line\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(alertDialogObj);\n            }\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with OK and Cancel button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {ConfirmDialogArgs} args - specifies the args\n     * @returns {Dialog} - returns te element\n     */\n    function confirm(args) {\n        // eslint-disable-next-line\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(confirmDialogObj);\n            }\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    // eslint-disable-next-line\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    // eslint-disable-next-line\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : null;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings :\n            { effect: 'Fade', duration: 400, delay: 0 };\n        options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n        options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n        options.open = !isNullOrUndefined(option.open) ? option.open : null;\n        options.width = !isNullOrUndefined(option.width) ? option.width : 'auto';\n        options.height = !isNullOrUndefined(option.height) ? option.height : 'auto';\n        return options;\n    }\n    // eslint-disable-next-line\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        if (!isNullOrUndefined(option.isFlat)) {\n            buttonProps.isFlat = option.isFlat;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n"],"mappings":"AAAA,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAM,YAAY;EACrD,IAAIC,aAAa,GAAG,SAAAA,CAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGG,MAAM,CAACC,cAAc,IAChC;MAAEC,SAAS,EAAE;IAAG,CAAC,YAAYC,KAAK,IAAI,UAAUL,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACI,SAAS,GAAGH,CAAC;IAAE,CAAE,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIK,CAAC,IAAIL,CAAC,EAAE,IAAIA,CAAC,CAACM,cAAc,CAACD,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IAAE,CAAC;IAC9E,OAAOP,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC9B,CAAC;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnBF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASO,EAAEA,CAAA,EAAG;MAAE,IAAI,CAACC,WAAW,GAAGT,CAAC;IAAE;IACtCA,CAAC,CAACU,SAAS,GAAGT,CAAC,KAAK,IAAI,GAAGC,MAAM,CAACS,MAAM,CAACV,CAAC,CAAC,IAAIO,EAAE,CAACE,SAAS,GAAGT,CAAC,CAACS,SAAS,EAAE,IAAIF,EAAE,CAAC,CAAC,CAAC;EACxF,CAAC;AACL,CAAC,CAAE,CAAC;AACJ,IAAII,UAAU,GAAI,IAAI,IAAI,IAAI,CAACA,UAAU,IAAK,UAAUC,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACnF,IAAIC,CAAC,GAAGC,SAAS,CAACC,MAAM;IAAEC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGH,MAAM,GAAGE,IAAI,KAAK,IAAI,GAAGA,IAAI,GAAGd,MAAM,CAACmB,wBAAwB,CAACP,MAAM,EAAEC,GAAG,CAAC,GAAGC,IAAI;IAAEhB,CAAC;EAC5H,IAAI,OAAOsB,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,CAACC,QAAQ,KAAK,UAAU,EAAEH,CAAC,GAAGE,OAAO,CAACC,QAAQ,CAACV,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,CAAC,CAAC,KAC1H,KAAK,IAAIQ,CAAC,GAAGX,UAAU,CAACM,MAAM,GAAG,CAAC,EAAEK,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIxB,CAAC,GAAGa,UAAU,CAACW,CAAC,CAAC,EAAEJ,CAAC,GAAG,CAACH,CAAC,GAAG,CAAC,GAAGjB,CAAC,CAACoB,CAAC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGjB,CAAC,CAACc,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,GAAGpB,CAAC,CAACc,MAAM,EAAEC,GAAG,CAAC,KAAKK,CAAC;EACjJ,OAAOH,CAAC,GAAG,CAAC,IAAIG,CAAC,IAAIlB,MAAM,CAACuB,cAAc,CAACX,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,EAAEA,CAAC;AACjE,CAAC;AACD,SAASM,SAAS,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,UAAU,EAAEC,IAAI,EAAEC,OAAO,EAAEC,OAAO,EAAEC,aAAa,EAAEC,aAAa,QAAQ,sBAAsB;AACnI,SAASC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,EAAEC,UAAU,EAAEC,OAAO,EAAEC,iBAAiB,QAAQ,sBAAsB;AAC5G,SAASC,qBAAqB,EAAEC,aAAa,EAAEC,QAAQ,QAAQ,sBAAsB;AACrF,SAASC,iBAAiB,EAAEC,UAAU,EAAEC,MAAM,EAAEC,YAAY,EAAEC,SAAS,EAAEC,MAAM,QAAQ,sBAAsB;AAC7G,SAASC,kBAAkB,EAAEC,OAAO,QAAQ,sBAAsB;AAClE,SAASC,MAAM,QAAQ,yBAAyB;AAChD,SAASC,KAAK,EAAEC,YAAY,EAAEC,gBAAgB,QAAQ,gBAAgB;AACtE,SAASC,YAAY,EAAEC,YAAY,EAAEC,YAAY,EAAEC,WAAW,EAAEC,YAAY,QAAQ,kBAAkB;AACtG,IAAIC,WAAW,GAAG,aAAe,UAAUC,MAAM,EAAE;EAC/ChE,SAAS,CAAC+D,WAAW,EAAEC,MAAM,CAAC;EAC9B,SAASD,WAAWA,CAAA,EAAG;IACnB,OAAOC,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACC,KAAK,CAAC,IAAI,EAAE7C,SAAS,CAAC,IAAI,IAAI;EACnE;EACAN,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAI,CAAC,CACjB,EAAEkC,WAAW,CAACnD,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;EAC3CE,UAAU,CAAC,CACPe,QAAQ,CAAC,CAAC,CACb,EAAEkC,WAAW,CAACnD,SAAS,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;EAChDE,UAAU,CAAC,CACPe,QAAQ,CAAC,QAAQ,CAAC,CACrB,EAAEkC,WAAW,CAACnD,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;EACzCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEiC,WAAW,CAACnD,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;EAC1C,OAAOmD,WAAW;AACtB,CAAC,CAACnB,aAAa,CAAE;AACjB,SAASmB,WAAW;AACpB;AACA;AACA;AACA,IAAIG,iBAAiB,GAAG,aAAe,UAAUF,MAAM,EAAE;EACrDhE,SAAS,CAACkE,iBAAiB,EAAEF,MAAM,CAAC;EACpC,SAASE,iBAAiBA,CAAA,EAAG;IACzB,OAAOF,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACC,KAAK,CAAC,IAAI,EAAE7C,SAAS,CAAC,IAAI,IAAI;EACnE;EACAN,UAAU,CAAC,CACPe,QAAQ,CAAC,MAAM,CAAC,CACnB,EAAEqC,iBAAiB,CAACtD,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;EACjDE,UAAU,CAAC,CACPe,QAAQ,CAAC,GAAG,CAAC,CAChB,EAAEqC,iBAAiB,CAACtD,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;EACnDE,UAAU,CAAC,CACPe,QAAQ,CAAC,CAAC,CAAC,CACd,EAAEqC,iBAAiB,CAACtD,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;EAChD,OAAOsD,iBAAiB;AAC5B,CAAC,CAACtB,aAAa,CAAE;AACjB,SAASsB,iBAAiB;AAC1B,IAAIC,IAAI,GAAG,UAAU;AACrB,IAAIC,GAAG,GAAG,OAAO;AACjB,IAAIC,kBAAkB,GAAG,sBAAsB;AAC/C,IAAIC,UAAU,GAAG,cAAc;AAC/B,IAAIC,kBAAkB,GAAG,kBAAkB;AAC3C,IAAIC,SAAS,GAAG,aAAa;AAC7B,IAAIC,WAAW,GAAG,eAAe;AACjC,IAAIC,cAAc,GAAG,kBAAkB;AACvC,IAAIC,WAAW,GAAG,eAAe;AACjC,IAAIC,UAAU,GAAG,cAAc;AAC/B,IAAIC,aAAa,GAAG,iBAAiB;AACrC,IAAIC,eAAe,GAAG,mBAAmB;AACzC,IAAIC,kBAAkB,GAAG,WAAW;AACpC,IAAIC,IAAI,GAAG,SAAS;AACpB,IAAIC,UAAU,GAAG,SAAS;AAC1B,IAAIC,MAAM,GAAG,UAAU;AACvB,IAAIC,UAAU,GAAG,kBAAkB;AACnC,IAAIC,kBAAkB,GAAG,qBAAqB;AAC9C,IAAIC,QAAQ,GAAG,eAAe;AAC9B,IAAIC,QAAQ,GAAG,cAAc;AAC7B,IAAIC,sBAAsB,GAAG,aAAa;AAC1C,IAAIC,aAAa,GAAG,mBAAmB;AACvC,IAAIC,cAAc,GAAG,gBAAgB;AACrC,IAAIC,gBAAgB,GAAG,kBAAkB;AACzC,IAAIC,aAAa,GAAG,iBAAiB;AACrC,IAAIC,uBAAuB,GAAG,iBAAiB;AAC/C,IAAIC,wBAAwB,GAAG,mBAAmB;AAClD,IAAIC,eAAe,GAAG,mBAAmB;AACzC,IAAIC,sBAAsB,GAAG,aAAa;AAC1C,IAAIC,qBAAqB,GAAG,YAAY;AACxC,IAAIC,iBAAiB,GAAG,QAAQ;AAChC,IAAIC,uBAAuB,GAAG,cAAc;AAC5C,IAAIC,QAAQ,GAAG,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,MAAM,GAAG,aAAe,UAAUpC,MAAM,EAAE;EAC1ChE,SAAS,CAACoG,MAAM,EAAEpC,MAAM,CAAC;EACzB;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,SAASoC,MAAMA,CAACC,OAAO,EAAEC,OAAO,EAAE;IAC9B,IAAIC,KAAK,GAAGvC,MAAM,CAACwC,IAAI,CAAC,IAAI,EAAEH,OAAO,EAAEC,OAAO,CAAC,IAAI,IAAI;IACvDC,KAAK,CAACE,OAAO,GAAG,IAAI;IACpB,OAAOF,KAAK;EAChB;EACA;AACJ;AACA;AACA;AACA;AACA;EACIH,MAAM,CAACxF,SAAS,CAAC8F,MAAM,GAAG,YAAY;IAClC,IAAI,CAACC,UAAU,CAAC,CAAC;IACjB,IAAI,CAACC,UAAU,CAAC,CAAC;IACjB,IAAI,CAACC,UAAU,CAAC,CAAC;IACjB,IAAI,IAAI,CAACC,KAAK,KAAK,MAAM,EAAE;MACvB,IAAI,CAACR,OAAO,CAACS,KAAK,CAACD,KAAK,GAAG,EAAE;IACjC;IACA,IAAI,IAAI,CAACE,SAAS,KAAK,EAAE,EAAE;MACvB,IAAI,CAACV,OAAO,CAACS,KAAK,CAACC,SAAS,GAAGjE,UAAU,CAAC,IAAI,CAACiE,SAAS,CAAC;IAC7D;IACA,IAAI,IAAI,CAACC,YAAY,EAAE;MACnB,IAAI,CAACC,SAAS,CAAC,CAAC;MAChB,IAAI,IAAI,CAACC,iBAAiB,CAACC,MAAM,KAAK,MAAM,EAAE;QAC1C,IAAI,CAACC,YAAY,CAAC,CAAC;MACvB;IACJ;IACA,IAAI,CAACC,cAAc,CAAC,CAAC;EACzB,CAAC;EACDlB,MAAM,CAACxF,SAAS,CAAC2G,eAAe,GAAG,YAAY;IAC3C,IAAI,CAACC,WAAW,GAAGzB,sBAAsB;EAC7C,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIK,MAAM,CAACxF,SAAS,CAAC6G,SAAS,GAAG,YAAY;IACrC,IAAIlB,KAAK,GAAG,IAAI;IAChB,IAAI,CAACgB,eAAe,CAAC,CAAC;IACtB,IAAI,CAACG,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACC,iBAAiB,GAAG,IAAI;IAC7B,IAAI,CAACC,SAAS,GAAG,IAAI,CAACvB,OAAO,CAACwB,SAAS,CAAC,IAAI,CAAC;IAC7C,IAAI,CAACC,0BAA0B,GAAG,UAAUC,KAAK,EAAE;MAC/CzB,KAAK,CAACiB,WAAW,GAAGxB,qBAAqB;MACzCO,KAAK,CAAC0B,IAAI,CAACD,KAAK,CAAC;IACrB,CAAC;IACD,IAAI,CAACE,2BAA2B,GAAG,UAAUF,KAAK,EAAE;MAChDzB,KAAK,CAACiB,WAAW,GAAGtB,uBAAuB;MAC3C8B,KAAK,CAACG,YAAY,GAAG,KAAK;MAC1B5B,KAAK,CAAC6B,OAAO,CAAC,cAAc,EAAEJ,KAAK,EAAE,UAAUK,qBAAqB,EAAE;QAClE,IAAI,CAACA,qBAAqB,CAACF,YAAY,EAAE;UACrC5B,KAAK,CAAC+B,YAAY,CAAC,CAAC;QACxB;QACA/B,KAAK,CAACiB,WAAW,GAAGzB,sBAAsB;MAC9C,CAAC,CAAC;IACN,CAAC;IACD,IAAIwC,UAAU,GAAG;MAAEC,KAAK,EAAE;IAAQ,CAAC;IACnC,IAAI,CAACC,IAAI,GAAG,IAAIzG,IAAI,CAAC,QAAQ,EAAEuG,UAAU,EAAE,IAAI,CAACG,MAAM,CAAC;IACvD,IAAI,CAACC,iBAAiB,CAAC,CAAC;IACxB,IAAI7F,iBAAiB,CAAC,IAAI,CAAC9B,MAAM,CAAC,EAAE;MAChC,IAAI4H,YAAY,GAAG,IAAI,CAACC,mBAAmB;MAC3C,IAAI,CAACA,mBAAmB,GAAG,IAAI;MAC/B,IAAI,CAAC7H,MAAM,GAAG8H,QAAQ,CAACC,IAAI;MAC3B,IAAI,CAACF,mBAAmB,GAAGD,YAAY;IAC3C;EACJ,CAAC;EACDxC,MAAM,CAACxF,SAAS,CAACoI,iBAAiB,GAAG,YAAY;IAC7C,IAAI,IAAI,CAACC,iBAAiB,EAAE;MACxB,IAAI,CAACC,aAAa,CAAC;QAAEpC,KAAK,EAAEqC,UAAU,CAAC,IAAI,CAAC7C,OAAO,CAACS,KAAK,CAACD,KAAK,CAAC;QAAEsC,MAAM,EAAED,UAAU,CAAC,IAAI,CAAC7C,OAAO,CAACS,KAAK,CAACqC,MAAM,CAAC;QAC3GC,QAAQ,EAAE;UAAEC,CAAC,EAAEH,UAAU,CAAC,IAAI,CAACI,OAAO,CAACjD,OAAO,CAACS,KAAK,CAACyC,IAAI,CAAC;UAAEC,CAAC,EAAEN,UAAU,CAAC,IAAI,CAACI,OAAO,CAACjD,OAAO,CAACS,KAAK,CAAC2C,GAAG;QAAE;MAAE,CAAC,EAAE,IAAI,CAAC;IAC5H;EACJ,CAAC;EACDtD,MAAM,CAACxF,SAAS,CAAC+I,aAAa,GAAG,UAAUC,KAAK,EAAE;IAC9C,IAAIC,QAAQ,GAAG,kBAAkB,CAACC,IAAI,CAACF,KAAK,CAAC;IAC7C,OAAOC,QAAQ;EACnB,CAAC;EACDzD,MAAM,CAACxF,SAAS,CAAC+H,iBAAiB,GAAG,YAAY;IAC7C,IAAI,CAAC7F,iBAAiB,CAAC,IAAI,CAACuG,QAAQ,CAAC,EAAE;MACnC,IAAI,CAACvG,iBAAiB,CAAC,IAAI,CAACuG,QAAQ,CAACC,CAAC,CAAC,IAAK,OAAQ,IAAI,CAACD,QAAQ,CAACC,CAAE,KAAK,QAAS,EAAE;QAChF,IAAIO,QAAQ,GAAG,IAAI,CAACF,aAAa,CAAC,IAAI,CAACN,QAAQ,CAACC,CAAC,CAAC;QAClD,IAAIO,QAAQ,EAAE;UACV,IAAIjB,YAAY,GAAG,IAAI,CAACC,mBAAmB;UAC3C,IAAI,CAACA,mBAAmB,GAAG,IAAI;UAC/B,IAAI,CAACQ,QAAQ,CAACC,CAAC,GAAGH,UAAU,CAAC,IAAI,CAACE,QAAQ,CAACC,CAAC,CAAC;UAC7C,IAAI,CAACT,mBAAmB,GAAGD,YAAY;QAC3C;MACJ;MACA,IAAI,CAAC9F,iBAAiB,CAAC,IAAI,CAACuG,QAAQ,CAACI,CAAC,CAAC,IAAK,OAAQ,IAAI,CAACJ,QAAQ,CAACI,CAAE,KAAK,QAAS,EAAE;QAChF,IAAII,QAAQ,GAAG,IAAI,CAACF,aAAa,CAAC,IAAI,CAACN,QAAQ,CAACI,CAAC,CAAC;QAClD,IAAII,QAAQ,EAAE;UACV,IAAIjB,YAAY,GAAG,IAAI,CAACC,mBAAmB;UAC3C,IAAI,CAACA,mBAAmB,GAAG,IAAI;UAC/B,IAAI,CAACQ,QAAQ,CAACI,CAAC,GAAGN,UAAU,CAAC,IAAI,CAACE,QAAQ,CAACI,CAAC,CAAC;UAC7C,IAAI,CAACZ,mBAAmB,GAAGD,YAAY;QAC3C;MACJ;IACJ;EACJ,CAAC;EACDxC,MAAM,CAACxF,SAAS,CAACmJ,MAAM,GAAG,UAAUC,IAAI,EAAEC,QAAQ,EAAE;IAChD,IAAI3D,OAAO,GAAG4D,SAAS;IACvB,KAAK,IAAIxI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsI,IAAI,CAAC3I,MAAM,EAAEK,CAAC,EAAE,EAAE;MAClC,IAAIsI,IAAI,CAACtI,CAAC,CAAC,CAACyI,SAAS,CAACC,QAAQ,CAACH,QAAQ,CAAC,EAAE;QACtC3D,OAAO,GAAG0D,IAAI,CAACtI,CAAC,CAAC;QACjB;MACJ;IACJ;IACA,OAAO4E,OAAO;EAClB,CAAC;EACD;EACAF,MAAM,CAACxF,SAAS,CAACyG,YAAY,GAAG,YAAY;IACxC,IAAIgD,oBAAoB,GAAG,KAAK;IAChC,IAAIC,oBAAoB,GAAG,KAAK;IAChC,IAAI,CAACxH,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAACiE,aAAa,CAAC,GAAG,GAAGlG,kBAAkB,CAAC,CAAC,EAAE;MAC1EgG,oBAAoB,GAAGG,gBAAgB,CAAC,IAAI,CAAC9C,aAAa,CAAC,CAAC0B,MAAM;IACtE;IACA,IAAIqB,SAAS,GAAG,IAAI,CAACV,MAAM,CAAC,IAAI,CAACzD,OAAO,CAACoE,QAAQ,EAAEnG,kBAAkB,CAAC;IACtE,IAAI,CAACzB,iBAAiB,CAAC2H,SAAS,CAAC,EAAE;MAC/BH,oBAAoB,GAAGE,gBAAgB,CAACC,SAAS,CAAC,CAACrB,MAAM;IAC7D;IACA,IAAIuB,YAAY,GAAGC,QAAQ,CAACP,oBAAoB,CAACQ,KAAK,CAAC,CAAC,EAAER,oBAAoB,CAACS,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;IACjG,IAAIC,YAAY,GAAGH,QAAQ,CAACN,oBAAoB,CAACO,KAAK,CAAC,CAAC,EAAEP,oBAAoB,CAACQ,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;IACjGlH,YAAY,CAAC+G,YAAY,GAAG,EAAE,IAAIK,KAAK,CAACD,YAAY,CAAC,GAAG,CAAC,GAAGA,YAAY,CAAC,CAAC;IAC1E,OAAQJ,YAAY,GAAG,EAAE,GAAGI,YAAY;EAC5C,CAAC;EACD3E,MAAM,CAACxF,SAAS,CAACqK,aAAa,GAAG,UAAUC,IAAI,EAAEC,SAAS,EAAE;IACxDA,SAAS,CAAC/C,OAAO,CAAC,aAAa,EAAE8C,IAAI,CAAC;IACtC,OAAOA,IAAI,CAACE,MAAM;EACtB,CAAC;EACDhF,MAAM,CAACxF,SAAS,CAACyK,UAAU,GAAG,UAAUH,IAAI,EAAEC,SAAS,EAAE;IACrDA,SAAS,CAAC/C,OAAO,CAAC,UAAU,EAAE8C,IAAI,CAAC;EACvC,CAAC;EACD9E,MAAM,CAACxF,SAAS,CAAC0K,gBAAgB,GAAG,UAAUJ,IAAI,EAAEC,SAAS,EAAE;IAC3DA,SAAS,CAAC/C,OAAO,CAAC,YAAY,EAAE8C,IAAI,CAAC;IACrC,IAAI,CAAClC,iBAAiB,CAAC,CAAC;EAC5B,CAAC;EACD5C,MAAM,CAACxF,SAAS,CAACsG,SAAS,GAAG,YAAY;IACrC,IAAI,IAAI,CAACD,YAAY,EAAE;MACnB,IAAI,IAAI,CAACsE,oBAAoB,CAAC,CAAC,IAAI,CAACzI,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAACiE,aAAa,CAAC,0BAA0B,CAAC,CAAC,EAAE;QAC3G;MACJ;MACA,IAAI,CAACjE,OAAO,CAAC6D,SAAS,CAACqB,GAAG,CAAC7F,aAAa,CAAC;MACzC,IAAI8F,cAAc,GAAGjB,gBAAgB,CAAC,IAAI,CAAClE,OAAO,CAAC,CAACU,SAAS;MAC7D,IAAI0E,aAAa,GAAGlB,gBAAgB,CAAC,IAAI,CAAClE,OAAO,CAAC,CAACqF,QAAQ;MAC3D,IAAIC,SAAS,GAAG,EAAE;MAClB,KAAK,IAAIlK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACmK,aAAa,CAACxK,MAAM,EAAEK,CAAC,EAAE,EAAE;QAChD,IAAI,IAAI,CAACmK,aAAa,CAACnK,CAAC,CAAC,KAAK,KAAK,EAAE;UACjCkK,SAAS,GAAG,mEAAmE;UAC/E;QACJ,CAAC,MACI;UACD,IAAIE,cAAc,GAAG,EAAE;UACvB,QAAQ,IAAI,CAACD,aAAa,CAACnK,CAAC,CAAC,CAACqK,QAAQ,CAAC,CAAC;YACpC,KAAK,WAAW;cACZD,cAAc,GAAG,YAAY;cAC7B;YACJ,KAAK,WAAW;cACZA,cAAc,GAAG,YAAY;cAC7B;YACJ,KAAK,WAAW;cACZA,cAAc,GAAG,YAAY;cAC7B;YACJ,KAAK,WAAW;cACZA,cAAc,GAAG,YAAY;cAC7B;YACJ;cACIA,cAAc,GAAG,IAAI,CAACD,aAAa,CAACnK,CAAC,CAAC,CAACqK,QAAQ,CAAC,CAAC;cACjD;UACR;UACAH,SAAS,IAAIE,cAAc,CAACE,iBAAiB,CAAC,CAAC,GAAG,GAAG;QACzD;MACJ;MACA,IAAI,IAAI,CAACC,SAAS,IAAIL,SAAS,CAACM,IAAI,CAAC,CAAC,KAAK,YAAY,EAAE;QACrDN,SAAS,GAAG,YAAY;MAC5B,CAAC,MACI,IAAI,IAAI,CAACK,SAAS,IAAIL,SAAS,CAACM,IAAI,CAAC,CAAC,KAAK,YAAY,EAAE;QAC1DN,SAAS,GAAG,YAAY;MAC5B;MACA,IAAI,IAAI,CAACO,OAAO,IAAI,IAAI,CAACF,SAAS,EAAE;QAChC,IAAI,CAAC3F,OAAO,CAAC6D,SAAS,CAACqB,GAAG,CAAC5F,uBAAuB,CAAC;MACvD,CAAC,MACI,IAAI,IAAI,CAACuG,OAAO,IAAI,IAAI,CAACnL,MAAM,KAAK8H,QAAQ,CAACC,IAAI,EAAE;QACpD,IAAI,CAACzC,OAAO,CAAC6D,SAAS,CAACqB,GAAG,CAAC3F,wBAAwB,CAAC;MACxD;MACAnC,YAAY,CAAC;QACT4C,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBsF,SAAS,EAAEA,SAAS;QACpB5E,SAAS,EAAE4D,QAAQ,CAACa,cAAc,CAACZ,KAAK,CAAC,CAAC,EAAEa,aAAa,CAACZ,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;QAC5EsB,SAAS,EAAE,IAAI,CAACC,SAAS,CAACC,YAAY;QACtCX,QAAQ,EAAEf,QAAQ,CAACc,aAAa,CAACb,KAAK,CAAC,CAAC,EAAEa,aAAa,CAACZ,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;QAC1EyB,QAAQ,EAAE,IAAI,CAACF,SAAS,CAACG,WAAW;QACpCC,QAAQ,EAAE,IAAI,CAACzL,MAAM,KAAK8H,QAAQ,CAACC,IAAI,GAAG,IAAI,GAAG,IAAI,CAACsD,SAAS;QAC/DK,WAAW,EAAE,IAAI,CAACzB,aAAa,CAAC0B,IAAI,CAAC,IAAI,CAAC;QAC1CC,cAAc,EAAE,IAAI,CAACtB,gBAAgB,CAACqB,IAAI,CAAC,IAAI,CAAC;QAChDE,QAAQ,EAAE,IAAI,CAACxB,UAAU,CAACsB,IAAI,CAAC,IAAI,CAAC;QACpCG,KAAK,EAAE;MACX,CAAC,CAAC;MACF,IAAI,CAACC,qBAAqB,CAAC,CAAC;IAChC,CAAC,MACI;MACDpJ,YAAY,CAAC,CAAC;MACd,IAAI,CAACqJ,uBAAuB,CAAC,CAAC;MAC9B,IAAI,IAAI,CAACb,OAAO,EAAE;QACd,IAAI,CAAC7F,OAAO,CAAC6D,SAAS,CAAC8C,MAAM,CAACrH,uBAAuB,CAAC;MAC1D,CAAC,MACI;QACD,IAAI,CAACU,OAAO,CAAC6D,SAAS,CAAC8C,MAAM,CAACpH,wBAAwB,CAAC;MAC3D;MACA,IAAI,CAACS,OAAO,CAAC6D,SAAS,CAAC8C,MAAM,CAACtH,aAAa,CAAC;IAChD;EACJ,CAAC;EACDS,MAAM,CAACxF,SAAS,CAACsM,eAAe,GAAG,UAAUlM,MAAM,EAAE;IACjD,IAAI4I,KAAK,GAAG,4EAA4E;IACxF,IAAIuD,KAAK,GAAGnM,MAAM,CAACoM,gBAAgB,CAACxD,KAAK,CAAC;IAC1C,OAAO;MAAEtD,OAAO,EAAE6G,KAAK,CAACA,KAAK,CAAC9L,MAAM,GAAG,CAAC;IAAE,CAAC;EAC/C,CAAC;EACD;EACA+E,MAAM,CAACxF,SAAS,CAACyM,OAAO,GAAG,UAAUrF,KAAK,EAAE;IACxC,IAAIzB,KAAK,GAAG,IAAI;IAChB,IAAIyB,KAAK,CAACsF,OAAO,KAAK,CAAC,EAAE;MACrB,IAAI,IAAI,CAACnB,OAAO,EAAE;QACd,IAAIoB,SAAS,GAAG,KAAK,CAAC;QACtB,IAAI,CAACzK,iBAAiB,CAAC,IAAI,CAAC0K,MAAM,CAAC,EAAE;UACjCD,SAAS,GAAG,IAAI,CAACC,MAAM,CAAC,IAAI,CAACA,MAAM,CAACnM,MAAM,GAAG,CAAC,CAAC;QACnD;QACA,IAAKyB,iBAAiB,CAAC,IAAI,CAAC0K,MAAM,CAAC,IAAM,CAAC1K,iBAAiB,CAAC,IAAI,CAAC2K,kBAAkB,CAAE,EAAE;UACnFF,SAAS,GAAG,IAAI,CAACL,eAAe,CAAC,IAAI,CAACO,kBAAkB,CAAC;QAC7D;QACA,IAAI3K,iBAAiB,CAAC,IAAI,CAAC0K,MAAM,CAAC,IAAI1K,iBAAiB,CAAC,IAAI,CAAC2K,kBAAkB,CAAC,IAAI,CAAC3K,iBAAiB,CAAC,IAAI,CAAC4K,UAAU,CAAC,EAAE;UACrHH,SAAS,GAAG,IAAI,CAACL,eAAe,CAAC,IAAI,CAACQ,UAAU,CAAC;QACrD;QACA,IAAI,CAAC5K,iBAAiB,CAACyK,SAAS,CAAC,IAAIzE,QAAQ,CAAC6E,aAAa,KAAKJ,SAAS,CAACjH,OAAO,IAAI,CAAC0B,KAAK,CAAC4F,QAAQ,EAAE;UAClG5F,KAAK,CAAC6F,cAAc,CAAC,CAAC;UACtB,IAAI,CAACC,iBAAiB,CAAC,IAAI,CAACxH,OAAO,CAAC,CAACyH,KAAK,CAAC,CAAC;QAChD;QACA,IAAIjF,QAAQ,CAAC6E,aAAa,KAAK,IAAI,CAACG,iBAAiB,CAAC,IAAI,CAACxH,OAAO,CAAC,IAAI0B,KAAK,CAAC4F,QAAQ,EAAE;UACnF5F,KAAK,CAAC6F,cAAc,CAAC,CAAC;UACtB,IAAI,CAAC/K,iBAAiB,CAACyK,SAAS,CAAC,EAAE;YAC/BA,SAAS,CAACjH,OAAO,CAACyH,KAAK,CAAC,CAAC;UAC7B;QACJ;MACJ;IACJ;IACA,IAAIzH,OAAO,GAAGwC,QAAQ,CAAC6E,aAAa;IACpC,IAAIK,SAAS,GAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAClD,OAAO,CAACxE,OAAO,CAAC2H,OAAO,CAACC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAE;IACnF,IAAIC,aAAa,GAAG,KAAK;IACzB,IAAI,CAACH,SAAS,EAAE;MACZG,aAAa,GAAG7H,OAAO,CAAC8H,YAAY,CAAC,iBAAiB,CAAC,IAAI9H,OAAO,CAAC+H,YAAY,CAAC,iBAAiB,CAAC,KAAK,MAAM;IACjH;IACA,IAAIrG,KAAK,CAACsF,OAAO,KAAK,EAAE,IAAI,IAAI,CAACgB,aAAa,EAAE;MAC5C,IAAI,CAAC9G,WAAW,GAAGvB,iBAAiB;MACpC,IAAIsI,KAAK,GAAGzF,QAAQ,CAACyB,aAAa,CAAC,8BAA8B,CAAC;MAClE;MACA,IAAI,EAAE,CAACzH,iBAAiB,CAACyL,KAAK,CAAC,IAAI,CAACA,KAAK,CAACpE,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,CAAC,EAAE;QAC5E,IAAI,CAACnC,IAAI,CAACD,KAAK,CAAC;MACpB;IACJ;IACA,IAAKA,KAAK,CAACsF,OAAO,KAAK,EAAE,IAAI,CAACtF,KAAK,CAACwG,OAAO,IAAIlI,OAAO,CAAC2H,OAAO,CAACC,WAAW,CAAC,CAAC,KAAK,UAAU,IACvFF,SAAS,IAAI,CAAClL,iBAAiB,CAAC,IAAI,CAAC2L,gBAAgB,CAAC,IACrDzG,KAAK,CAACsF,OAAO,KAAK,EAAE,IAAItF,KAAK,CAACwG,OAAO,KAAKlI,OAAO,CAAC2H,OAAO,CAACC,WAAW,CAAC,CAAC,KAAK,UAAU,IACnFC,aAAa,CAAC,IAAK,CAACrL,iBAAiB,CAAC,IAAI,CAAC2L,gBAAgB,CAAC,EAAE;MAClE,IAAIC,aAAa;MACjB,IAAIC,YAAY,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,UAAUC,IAAI,EAAEC,KAAK,EAAE;QACxDL,aAAa,GAAGK,KAAK;QACrB;QACA,IAAIC,WAAW,GAAGF,IAAI,CAACE,WAAW;QAClC,OAAO,CAAClM,iBAAiB,CAACkM,WAAW,CAAC,IAAIA,WAAW,CAACC,SAAS,KAAK,IAAI;MAC5E,CAAC,CAAC;MACF,IAAIN,YAAY,IAAI,OAAQ,IAAI,CAACC,OAAO,CAACF,aAAa,CAAC,CAACQ,KAAM,KAAK,UAAU,EAAE;QAC3EC,UAAU,CAAC,YAAY;UACnB5I,KAAK,CAACqI,OAAO,CAACF,aAAa,CAAC,CAACQ,KAAK,CAAC1I,IAAI,CAACD,KAAK,EAAEyB,KAAK,CAAC;QACzD,CAAC,CAAC;MACN;IACJ;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI5B,MAAM,CAACxF,SAAS,CAAC+F,UAAU,GAAG,YAAY;IACtC,IAAI,CAAC7D,iBAAiB,CAAC,IAAI,CAAC9B,MAAM,CAAC,EAAE;MACjC,IAAI,CAACqL,SAAS,GAAK,OAAO,IAAI,CAACrL,MAAM,KAAM,QAAQ,GAC/C8H,QAAQ,CAACyB,aAAa,CAAC,IAAI,CAACvJ,MAAM,CAAC,GAAG,IAAI,CAACA,MAAM;IACzD;IACA,IAAI,CAAC,IAAI,CAACuK,oBAAoB,CAAC,CAAC,EAAE;MAC9BlJ,QAAQ,CAAC,CAAC,IAAI,CAACiE,OAAO,CAAC,EAAEnC,IAAI,CAAC;IAClC;IACA,IAAId,OAAO,CAAC+L,QAAQ,EAAE;MAClB/M,QAAQ,CAAC,CAAC,IAAI,CAACiE,OAAO,CAAC,EAAEpB,MAAM,CAAC;IACpC;IACA,IAAI,CAAC,IAAI,CAACqG,oBAAoB,CAAC,CAAC,EAAE;MAC9B,IAAI,CAAC8D,WAAW,CAAC,CAAC;IACtB;IACA,IAAI,CAACvL,YAAY,CAAC,CAAC;EACvB,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIsC,MAAM,CAACxF,SAAS,CAACgG,UAAU,GAAG,YAAY;IACtC,IAAIL,KAAK,GAAG,IAAI;IAChB,IAAI,CAAC+I,aAAa,GAAG,IAAI;IACzB,IAAI,CAAC,IAAI,CAAC/D,oBAAoB,CAAC,CAAC,EAAE;MAC9B/I,UAAU,CAAC,IAAI,CAAC8D,OAAO,EAAE;QAAEiJ,IAAI,EAAE;MAAS,CAAC,CAAC;IAChD;IACA,IAAI,IAAI,CAACC,MAAM,KAAK,IAAI,EAAE;MACtB,IAAI,CAACC,SAAS,CAAC,IAAI,CAACnJ,OAAO,EAAE,KAAK,CAAC;MACnC,IAAI,CAACoJ,eAAe,GAAG,IAAI;IAC/B,CAAC,MACI;MACD,IAAI,CAACA,eAAe,GAAG,KAAK;IAChC;IACA,IAAI,IAAI,CAACnE,oBAAoB,CAAC,CAAC,IAAIzI,iBAAiB,CAAC,IAAI,CAAC4E,aAAa,CAAC,EAAE;MACtE,IAAI,CAACA,aAAa,GAAG,IAAI,CAACpB,OAAO,CAACqJ,sBAAsB,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;IACvF;IACA,IAAI,IAAI,CAACpE,oBAAoB,CAAC,CAAC,IAAIzI,iBAAiB,CAAC,IAAI,CAAC4K,UAAU,CAAC,EAAE;MACnE,IAAI,CAACA,UAAU,GAAG,IAAI,CAACpH,OAAO,CAACiE,aAAa,CAAC,GAAG,GAAG,IAAI,CAACjE,OAAO,CAACsJ,EAAE,GAAG,iBAAiB,CAAC;IAC3F;IACA,IAAI,CAAC,IAAI,CAACrE,oBAAoB,CAAC,CAAC,EAAE;MAC9B,IAAI,CAACsE,gBAAgB,CAAC,CAAC;MACvB,IAAI,IAAI,CAACC,MAAM,KAAK,EAAE,IAAI,CAAChN,iBAAiB,CAAC,IAAI,CAACgN,MAAM,CAAC,EAAE;QACvD,IAAI,CAACC,SAAS,CAAC,CAAC;MACpB;MACA,IAAI,CAACC,eAAe,CAAC,CAAC;MACtB,IAAI,CAACC,UAAU,CAAC,CAAC;MACjB,IAAI,IAAI,CAACC,cAAc,KAAK,EAAE,IAAI,CAACpN,iBAAiB,CAAC,IAAI,CAACoN,cAAc,CAAC,EAAE;QACvE,IAAI,CAACC,iBAAiB,CAAC,CAAC;MAC5B,CAAC,MACI,IAAI,CAACrN,iBAAiB,CAAC,IAAI,CAAC8L,OAAO,CAAC,CAAC,CAAC,CAACI,WAAW,CAAC,EAAE;QACtD,IAAI,CAACoB,SAAS,CAAC,CAAC;MACpB;IACJ;IACA,IAAI,IAAI,CAAC7E,oBAAoB,CAAC,CAAC,EAAE;MAC7B,IAAI,CAACzI,iBAAiB,CAAC,IAAI,CAAC8L,OAAO,CAAC,CAAC,CAAC,CAACI,WAAW,CAAC,IAAI,IAAI,CAACkB,cAAc,KAAK,EAAE,EAAE;QAC/E,IAAI,CAACE,SAAS,CAAC,CAAC;MACpB;IACJ;IACA,IAAI,IAAI,CAACC,aAAa,IAAK,CAACvN,iBAAiB,CAAC,IAAI,CAAC4E,aAAa,CAAE,EAAE;MAChE,IAAI,CAAC4I,gBAAgB,CAAC,CAAC;IAC3B;IACA,IAAI,CAAC,IAAI,CAAC/E,oBAAoB,CAAC,CAAC,EAAE;MAC9B/I,UAAU,CAAC,IAAI,CAAC8D,OAAO,EAAE;QAAE,YAAY,EAAG,IAAI,CAAC6F,OAAO,GAAG,MAAM,GAAG;MAAS,CAAC,CAAC;MAC7E,IAAI,IAAI,CAACA,OAAO,EAAE;QACd,IAAI,CAACoE,UAAU,CAAC,CAAC;MACrB;IACJ;IACA,IAAI,IAAI,CAAChF,oBAAoB,CAAC,CAAC,IAAIzI,iBAAiB,CAAC,IAAI,CAAC0N,YAAY,CAAC,EAAE;MACrE,IAAI,CAACA,YAAY,GAAG,IAAI,CAAClK,OAAO,CAACmK,aAAa;MAC9C,KAAK,IAAI/O,CAAC,GAAG,CAAC,EAAEgP,UAAU,GAAG,IAAI,CAACF,YAAY,CAAC9F,QAAQ,EAAEhJ,CAAC,GAAGgP,UAAU,CAACrP,MAAM,EAAEK,CAAC,EAAE,EAAE;QACjF,IAAIgP,UAAU,CAAChP,CAAC,CAAC,CAACyI,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,EAAE;UACnD,IAAI,CAACuG,UAAU,GAAGD,UAAU,CAAChP,CAAC,CAAC;QACnC;MACJ;IACJ;IACA,IAAI,IAAI,CAAC4E,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAAC3E,cAAc,CAAC,KAAK,IAAI,IAAI,IAAI,CAACa,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAAC1E,gBAAgB,CAAC,KAAK,IAAI,IACnH,CAAC5C,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAACmK,aAAa,CAAC,EAAE;MACnD,IAAIG,SAAS,GAAG,IAAI,CAACzE,OAAO,GAAG,IAAI,CAACqE,YAAY,CAACC,aAAa,GAAG,IAAI,CAACnK,OAAO,CAACmK,aAAa;MAC3F,IAAI,CAACI,UAAU,GAAG,IAAI,CAAC1O,aAAa,CAAC,KAAK,EAAE;QAAE2O,SAAS,EAAEhL;MAAgB,CAAC,CAAC;MAC3E8K,SAAS,CAACG,YAAY,CAAC,IAAI,CAACF,UAAU,EAAG,IAAI,CAAC1E,OAAO,GAAG,IAAI,CAACqE,YAAY,GAAG,IAAI,CAAClK,OAAQ,CAAC;IAC9F;IACA,IAAI,CAACxD,iBAAiB,CAAC,IAAI,CAACuJ,SAAS,CAAC,EAAE;MACpC;MACA,IAAI,CAACF,OAAO,GAAG,IAAI,CAACE,SAAS,CAAC2E,WAAW,CAAC,IAAI,CAACR,YAAY,CAAC,GAAG,IAAI,CAACnE,SAAS,CAAC2E,WAAW,CAAC,IAAI,CAAC1K,OAAO,CAAC;IAC3G;IACA,IAAI,CAAC2K,QAAQ,GAAG,IAAI1N,KAAK,CAAC,IAAI,CAAC+C,OAAO,EAAE;MACpC8C,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBtC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjB0I,MAAM,EAAE,IAAI,CAACA,MAAM;MACnB0B,QAAQ,EAAE,IAAI,CAAClQ,MAAM;MACrBmQ,cAAc,EAAE,MAAM;MACtBlF,SAAS,EAAE,IAAI,CAACA,SAAS;MACzB;MACAmF,IAAI,EAAE,SAAAA,CAAUpJ,KAAK,EAAE;QACnB,IAAIqJ,SAAS,GAAG;UACZC,SAAS,EAAE/K,KAAK,CAAC4F,OAAO,GAAG5F,KAAK,CAACiK,YAAY,GAAGjK,KAAK,CAACD,OAAO;UAC7DA,OAAO,EAAEC,KAAK,CAACD,OAAO;UACtBtF,MAAM,EAAEuF,KAAK,CAACvF,MAAM;UACpBmH,YAAY,EAAE;QAClB,CAAC;QACD,IAAI5B,KAAK,CAACU,YAAY,EAAE;UACpBV,KAAK,CAACgL,eAAe,CAAC,CAAC;QAC3B;QACAhL,KAAK,CAAC6B,OAAO,CAAC,MAAM,EAAEiJ,SAAS,EAAE,UAAUG,aAAa,EAAE;UACtD,IAAI,CAACA,aAAa,CAACrJ,YAAY,EAAE;YAC7B5B,KAAK,CAAC+B,YAAY,CAAC,CAAC;UACxB;QACJ,CAAC,CAAC;MACN,CAAC;MACD;MACAE,KAAK,EAAE,SAAAA,CAAUR,KAAK,EAAE;QACpB,IAAIzB,KAAK,CAAC4F,OAAO,EAAE;UACf9J,QAAQ,CAAC,CAACkE,KAAK,CAACoK,UAAU,CAAC,EAAE,QAAQ,CAAC;QAC1C;QACApK,KAAK,CAACkL,WAAW,CAAClL,KAAK,CAACD,OAAO,CAAC;QAChC,IAAIC,KAAK,CAAC4F,OAAO,EAAE;UACf5F,KAAK,CAACiK,YAAY,CAACzJ,KAAK,CAAC2K,OAAO,GAAG,MAAM;QAC7C;QACAnL,KAAK,CAAC6B,OAAO,CAAC,OAAO,EAAE7B,KAAK,CAACoL,SAAS,CAAC;QACvC,IAAIC,SAAS,GAAG9I,QAAQ,CAAC6E,aAAa;QACtC,IAAI,CAAC7K,iBAAiB,CAAC8O,SAAS,CAAC,IAAI,CAAC9O,iBAAiB,CAAE8O,SAAS,CAAEC,IAAI,CAAC,EAAE;UACvED,SAAS,CAACC,IAAI,CAAC,CAAC;QACpB;QACA,IAAI,CAAC/O,iBAAiB,CAACyD,KAAK,CAACuL,kBAAkB,CAAC,IAAI,CAAChP,iBAAiB,CAACyD,KAAK,CAACuL,kBAAkB,CAAC/D,KAAK,CAAC,EAAE;UACpGxH,KAAK,CAACuL,kBAAkB,CAAC/D,KAAK,CAAC,CAAC;QACpC;MACJ;IACJ,CAAC,CAAC;IACF,IAAI,CAACgE,cAAc,CAAC,CAAC;IACrB,IAAI,CAACC,YAAY,CAAC,CAAC;IACnB,IAAI,CAAC,IAAI,CAACzG,oBAAoB,CAAC,CAAC,EAAE;MAC9BlJ,QAAQ,CAAC,CAAC,IAAI,CAACiE,OAAO,CAAC,EAAEjB,QAAQ,CAAC;MAClC,IAAI,IAAI,CAAC8G,OAAO,EAAE;QACd,IAAI,CAAC8F,gBAAgB,CAAC,CAAC;MAC3B;IACJ;IACA,IAAI,IAAI,CAACC,OAAO,EAAE;MACd,IAAI,CAACC,IAAI,CAAC,CAAC;MACX,IAAI,IAAI,CAAChG,OAAO,EAAE;QACd,IAAIiG,UAAU,GAAG,IAAI,CAACC,kBAAkB,CAAC,IAAI,CAACrR,MAAM,CAAC;QACrD,IAAIoR,UAAU,YAAYE,OAAO,EAAE;UAC/B,IAAIC,aAAa,GAAGC,MAAM,CAAChI,gBAAgB,CAAC4H,UAAU,CAAC;UACvD,IAAIG,aAAa,CAACE,gBAAgB,CAAC,WAAW,CAAC,KAAK,KAAK,EAAE;YACvD,IAAI,CAACC,gBAAgB,CAAC,CAAC;UAC3B;QACJ;MACJ;IACJ,CAAC,MACI;MACD,IAAI,IAAI,CAACvG,OAAO,EAAE;QACd,IAAI,CAACwE,UAAU,CAAC5J,KAAK,CAAC2K,OAAO,GAAG,MAAM;MAC1C;IACJ;IACA,IAAI,CAACpC,aAAa,GAAG,KAAK;EAC9B,CAAC;EACDlJ,MAAM,CAACxF,SAAS,CAACyR,kBAAkB,GAAG,UAAUM,WAAW,EAAE;IACzD,IAAIC,aAAa,GAAG,IAAI;IACxB,IAAI,OAAOD,WAAW,KAAK,QAAQ,EAAE;MACjC,IAAIA,WAAW,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;QAC7BD,aAAa,GAAG9J,QAAQ,CAACgK,cAAc,CAACH,WAAW,CAACI,SAAS,CAAC,CAAC,CAAC,CAAC;MACrE,CAAC,MACI,IAAIJ,WAAW,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;QAClC,IAAIG,QAAQ,GAAGlK,QAAQ,CAAC6G,sBAAsB,CAACgD,WAAW,CAACI,SAAS,CAAC,CAAC,CAAC,CAAC;QACxEH,aAAa,GAAGI,QAAQ,CAAC3R,MAAM,GAAG,CAAC,GAAG2R,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI;MAC5D,CAAC,MACI;QACD,IAAI,EAAEL,WAAW,YAAYM,WAAW,CAAC,IAAIN,WAAW,KAAK7J,QAAQ,CAACC,IAAI,EAAE;UACxE6J,aAAa,GAAG9J,QAAQ,CAACyB,aAAa,CAACoI,WAAW,CAAC;QACvD;MACJ;IACJ,CAAC,MACI,IAAIA,WAAW,YAAYM,WAAW,EAAE;MACzCL,aAAa,GAAGD,WAAW;IAC/B;IACA,OAAOC,aAAa;EACxB,CAAC;EACDxM,MAAM,CAACxF,SAAS,CAAC2Q,eAAe,GAAG,YAAY;IAC3C,IAAI2B,eAAe,GAAG,IAAI,CAAC7L,YAAY,CAAC,CAAC;IACzC,IAAI,IAAI,CAACgF,SAAS,CAAC8G,YAAY,GAAGD,eAAe,EAAE;MAC/C,IAAIpC,SAAS,GAAG,IAAI,CAAC7E,SAAS,GAAG,cAAc,GAAG,cAAc;MAChE,IAAImH,UAAU,GAAG,IAAI,CAAC9M,OAAO,CAACiE,aAAa,CAAC,GAAG,GAAGuG,SAAS,CAAC;MAC5D,IAAI,CAAChO,iBAAiB,CAACsQ,UAAU,CAAC,EAAE;QAChCA,UAAU,CAACrM,KAAK,CAACsM,MAAM,GAAG,GAAG,GAAGH,eAAe,CAACnH,QAAQ,CAAC,CAAC,GAAG,IAAI;MACrE;IACJ;EACJ,CAAC;EACD3F,MAAM,CAACxF,SAAS,CAACqR,gBAAgB,GAAG,UAAUqB,WAAW,EAAE;IACvD,IAAI9D,MAAM;IACV,IAAI1M,iBAAiB,CAACwQ,WAAW,CAAC,EAAE;MAChC9D,MAAM,GAAG5E,QAAQ,CAAC,IAAI,CAACtE,OAAO,CAACS,KAAK,CAACyI,MAAM,EAAE,EAAE,CAAC,GAAG5E,QAAQ,CAAC,IAAI,CAACtE,OAAO,CAACS,KAAK,CAACyI,MAAM,EAAE,EAAE,CAAC,GAAG,IAAI,CAACA,MAAM;IAC5G,CAAC,MACI;MACDA,MAAM,GAAG8D,WAAW;IACxB;IACA,IAAI,CAAC3C,UAAU,CAAC5J,KAAK,CAACyI,MAAM,GAAG,CAACA,MAAM,GAAG,CAAC,EAAEzD,QAAQ,CAAC,CAAC;IACtD,IAAI,CAACyE,YAAY,CAACzJ,KAAK,CAACyI,MAAM,GAAGA,MAAM,CAACzD,QAAQ,CAAC,CAAC;EACtD,CAAC;EACD3F,MAAM,CAACxF,SAAS,CAACmR,cAAc,GAAG,YAAY;IAC1C,IAAI,IAAI,CAAC5F,OAAO,EAAE;MACd,IAAI,CAACnB,KAAK,CAAC7B,UAAU,CAAC,IAAI,CAACE,QAAQ,CAACC,CAAC,CAAC,CAAC,IAAI,CAAC0B,KAAK,CAAC7B,UAAU,CAAC,IAAI,CAACE,QAAQ,CAACI,CAAC,CAAC,CAAC,EAAE;QAC5E,IAAI,CAACiJ,gBAAgB,CAAC,CAAC;MAC3B,CAAC,MACI,IAAK,CAAC1H,KAAK,CAAC7B,UAAU,CAAC,IAAI,CAACE,QAAQ,CAACC,CAAC,CAAC,CAAC,IAAI0B,KAAK,CAAC7B,UAAU,CAAC,IAAI,CAACE,QAAQ,CAACI,CAAC,CAAC,CAAC,IAC3EuB,KAAK,CAAC7B,UAAU,CAAC,IAAI,CAACE,QAAQ,CAACC,CAAC,CAAC,CAAC,IAAI,CAAC0B,KAAK,CAAC7B,UAAU,CAAC,IAAI,CAACE,QAAQ,CAACI,CAAC,CAAC,CAAE,EAAE;QAChF,IAAI,CAACiJ,gBAAgB,CAAC,CAAC;MAC3B,CAAC,MACI;QACD,IAAI,CAACpM,OAAO,CAACS,KAAK,CAAC2C,GAAG,GAAG,KAAK;QAC9B,IAAI,CAACpD,OAAO,CAACS,KAAK,CAACyC,IAAI,GAAG,KAAK;QAC/B,IAAI,CAACgH,YAAY,CAACrG,SAAS,CAACqB,GAAG,CAAC,QAAQ,GAAG,IAAI,CAACnC,QAAQ,CAACC,CAAC,GAAG,GAAG,GAAG,IAAI,CAACD,QAAQ,CAACI,CAAC,CAAC;MACvF;IACJ,CAAC,MACI;MACD,IAAI,CAACiJ,gBAAgB,CAAC,CAAC;IAC3B;EACJ,CAAC;EACDtM,MAAM,CAACxF,SAAS,CAAC8R,gBAAgB,GAAG,YAAY;IAC5C,IAAI,CAACzB,QAAQ,CAAC/H,aAAa,CAAC;MACxBG,QAAQ,EAAE;QACNC,CAAC,EAAE,IAAI,CAACD,QAAQ,CAACC,CAAC;QAAEG,CAAC,EAAE,IAAI,CAACJ,QAAQ,CAACI;MACzC;IACJ,CAAC,CAAC;EACN,CAAC;EACDrD,MAAM,CAACxF,SAAS,CAAC0P,gBAAgB,GAAG,YAAY;IAC5C,IAAI/J,KAAK,GAAG,IAAI;IAChB,IAAIgN,aAAa,GAAG,GAAG,GAAGlP,kBAAkB;IAC5C,IAAI,CAAC,IAAI,CAACiC,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAACjE,QAAQ,CAAC,EAAE;MAC5C,IAAI,CAACoD,OAAO,GAAG,IAAIrG,SAAS,CAAC,IAAI,CAACoD,OAAO,EAAE;QACvCkN,KAAK,EAAE,KAAK;QACZC,YAAY,EAAE,IAAI;QAClBC,KAAK,EAAE,sBAAsB;QAC7BC,MAAM,EAAEJ,aAAa;QACrBK,SAAS,EAAE,SAAAA,CAAU5L,KAAK,EAAE;UACxBzB,KAAK,CAAC6B,OAAO,CAAC,WAAW,EAAEJ,KAAK,EAAE,UAAU6L,aAAa,EAAE;YACvD,IAAIhR,QAAQ,CAAC,CAAC,EAAE;cACZgR,aAAa,CAACC,UAAU,CAAC9L,KAAK,CAAC+L,WAAW,CAAC;YAC/C;UACJ,CAAC,CAAC;QACN,CAAC;QACDC,QAAQ,EAAE,SAAAA,CAAUhM,KAAK,EAAE;UACvB,IAAIzB,KAAK,CAAC4F,OAAO,EAAE;YACf,IAAI,CAACrJ,iBAAiB,CAACyD,KAAK,CAAC8C,QAAQ,CAAC,EAAE;cACpC9C,KAAK,CAACiK,YAAY,CAACrG,SAAS,CAAC8C,MAAM,CAAC,QAAQ,GAAG1G,KAAK,CAAC8C,QAAQ,CAACC,CAAC,GAAG,GAAG,GAAG/C,KAAK,CAAC8C,QAAQ,CAACI,CAAC,CAAC;YAC7F;YACA;YACA,IAAI2I,UAAU,GAAG7L,KAAK,CAAC8L,kBAAkB,CAAC9L,KAAK,CAACvF,MAAM,CAAC;YACvD,IAAIoR,UAAU,YAAYE,OAAO,EAAE;cAC/B,IAAIC,aAAa,GAAGC,MAAM,CAAChI,gBAAgB,CAAC4H,UAAU,CAAC;cACvD,IAAIG,aAAa,CAACE,gBAAgB,CAAC,WAAW,CAAC,KAAK,KAAK,EAAE;gBACvDlM,KAAK,CAACD,OAAO,CAACS,KAAK,CAACsC,QAAQ,GAAG,UAAU;cAC7C,CAAC,MACI;gBACD9C,KAAK,CAACD,OAAO,CAACS,KAAK,CAACsC,QAAQ,GAAG,UAAU;cAC7C;YACJ,CAAC,MACI;cACD9C,KAAK,CAACD,OAAO,CAACS,KAAK,CAACsC,QAAQ,GAAG,UAAU;YAC7C;UACJ;UACA9C,KAAK,CAAC6B,OAAO,CAAC,UAAU,EAAEJ,KAAK,CAAC;UAChCzB,KAAK,CAACD,OAAO,CAAC6D,SAAS,CAAC8C,MAAM,CAACrH,uBAAuB,CAAC;UACvDW,KAAK,CAACyC,iBAAiB,CAAC,CAAC;QAC7B,CAAC;QACDiL,IAAI,EAAE,SAAAA,CAAUjM,KAAK,EAAE;UACnBzB,KAAK,CAAC6B,OAAO,CAAC,MAAM,EAAEJ,KAAK,CAAC;QAChC;MACJ,CAAC,CAAC;MACF,IAAI,CAAClF,iBAAiB,CAAC,IAAI,CAACuJ,SAAS,CAAC,EAAE;QACpC,IAAI,CAAC9C,OAAO,CAAC2K,QAAQ,GAAG,IAAI,CAAC7H,SAAS;MAC1C;IACJ;EACJ,CAAC;EACDjG,MAAM,CAACxF,SAAS,CAACwP,SAAS,GAAG,YAAY;IACrC,IAAI,CAAC,IAAI,CAAC7E,oBAAoB,CAAC,CAAC,EAAE;MAC9B,IAAI,CAAC4I,aAAa,GAAG,EAAE;MACvB,IAAI,CAAC3G,MAAM,GAAG,EAAE;MAChB;MACA,IAAI4G,cAAc,GAAG,IAAI;MACzB,KAAK,IAAI1S,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACkN,OAAO,CAACvN,MAAM,EAAEK,CAAC,EAAE,EAAE;QAC1C,IAAI2S,UAAU,GAAG,CAACvR,iBAAiB,CAAC,IAAI,CAAC8L,OAAO,CAAClN,CAAC,CAAC,CAAC4S,IAAI,CAAC,GAAG,IAAI,CAAC1F,OAAO,CAAClN,CAAC,CAAC,CAAC4S,IAAI,CAACpG,WAAW,CAAC,CAAC,GAAG,QAAQ;QACzG,IAAIqG,GAAG,GAAG,IAAI,CAACpS,aAAa,CAAC,QAAQ,EAAE;UAAE2O,SAAS,EAAE,IAAI,CAAC0D,QAAQ;UAAEC,KAAK,EAAE;YAAEH,IAAI,EAAED;UAAW;QAAE,CAAC,CAAC;QACjG,IAAI,CAACF,aAAa,CAACO,IAAI,CAACH,GAAG,CAACI,SAAS,CAAC;MAC1C;MACA,IAAI,CAACxE,iBAAiB,CAAC,CAAC;IAC5B;IACA,IAAIyE,SAAS;IACb,KAAK,IAAIlT,CAAC,GAAG,CAAC,EAAEgP,UAAU,GAAG,IAAI,CAACpK,OAAO,CAACoE,QAAQ,EAAEhJ,CAAC,GAAGgP,UAAU,CAACrP,MAAM,EAAEK,CAAC,EAAE,EAAE;MAC5E,IAAIgP,UAAU,CAAChP,CAAC,CAAC,CAACyI,SAAS,CAACC,QAAQ,CAAC7F,kBAAkB,CAAC,EAAE;QACtDqQ,SAAS,GAAGlE,UAAU,CAAChP,CAAC,CAAC,CAAC0L,gBAAgB,CAAC,QAAQ,CAAC;MACxD;IACJ;IACA,KAAK,IAAI1L,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACkN,OAAO,CAACvN,MAAM,EAAEK,CAAC,EAAE,EAAE;MAC1C,IAAI,CAAC,IAAI,CAAC6J,oBAAoB,CAAC,CAAC,EAAE;QAC9B,IAAI,CAACiC,MAAM,CAAC9L,CAAC,CAAC,GAAG,IAAI4B,MAAM,CAAC,IAAI,CAACsL,OAAO,CAAClN,CAAC,CAAC,CAACsN,WAAW,CAAC;MAC5D;MACA,IAAI,IAAI,CAACzD,oBAAoB,CAAC,CAAC,EAAE;QAC7B,IAAI,CAACkC,kBAAkB,GAAG,IAAI,CAACnH,OAAO,CAACiE,aAAa,CAAC,GAAG,GAAGhG,kBAAkB,CAAC;MAClF;MACA,IAAI,CAACzB,iBAAiB,CAAC,IAAI,CAAC2K,kBAAkB,CAAC,IAAImH,SAAS,CAACvT,MAAM,GAAG,CAAC,EAAE;QACrE,IAAI,OAAQ,IAAI,CAACuN,OAAO,CAAClN,CAAC,CAAC,CAACwN,KAAM,KAAK,UAAU,EAAE;UAC/CjM,YAAY,CAACuI,GAAG,CAACoJ,SAAS,CAAClT,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAACkN,OAAO,CAAClN,CAAC,CAAC,CAACwN,KAAK,EAAE,IAAI,CAAC;QACxE;QACA,IAAI,OAAQ,IAAI,CAACN,OAAO,CAAClN,CAAC,CAAC,CAACwN,KAAM,KAAK,QAAQ,EAAE;UAC7CjM,YAAY,CAACuI,GAAG,CAACoJ,SAAS,CAAClT,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAACmT,kBAAkB,CAAClI,IAAI,CAAC,IAAI,EAAEjL,CAAC,CAAC,EAAE,IAAI,CAAC;QACxF;MACJ;MACA,IAAI,CAAC,IAAI,CAAC6J,oBAAoB,CAAC,CAAC,IAAI,CAACzI,iBAAiB,CAAC,IAAI,CAAC2K,kBAAkB,CAAC,EAAE;QAC7E,IAAI,CAACD,MAAM,CAAC9L,CAAC,CAAC,CAACoT,QAAQ,CAAC,IAAI,CAACrH,kBAAkB,CAAC/C,QAAQ,CAAChJ,CAAC,CAAC,CAAC;QAC5D,IAAI,IAAI,CAACkN,OAAO,CAAClN,CAAC,CAAC,CAACqT,MAAM,EAAE;UACxB,IAAI,CAACvH,MAAM,CAAC9L,CAAC,CAAC,CAAC4E,OAAO,CAAC6D,SAAS,CAACqB,GAAG,CAAC,QAAQ,CAAC;QAClD;QACA,IAAI,CAACiD,gBAAgB,GAAG,IAAI,CAACnI,OAAO,CAACqJ,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;MAC/E;IACJ;EACJ,CAAC;EACDvJ,MAAM,CAACxF,SAAS,CAACiU,kBAAkB,GAAG,UAAU9F,KAAK,EAAE;IACnD,IAAI,CAAC3G,OAAO,CAAC,UAAU,GAAG2G,KAAK,GAAG,SAAS,EAAE,CAAC,CAAC,CAAC;EACpD,CAAC;EACD3I,MAAM,CAACxF,SAAS,CAACqP,UAAU,GAAG,YAAY;IACtC,IAAI,CAACvC,UAAU,GAAG,IAAI,CAACvL,aAAa,CAAC,KAAK,EAAE;MAAE2O,SAAS,EAAErM,WAAW;MAAEmL,EAAE,EAAE,IAAI,CAACtJ,OAAO,CAACsJ,EAAE,GAAG;IAAkB,CAAC,CAAC;IAChH,IAAI,IAAI,CAACoF,SAAS,EAAE;MAChBxS,UAAU,CAAC,IAAI,CAAC8D,OAAO,EAAE;QAAE,kBAAkB,EAAE,IAAI,CAACA,OAAO,CAACsJ,EAAE,GAAG,QAAQ,GAAG,GAAG,GAAG,IAAI,CAACtJ,OAAO,CAACsJ,EAAE,GAAG;MAAkB,CAAC,CAAC;IAC5H,CAAC,MACI;MACDpN,UAAU,CAAC,IAAI,CAAC8D,OAAO,EAAE;QAAE,kBAAkB,EAAE,IAAI,CAACA,OAAO,CAACsJ,EAAE,GAAG;MAAkB,CAAC,CAAC;IACzF;IACA,IAAI,IAAI,CAACqF,mBAAmB,EAAE;MAC1B,IAAI,CAACvH,UAAU,CAACsD,WAAW,CAAC,IAAI,CAACiE,mBAAmB,CAAC;IACzD,CAAC,MACI,IAAI,CAACnS,iBAAiB,CAAC,IAAI,CAACoS,OAAO,CAAC,IAAI,IAAI,CAACA,OAAO,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC5F,aAAa,EAAE;MACrF;MACA,IAAI6F,aAAa,GAAG/U,MAAM,CAACgV,IAAI,CAAC5C,MAAM,CAAC;MACvC,IAAI,OAAQ,IAAI,CAAC0C,OAAQ,KAAK,QAAQ,IAAI,CAACrS,QAAQ,CAAC,CAAC,EAAE;QACnD,IAAI,CAACwS,WAAW,CAAC,IAAI,CAACH,OAAO,EAAE,IAAI,CAACxH,UAAU,EAAE,SAAS,CAAC;MAC9D,CAAC,MACI,IAAI,IAAI,CAACwH,OAAO,YAAYjC,WAAW,EAAE;QAC1C,IAAI,CAACvF,UAAU,CAACsD,WAAW,CAAC,IAAI,CAACkE,OAAO,CAAC;MAC7C,CAAC,MACI;QACD,IAAI,CAACG,WAAW,CAAC,IAAI,CAACH,OAAO,EAAE,IAAI,CAACxH,UAAU,EAAE,SAAS,CAAC;MAC9D;IACJ;IACA,IAAI,CAAC5K,iBAAiB,CAAC,IAAI,CAAC4E,aAAa,CAAC,EAAE;MACxC,IAAI,CAACpB,OAAO,CAACyK,YAAY,CAAC,IAAI,CAACrD,UAAU,EAAE,IAAI,CAACpH,OAAO,CAACoE,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxE,CAAC,MACI;MACD,IAAI,CAACpE,OAAO,CAACyK,YAAY,CAAC,IAAI,CAACrD,UAAU,EAAE,IAAI,CAACpH,OAAO,CAACoE,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxE;IACA,IAAI,IAAI,CAACtB,MAAM,KAAK,MAAM,EAAE;MACxB,IAAI,CAAC,IAAI,CAACmC,oBAAoB,CAAC,CAAC,IAAIlI,OAAO,CAACiS,IAAI,IAAI,IAAI,CAAChP,OAAO,CAACS,KAAK,CAACD,KAAK,KAAK,EAAE,IAAI,CAAChE,iBAAiB,CAAC,IAAI,CAACgE,KAAK,CAAC,EAAE;QACnH,IAAI,CAACR,OAAO,CAACS,KAAK,CAACD,KAAK,GAAG/D,UAAU,CAAC,IAAI,CAAC+D,KAAK,CAAC;MACrD;MACA,IAAI,CAAChD,YAAY,CAAC,CAAC;IACvB;EACJ,CAAC;EACDsC,MAAM,CAACxF,SAAS,CAACyU,WAAW,GAAG,UAAUE,QAAQ,EAAEC,SAAS,EAAEC,IAAI,EAAE;IAChE,IAAIC,UAAU;IACd,IAAIC,aAAa;IACjB;IACA,IAAIR,aAAa,GAAG/U,MAAM,CAACgV,IAAI,CAAC5C,MAAM,CAAC;IACvC,IAAIgD,SAAS,CAACrL,SAAS,CAACC,QAAQ,CAAC9F,UAAU,CAAC,EAAE;MAC1CqR,aAAa,GAAG,IAAI,CAACrP,OAAO,CAACsJ,EAAE,GAAG,QAAQ;IAC9C,CAAC,MACI,IAAI4F,SAAS,CAACrL,SAAS,CAACC,QAAQ,CAAC7F,kBAAkB,CAAC,EAAE;MACvDoR,aAAa,GAAG,IAAI,CAACrP,OAAO,CAACsJ,EAAE,GAAG,gBAAgB;IACtD,CAAC,MACI;MACD+F,aAAa,GAAG,IAAI,CAACrP,OAAO,CAACsJ,EAAE,GAAG,SAAS;IAC/C;IACA,IAAIgG,aAAa;IACjB,IAAI,CAAC9S,iBAAiB,CAACyS,QAAQ,CAACZ,SAAS,CAAC,EAAE;MACxCa,SAAS,CAACxE,WAAW,CAACuE,QAAQ,CAAC;IACnC,CAAC,MACI,IAAK,OAAOA,QAAQ,KAAK,QAAQ,IAAM,OAAOA,QAAQ,KAAK,QAAS,IAAK1S,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAACgT,gBAAiB,EAAE;MACjH,IAAK,OAAON,QAAQ,KAAK,QAAQ,EAAG;QAChCA,QAAQ,GAAG,IAAI,CAACO,cAAc,CAACP,QAAQ,CAAC;MAC5C;MACA,IAAI,IAAI,CAACQ,KAAK,IAAI,OAAOR,QAAQ,KAAK,QAAQ,EAAE;QAC5CG,UAAU,GAAGxT,OAAO,CAACqT,QAAQ,CAAC;QAC9BK,aAAa,GAAGL,QAAQ;MAC5B,CAAC,MACI;QACDC,SAAS,CAACQ,SAAS,GAAGT,QAAQ;MAClC;IACJ;IACA,IAAIU,YAAY,GAAG,EAAE;IACrB,IAAI,CAACnT,iBAAiB,CAAC4S,UAAU,CAAC,EAAE;MAChC,IAAIQ,QAAQ,GAAIrT,QAAQ,CAAC,CAAC,IACtB,CAAC,IAAI,CAACgT,gBAAgB,IAAKD,aAAa,CAAE9K,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,GACtE,IAAI,CAAC+K,gBAAgB,GAAG,IAAI;MAChC,KAAK,IAAIM,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAGV,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,EAAED,IAAI,EAAEE,aAAa,EAAEO,QAAQ,CAAC,EAAEC,EAAE,GAAGC,EAAE,CAAC/U,MAAM,EAAE8U,EAAE,EAAE,EAAE;QAC7F,IAAIE,IAAI,GAAGD,EAAE,CAACD,EAAE,CAAC;QACjBF,YAAY,CAACvB,IAAI,CAAC2B,IAAI,CAAC;MAC3B;MACArT,MAAM,CAAC,EAAE,CAAC6H,KAAK,CAACrE,IAAI,CAACyP,YAAY,CAAC,EAAET,SAAS,CAAC;IAClD;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;EACIpP,MAAM,CAACxF,SAAS,CAACkV,cAAc,GAAG,UAAUlM,KAAK,EAAE;IAC/C,IAAI,IAAI,CAAC0M,mBAAmB,EAAE;MAC1B,IAAIC,UAAU,GAAGnT,kBAAkB,CAACoT,cAAc,CAAC,CAAC;MACpD,IAAIC,WAAW,GAAG;QACdrL,MAAM,EAAE,KAAK;QACbsL,MAAM,EAAE;MACZ,CAAC;MACDvT,MAAM,CAACoT,UAAU,EAAEA,UAAU,EAAEE,WAAW,CAAC;MAC3C,IAAI,CAACrO,OAAO,CAAC,oBAAoB,EAAEmO,UAAU,CAAC;MAC9C,IAAIA,UAAU,CAACnL,MAAM,IAAI,CAACtI,iBAAiB,CAACyT,UAAU,CAACG,MAAM,CAAC,EAAE;QAC5D9M,KAAK,GAAG2M,UAAU,CAACG,MAAM,CAAC9M,KAAK,CAAC;MACpC,CAAC,MACI,IAAI,CAAC2M,UAAU,CAACnL,MAAM,EAAE;QACzBxB,KAAK,GAAGxG,kBAAkB,CAACuT,cAAc,CAACJ,UAAU,EAAE3M,KAAK,CAAC;MAChE;IACJ;IACA,OAAOA,KAAK;EAChB,CAAC;EACDxD,MAAM,CAACxF,SAAS,CAACkD,YAAY,GAAG,YAAY;IACxC,IAAI,CAAC,IAAI,CAAC6D,cAAc,EAAE;MACtB;IACJ;IACA,IAAI+J,OAAO,GAAG,IAAI,CAACpL,OAAO,CAACS,KAAK,CAAC2K,OAAO;IACxC,IAAI,CAACpL,OAAO,CAACS,KAAK,CAAC2K,OAAO,GAAG,MAAM;IACnC,IAAI,CAACpL,OAAO,CAACS,KAAK,CAACqF,SAAS,GAAI,CAACtJ,iBAAiB,CAAC,IAAI,CAAC9B,MAAM,CAAC,IAAM,IAAI,CAACqL,SAAS,CAAC8G,YAAY,GAAGX,MAAM,CAACoE,WAAY,GACjH,IAAI,CAACvK,SAAS,CAAC8G,YAAY,GAAG,EAAE,GAAI,IAAI,GAAIX,MAAM,CAACoE,WAAW,GAAG,EAAE,GAAI,IAAI;IAChF,IAAI,CAACtQ,OAAO,CAACS,KAAK,CAAC2K,OAAO,GAAGA,OAAO;IACpC,IAAIrO,OAAO,CAACiS,IAAI,IAAI,IAAI,CAAClM,MAAM,KAAK,MAAM,IAAI,CAACtG,iBAAiB,CAAC,IAAI,CAAC4K,UAAU,CAAC,IAC1E,IAAI,CAACpH,OAAO,CAAC6M,YAAY,GAAG,IAAI,CAACzF,UAAU,CAACyF,YAAY,EAAE;MAC7D,IAAI,CAAC7M,OAAO,CAACS,KAAK,CAACqC,MAAM,GAAG,SAAS;IACzC;EACJ,CAAC;EACDhD,MAAM,CAACxF,SAAS,CAACoR,YAAY,GAAG,YAAY;IACxC,IAAI,CAAC,IAAI,CAACzG,oBAAoB,CAAC,CAAC,EAAE;MAC9B;MACA,IAAI,CAACU,SAAS,GAAG5J,QAAQ,CAAC,CAAC,IAAI,CAACiE,OAAO,CAAC,EAAElC,GAAG,CAAC,GAAG9B,WAAW,CAAC,CAAC,IAAI,CAACgE,OAAO,CAAC,EAAElC,GAAG,CAAC;IACrF;IACA,IAAI,CAACtB,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAACiE,aAAa,CAAC,kBAAkB,CAAC,CAAC,EAAE;MACpE5G,YAAY,CAAC,CAAC;MACd,IAAI,CAACuD,SAAS,CAAC,CAAC;IACpB;EACJ,CAAC;EACDd,MAAM,CAACxF,SAAS,CAACiP,gBAAgB,GAAG,YAAY;IAC5C,IAAItJ,KAAK,GAAG,IAAI;IAChB,IAAIzD,iBAAiB,CAAC,IAAI,CAACoS,OAAO,CAAC,IAAI,IAAI,CAACA,OAAO,KAAK,EAAE,EAAE;MACxD,IAAI2B,SAAS,GAAG,IAAI,CAACvQ,OAAO,CAAC0P,SAAS,CAACc,OAAO,CAAC,yBAAyB,EAAE,EAAE,CAAC,KAAK,EAAE;MACpF,IAAI,IAAI,CAACxQ,OAAO,CAACoE,QAAQ,CAACrJ,MAAM,GAAG,CAAC,IAAIwV,SAAS,EAAE;QAC/C,IAAI,CAAC5B,mBAAmB,GAAGnM,QAAQ,CAACiO,sBAAsB,CAAC,CAAC;QAC5D,EAAE,CAAClM,KAAK,CAACrE,IAAI,CAAC,IAAI,CAACF,OAAO,CAACoK,UAAU,CAAC,CAACsG,OAAO,CAAC,UAAUC,EAAE,EAAE;UACzD,IAAIA,EAAE,CAACC,QAAQ,KAAK,CAAC,EAAE;YACnB3Q,KAAK,CAAC0O,mBAAmB,CAACjE,WAAW,CAACiG,EAAE,CAAC;UAC7C;QACJ,CAAC,CAAC;MACN;IACJ;EACJ,CAAC;EACD7Q,MAAM,CAACxF,SAAS,CAACmP,SAAS,GAAG,YAAY;IACrC,IAAI,IAAI,CAACiF,SAAS,EAAE;MAChB,IAAI,CAACA,SAAS,CAACgB,SAAS,GAAG,EAAE;IACjC,CAAC,MACI;MACD,IAAI,CAAChB,SAAS,GAAG,IAAI,CAAC7S,aAAa,CAAC,KAAK,EAAE;QAAEyN,EAAE,EAAE,IAAI,CAACtJ,OAAO,CAACsJ,EAAE,GAAG,QAAQ;QAAEkB,SAAS,EAAExM;MAAW,CAAC,CAAC;IACzG;IACA,IAAI,CAAC6S,mBAAmB,CAAC,CAAC;IAC1B,IAAI,CAACzP,aAAa,CAACsJ,WAAW,CAAC,IAAI,CAACgE,SAAS,CAAC;IAC9C,IAAI,CAACK,WAAW,CAAC,IAAI,CAACvF,MAAM,EAAE,IAAI,CAACkF,SAAS,EAAE,QAAQ,CAAC;IACvDxS,UAAU,CAAC,IAAI,CAAC8D,OAAO,EAAE;MAAE,kBAAkB,EAAE,IAAI,CAACA,OAAO,CAACsJ,EAAE,GAAG;IAAS,CAAC,CAAC;IAC5EpN,UAAU,CAAC,IAAI,CAAC8D,OAAO,EAAE;MAAE,YAAY,EAAE;IAAS,CAAC,CAAC;IACpD,IAAI,CAACA,OAAO,CAACyK,YAAY,CAAC,IAAI,CAACrJ,aAAa,EAAE,IAAI,CAACpB,OAAO,CAACoE,QAAQ,CAAC,CAAC,CAAC,CAAC;IACvE,IAAI,IAAI,CAAC2F,aAAa,IAAK,CAACvN,iBAAiB,CAAC,IAAI,CAAC4E,aAAa,CAAE,EAAE;MAChE,IAAI,CAAC4I,gBAAgB,CAAC,CAAC;IAC3B;EACJ,CAAC;EACDlK,MAAM,CAACxF,SAAS,CAACuP,iBAAiB,GAAG,YAAY;IAC7C,IAAI,IAAI,CAAC1C,kBAAkB,EAAE;MACzB,IAAI,CAACA,kBAAkB,CAACuI,SAAS,GAAG,EAAE;IAC1C,CAAC,MACI;MACD,IAAI,CAACvI,kBAAkB,GAAG,IAAI,CAACtL,aAAa,CAAC,KAAK,EAAE;QAChD2O,SAAS,EAAEvM;MACf,CAAC,CAAC;IACN;IACA,IAAI,IAAI,CAAC2L,cAAc,KAAK,EAAE,IAAI,CAACpN,iBAAiB,CAAC,IAAI,CAACoN,cAAc,CAAC,EAAE;MACvE,IAAI,CAACmF,WAAW,CAAC,IAAI,CAACnF,cAAc,EAAE,IAAI,CAACzC,kBAAkB,EAAE,gBAAgB,CAAC;IACpF,CAAC,MACI;MACD,IAAI,CAACA,kBAAkB,CAACuI,SAAS,GAAG,IAAI,CAAC7B,aAAa,CAACiD,IAAI,CAAC,EAAE,CAAC;IACnE;IACA,IAAI,CAAC9Q,OAAO,CAAC0K,WAAW,CAAC,IAAI,CAACvD,kBAAkB,CAAC;EACrD,CAAC;EACDrH,MAAM,CAACxF,SAAS,CAACuW,mBAAmB,GAAG,YAAY;IAC/C,IAAIrU,iBAAiB,CAAC,IAAI,CAAC4E,aAAa,CAAC,EAAE;MACvC,IAAI,CAACA,aAAa,GAAG,IAAI,CAACvF,aAAa,CAAC,KAAK,EAAE;QAAEyN,EAAE,EAAE,IAAI,CAACtJ,OAAO,CAACsJ,EAAE,GAAG,gBAAgB;QAAEkB,SAAS,EAAEzM;MAAmB,CAAC,CAAC;IAC7H;EACJ,CAAC;EACD+B,MAAM,CAACxF,SAAS,CAACoP,eAAe,GAAG,YAAY;IAC3C,IAAI,IAAI,CAACqH,aAAa,EAAE;MACpB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACnV,aAAa,CAAC,QAAQ,EAAE;QAAE2O,SAAS,EAAE1L,kBAAkB;QAAEqP,KAAK,EAAE;UAAEH,IAAI,EAAE;QAAS;MAAE,CAAC,CAAC;MAC3G,IAAI,CAACiD,eAAe,GAAG,IAAIjU,MAAM,CAAC;QAAEkR,QAAQ,EAAE,QAAQ;QAAEgD,OAAO,EAAE9S,cAAc,GAAG,GAAG,GAAGM;MAAK,CAAC,CAAC;MAC/F,IAAI,CAACyS,cAAc,CAAC,CAAC;MACrB,IAAI,CAAC3U,iBAAiB,CAAC,IAAI,CAAC4E,aAAa,CAAC,EAAE;QACxCjF,OAAO,CAAC,CAAC,IAAI,CAAC6U,SAAS,CAAC,EAAE,IAAI,CAAC5P,aAAa,CAAC;MACjD,CAAC,MACI;QACD,IAAI,CAACyP,mBAAmB,CAAC,CAAC;QAC1B1U,OAAO,CAAC,CAAC,IAAI,CAAC6U,SAAS,CAAC,EAAE,IAAI,CAAC5P,aAAa,CAAC;QAC7C,IAAI,CAACpB,OAAO,CAACyK,YAAY,CAAC,IAAI,CAACrJ,aAAa,EAAE,IAAI,CAACpB,OAAO,CAACoE,QAAQ,CAAC,CAAC,CAAC,CAAC;MAC3E;MACA,IAAI,CAAC6M,eAAe,CAACzC,QAAQ,CAAC,IAAI,CAACwC,SAAS,CAAC;IACjD;EACJ,CAAC;EACDlR,MAAM,CAACxF,SAAS,CAAC6W,cAAc,GAAG,YAAY;IAC1C,IAAI,CAAChP,IAAI,CAACiP,SAAS,CAAC,IAAI,CAAChP,MAAM,CAAC;IAChC,IAAI+O,cAAc,GAAG,IAAI,CAAChP,IAAI,CAACkP,WAAW,CAAC,OAAO,CAAC;IACnD,IAAI,CAACL,SAAS,CAACM,YAAY,CAAC,OAAO,EAAEH,cAAc,CAAC;IACpD,IAAI,CAACH,SAAS,CAACM,YAAY,CAAC,YAAY,EAAEH,cAAc,CAAC;EAC7D,CAAC;EACDrR,MAAM,CAACxF,SAAS,CAACyO,WAAW,GAAG,UAAUwI,WAAW,EAAE;IAClD,IAAIA,WAAW,EAAE;MACbvV,WAAW,CAAC,CAAC,IAAI,CAACgE,OAAO,CAAC,EAAEuR,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC;MACnD,IAAI,IAAI,CAAC3L,OAAO,IAAI,CAACrJ,iBAAiB,CAAC,IAAI,CAAC0N,YAAY,CAAC,EAAE;QACvDlO,WAAW,CAAC,CAAC,IAAI,CAACkO,YAAY,CAAC,EAAEqH,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC;MAC5D;IACJ;IACA,IAAI,IAAI,CAACtD,QAAQ,EAAE;MACfnS,QAAQ,CAAC,CAAC,IAAI,CAACiE,OAAO,CAAC,EAAE,IAAI,CAACkO,QAAQ,CAACsD,KAAK,CAAC,GAAG,CAAC,CAAC;MAClD,IAAI,IAAI,CAAC3L,OAAO,IAAI,CAACrJ,iBAAiB,CAAC,IAAI,CAAC0N,YAAY,CAAC,EAAE;QACvDnO,QAAQ,CAAC,CAAC,IAAI,CAACmO,YAAY,CAAC,EAAE,IAAI,CAACgE,QAAQ,CAACsD,KAAK,CAAC,GAAG,CAAC,CAAC;MAC3D;IACJ;EACJ,CAAC;EACD1R,MAAM,CAACxF,SAAS,CAAC2P,UAAU,GAAG,YAAY;IACtC,IAAI,CAACC,YAAY,GAAG,IAAI,CAACrO,aAAa,CAAC,KAAK,EAAE;MAAE2O,SAAS,EAAEjM;IAAc,CAAC,CAAC;IAC3E,IAAI,CAACwK,WAAW,CAAC,CAAC;IAClB,IAAI,CAAC/I,OAAO,CAAC6D,SAAS,CAAC8C,MAAM,CAAC3H,QAAQ,CAAC;IACvC,IAAI,CAACgB,OAAO,CAACyR,UAAU,CAAChH,YAAY,CAAC,IAAI,CAACP,YAAY,EAAE,IAAI,CAAClK,OAAO,CAAC;IACrE,IAAI,CAACkK,YAAY,CAACQ,WAAW,CAAC,IAAI,CAAC1K,OAAO,CAAC;IAC3CjE,QAAQ,CAAC,CAAC,IAAI,CAACiE,OAAO,CAAC,EAAE9B,SAAS,CAAC;IACnC,IAAI,CAACmM,UAAU,GAAG,IAAI,CAACxO,aAAa,CAAC,KAAK,EAAE;MAAE2O,SAAS,EAAEnM;IAAY,CAAC,CAAC;IACvE,IAAI,CAACgM,UAAU,CAAC5J,KAAK,CAACyI,MAAM,GAAG,CAAC,IAAI,CAACA,MAAM,GAAG,CAAC,EAAEzD,QAAQ,CAAC,CAAC;IAC3D,IAAI,CAACyE,YAAY,CAACQ,WAAW,CAAC,IAAI,CAACL,UAAU,CAAC;EAClD,CAAC;EACDvK,MAAM,CAACxF,SAAS,CAACoX,iBAAiB,GAAG,UAAU7K,KAAK,EAAE;IAClD,IAAI8K,IAAI;IACR,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/K,KAAK,CAAC9L,MAAM,EAAE6W,CAAC,EAAE,EAAE;MACnCD,IAAI,GAAG9K,KAAK,CAAC+K,CAAC,CAAC;MACf,IAAI,CAACD,IAAI,CAAC3L,YAAY,GAAG,CAAC,IAAK2L,IAAI,CAAChK,OAAO,CAACC,WAAW,CAAC,CAAC,KAAK,GAAG,IAAI+J,IAAI,CAAC7J,YAAY,CAAC,MAAM,CAAE,KAAK6J,IAAI,CAACE,QAAQ,GAAG,CAAC,CAAC,IAClH,CAACF,IAAI,CAACG,QAAQ,IAAI,CAAC,IAAI,CAACC,cAAc,CAACJ,IAAI,EAAE,mDAAmD,CAAC,EAAE;QACnG,OAAOA,IAAI;MACf,CAAC,MACI;QACDA,IAAI,GAAG,IAAI;MACf;IACJ;IACA,OAAOA,IAAI;EACf,CAAC;EACD7R,MAAM,CAACxF,SAAS,CAACkN,iBAAiB,GAAG,UAAUoH,OAAO,EAAE;IACpD,IAAI,CAACpS,iBAAiB,CAACoS,OAAO,CAAC,EAAE;MAC7B,IAAItL,KAAK,GAAG,oEAAoE;MAChF,IAAIuD,KAAK,GAAG+H,OAAO,CAAC9H,gBAAgB,CAACxD,KAAK,CAAC;MAC3C,OAAO,IAAI,CAACoO,iBAAiB,CAAC7K,KAAK,CAAC;IACxC;IACA,OAAO,IAAI;EACf,CAAC;EACD/G,MAAM,CAACxF,SAAS,CAAC0X,gBAAgB,GAAG,UAAUhH,SAAS,EAAE;IACrD,IAAI2G,IAAI,GAAG3G,SAAS,CAAC/G,aAAa,CAAC,GAAG,GAAGnF,kBAAkB,CAAC;IAC5D,IAAIwE,KAAK,GAAG,aAAa;IACzB,IAAIuD,KAAK,GAAGmE,SAAS,CAAClE,gBAAgB,CAACxD,KAAK,CAAC;IAC7C,IAAI2O,SAAS,GAAG,IAAI,CAACP,iBAAiB,CAAC7K,KAAK,CAAC;IAC7C,IAAItK,QAAQ,CAAC,CAAC,EAAE;MACZ,IAAI,CAAC4L,gBAAgB,GAAG,IAAI,CAACnI,OAAO,CAACqJ,sBAAsB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IAC/E;IACA,IAAI,CAAC7M,iBAAiB,CAACyV,SAAS,CAAC,EAAE;MAC/BN,IAAI,GAAGM,SAAS;IACpB,CAAC,MACI;MACDA,SAAS,GAAG,IAAI,CAACzK,iBAAiB,CAAC,IAAI,CAACJ,UAAU,CAAC;MACnD,IAAI,CAAC5K,iBAAiB,CAACyV,SAAS,CAAC,EAAE;QAC/B,OAAON,IAAI,GAAGM,SAAS;MAC3B,CAAC,MACI,IAAI,CAACzV,iBAAiB,CAAC,IAAI,CAAC2L,gBAAgB,CAAC,EAAE;QAChD,OAAO,IAAI,CAACnI,OAAO,CAACiE,aAAa,CAAC,GAAG,GAAGxF,kBAAkB,CAAC;MAC/D;IACJ;IACA,OAAOkT,IAAI;EACf,CAAC;EACD7R,MAAM,CAACxF,SAAS,CAACyX,cAAc,GAAG,UAAU/R,OAAO,EAAEkS,CAAC,EAAE;IACpD,IAAIC,YAAY,GAAGnS,OAAO,GAAGA,OAAO,CAACoS,OAAO,IAAIpS,OAAO,CAACqS,qBAAqB,IAAIrS,OAAO,CAACsS,kBAAkB,GAAG,IAAI;IAClH,IAAIH,YAAY,EAAE;MACd,OAAOnS,OAAO,EAAEA,OAAO,GAAGA,OAAO,CAACyR,UAAU,EAAE;QAC1C,IAAIzR,OAAO,YAAYgM,OAAO,IAAImG,YAAY,CAACjS,IAAI,CAACF,OAAO,EAAEkS,CAAC,CAAC,EAAE;UAC7D;UACA,OAAOlS,OAAO;QAClB;MACJ;IACJ;IACA,OAAO,IAAI;EACf,CAAC;EACDF,MAAM,CAACxF,SAAS,CAAC0H,YAAY,GAAG,YAAY;IACxC,IAAIhC,OAAO,GAAG,IAAI,CAACgS,gBAAgB,CAAC,IAAI,CAAChS,OAAO,CAAC;IACjD,IAAI2R,IAAI,GAAG,CAACnV,iBAAiB,CAACwD,OAAO,CAAC,GAAGA,OAAO,GAAG,IAAI,CAACA,OAAO;IAC/D,IAAIuS,SAAS,GAAGxV,OAAO,CAACwV,SAAS;IACjC,IAAIA,SAAS,CAAC/N,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI+N,SAAS,CAAC/N,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;MACrE,IAAI,CAACxE,OAAO,CAACyH,KAAK,CAAC,CAAC;IACxB;IACAkK,IAAI,CAAClK,KAAK,CAAC,CAAC;IACZ,IAAI,CAAC0D,WAAW,CAAC,IAAI,CAACnL,OAAO,CAAC;IAC9B,IAAI,CAACwS,SAAS,CAAC,IAAI,CAACxS,OAAO,CAAC;EAChC,CAAC;EACDF,MAAM,CAACxF,SAAS,CAACkY,SAAS,GAAG,UAAUxS,OAAO,EAAE;IAC5CrD,YAAY,CAACuI,GAAG,CAAClF,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC+G,OAAO,EAAE,IAAI,CAAC;EAC5D,CAAC;EACDjH,MAAM,CAACxF,SAAS,CAAC6Q,WAAW,GAAG,UAAUnL,OAAO,EAAE;IAC9CrD,YAAY,CAACgK,MAAM,CAAC3G,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC+G,OAAO,CAAC;EACzD,CAAC;EACDjH,MAAM,CAACxF,SAAS,CAACmY,qBAAqB,GAAG,YAAY;IACjD,IAAI,CAAC,IAAI,CAACxN,oBAAoB,CAAC,CAAC,EAAE;MAC9B,IAAI,CAACmC,UAAU,CAACsI,SAAS,GAAG,IAAI,CAACF,cAAc,CAAC,IAAI,CAACZ,OAAO,CAAC;IACjE;EACJ,CAAC;EACD9O,MAAM,CAACxF,SAAS,CAAC2K,oBAAoB,GAAG,YAAY;IAChD,OAAO1I,QAAQ,CAAC,CAAC,IAAI,IAAI,CAACmW,gBAAgB;EAC9C,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI5S,MAAM,CAACxF,SAAS,CAACqY,aAAa,GAAG,YAAY;IACzC,OAAO,QAAQ;EACnB,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI7S,MAAM,CAACxF,SAAS,CAACsY,iBAAiB,GAAG,UAAUC,OAAO,EAAEC,OAAO,EAAE;IAC7D,IAAI,CAAC,IAAI,CAAC9S,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAACjG,IAAI,CAAC,EAAE;MACxC;IACJ;IACA,KAAK,IAAIgS,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAGhW,MAAM,CAACgV,IAAI,CAAC+D,OAAO,CAAC,EAAEhD,EAAE,GAAGC,EAAE,CAAC/U,MAAM,EAAE8U,EAAE,EAAE,EAAE;MAC9D,IAAIV,IAAI,GAAGW,EAAE,CAACD,EAAE,CAAC;MACjB,QAAQV,IAAI;QACR,KAAK,SAAS;UACV,IAAI,CAAC3S,iBAAiB,CAAC,IAAI,CAACoS,OAAO,CAAC,IAAI,IAAI,CAACA,OAAO,KAAK,EAAE,EAAE;YACzD,IAAI,IAAI,CAAC3J,oBAAoB,CAAC,CAAC,EAAE;cAC7B,IAAI,CAACmC,UAAU,GAAG,IAAI,CAACpH,OAAO,CAACiE,aAAa,CAAC,gBAAgB,CAAC;YAClE;YACA,IAAI,CAACzH,iBAAiB,CAAC,IAAI,CAAC4K,UAAU,CAAC,IAAI,IAAI,CAACA,UAAU,CAACW,YAAY,CAAC,MAAM,CAAC,KAAK,QAAQ,EAAE;cAC1F,IAAI,CAAC,IAAI,CAAC9C,oBAAoB,CAAC,CAAC,EAAE;gBAC9B,IAAI,CAACmC,UAAU,CAACsI,SAAS,GAAG,EAAE;cAClC;cACA,IAAI,OAAQ,IAAI,CAACd,OAAQ,KAAK,UAAU,EAAE;gBACtC,IAAI,CAACmE,aAAa,CAAC,CAAC,SAAS,CAAC,CAAC;gBAC/B9W,MAAM,CAAC,IAAI,CAACmL,UAAU,CAAC;gBACvB,IAAI,CAACA,UAAU,GAAG,IAAI;gBACtB,IAAI,CAACuC,UAAU,CAAC,CAAC;cACrB,CAAC,MACI;gBACD;gBACA,OAAQ,IAAI,CAACiF,OAAQ,KAAK,QAAQ,GAAI,IAAI,CAAC3J,oBAAoB,CAAC,CAAC,IAAK,IAAI,CAACmC,UAAU,CAAC4L,SAAS,KAAK,EAAG,GACnG,IAAI,CAAC5L,UAAU,CAAC6L,kBAAkB,CAAC,WAAW,EAAE,IAAI,CAACzD,cAAc,CAAC,IAAI,CAACZ,OAAO,CAAC,CAAC,GAClF,IAAI,CAAC6D,qBAAqB,CAAC,CAAC,GAAG,IAAI,CAACrL,UAAU,CAACsD,WAAW,CAAC,IAAI,CAACkE,OAAO,CAAC;cAChF;cACA,IAAI,CAACpR,YAAY,CAAC,CAAC;YACvB,CAAC,MACI;cACD,IAAI,CAAC,IAAI,CAACyH,oBAAoB,CAAC,CAAC,IAC5BzI,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAACiE,aAAa,CAAC,gBAAgB,CAAC,CAAC,EAAE;gBACjE,IAAI,CAAC0F,UAAU,CAAC,CAAC;cACrB;YACJ;UACJ,CAAC,MACI,IAAI,CAACnN,iBAAiB,CAAC,IAAI,CAAC4K,UAAU,CAAC,EAAE;YAC1CnL,MAAM,CAAC,IAAI,CAACmL,UAAU,CAAC;YACvB,IAAI,CAACA,UAAU,GAAG,IAAI;UAC1B;UACA;QACJ,KAAK,QAAQ;UACT,IAAI,IAAI,CAACoC,MAAM,KAAK,EAAE,IAAIhN,iBAAiB,CAAC,IAAI,CAACgN,MAAM,CAAC,EAAE;YACtD,IAAI,IAAI,CAACkF,SAAS,EAAE;cAChBzS,MAAM,CAAC,IAAI,CAACyS,SAAS,CAAC;cACtB,IAAI,CAACA,SAAS,GAAG,IAAI;YACzB;UACJ,CAAC,MACI;YACD,IAAI,CAAC,IAAI,CAACzJ,oBAAoB,CAAC,CAAC,IAC5BzI,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAACiE,aAAa,CAAC,uBAAuB,CAAC,CAAC,EAAE;cACxE,IAAI,CAACwF,SAAS,CAAC,CAAC;YACpB;UACJ;UACA;QACJ,KAAK,gBAAgB;UACjB,IAAI,IAAI,CAACG,cAAc,KAAK,EAAE,IAAIpN,iBAAiB,CAAC,IAAI,CAACoN,cAAc,CAAC,EAAE;YACtE,IAAI,CAAC,IAAI,CAACzC,kBAAkB,EAAE;cAC1B;YACJ;YACAlL,MAAM,CAAC,IAAI,CAACkL,kBAAkB,CAAC;YAC/B,IAAI,CAACA,kBAAkB,GAAG,IAAI;YAC9B,IAAI,CAACmB,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;UACvB,CAAC,MACI;YACD,IAAI,CAAC,IAAI,CAACrD,oBAAoB,CAAC,CAAC,IAC5BzI,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAACiE,aAAa,CAAC,mBAAmB,CAAC,CAAC,EAAE;cACpE,IAAI,CAAC4F,iBAAiB,CAAC,CAAC;YAC5B;YACA,IAAI,CAACvB,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;UACvB;UACA;QACJ,KAAK,eAAe;UAChB,IAAI,IAAI,CAACtI,OAAO,CAACqJ,sBAAsB,CAACjL,cAAc,CAAC,CAACrD,MAAM,GAAG,CAAC,EAAE;YAChE,IAAI,CAAC,IAAI,CAACgW,aAAa,KAAK,IAAI,CAACvH,MAAM,KAAK,EAAE,IAAIhN,iBAAiB,CAAC,IAAI,CAACgN,MAAM,CAAC,CAAC,EAAE;cAC/EvN,MAAM,CAAC,IAAI,CAACmF,aAAa,CAAC;cAC1B,IAAI,CAACA,aAAa,GAAG,IAAI;YAC7B,CAAC,MACI,IAAI,CAAC,IAAI,CAAC2P,aAAa,EAAE;cAC1B9U,MAAM,CAAC,IAAI,CAAC+U,SAAS,CAAC;YAC1B,CAAC,MACI;cACD,IAAI,IAAI,CAAC/L,oBAAoB,CAAC,CAAC,EAAE;gBAC7B,IAAI,CAAC1E,UAAU,CAAC,CAAC;cACrB;YACJ;UACJ,CAAC,MACI;YACD,IAAI,CAAC,IAAI,CAAC0E,oBAAoB,CAAC,CAAC,EAAE;cAC9B,IAAI,CAACyE,eAAe,CAAC,CAAC;YAC1B;YACA,IAAI,CAACnJ,UAAU,CAAC,CAAC;UACrB;UACA;QACJ,KAAK,QAAQ;UACT,IAAI,IAAI,CAACwQ,aAAa,EAAE;YACpB,IAAI,CAACI,cAAc,CAAC,CAAC;UACzB;UACA;QACJ,KAAK,SAAS;UACV;UACA,IAAI,CAACvF,OAAO,GAAG,IAAI,CAACC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAClK,IAAI,CAAC,CAAC;UACxC;QACJ,KAAK,SAAS;UACV,IAAI,CAACuR,aAAa,CAAC,CAAC;UACpB;QACJ,KAAK,QAAQ;UACT9W,iBAAiB,CAAC,IAAI,CAAC4D,OAAO,EAAE;YAAE,QAAQ,EAAEvD,UAAU,CAACoW,OAAO,CAAC/P,MAAM;UAAE,CAAC,CAAC;UACzE,IAAI,CAACJ,iBAAiB,CAAC,CAAC;UACxB;QACJ,KAAK,OAAO;UACRtG,iBAAiB,CAAC,IAAI,CAAC4D,OAAO,EAAE;YAAE,OAAO,EAAEvD,UAAU,CAACoW,OAAO,CAACrS,KAAK;UAAE,CAAC,CAAC;UACvE,IAAI,CAACkC,iBAAiB,CAAC,CAAC;UACxB;QACJ,KAAK,QAAQ;UACT,IAAI,CAACiI,QAAQ,CAACzB,MAAM,GAAG,IAAI,CAACA,MAAM;UAClC,IAAI,IAAI,CAACrD,OAAO,EAAE;YACd,IAAI,CAAC8F,gBAAgB,CAAC,IAAI,CAACzC,MAAM,CAAC;UACtC;UACA,IAAI,IAAI,CAAClJ,OAAO,CAACS,KAAK,CAACyI,MAAM,KAAK,IAAI,CAACA,MAAM,CAACzD,QAAQ,CAAC,CAAC,EAAE;YACtD,IAAI,CAAC2D,eAAe,GAAG,KAAK;UAChC;UACA;QACJ,KAAK,UAAU;UACX,IAAI,CAACL,WAAW,CAAC+J,OAAO,CAAC5E,QAAQ,CAAC;UAClC;QACJ,KAAK,SAAS;UAAE;YACZ,IAAIiF,WAAW,GAAG,IAAI,CAAC7K,OAAO,CAACvN,MAAM;YACrC,IAAI,CAACyB,iBAAiB,CAAC,IAAI,CAAC2K,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAClC,oBAAoB,CAAC,CAAC,EAAE;cAC7EhJ,MAAM,CAAC,IAAI,CAACkL,kBAAkB,CAAC;cAC/B,IAAI,CAACA,kBAAkB,GAAG,IAAI;YAClC;YACA,KAAK,IAAI/L,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+X,WAAW,EAAE/X,CAAC,EAAE,EAAE;cAClC,IAAI,CAACoB,iBAAiB,CAAC,IAAI,CAAC8L,OAAO,CAAClN,CAAC,CAAC,CAACsN,WAAW,CAAC,EAAE;gBACjD,IAAI,CAACkB,cAAc,GAAG,EAAE;gBACxB,IAAI,CAACE,SAAS,CAAC,CAAC;cACpB;YACJ;YACA;UACJ;QACA,KAAK,eAAe;UAChB,IAAI,IAAI,CAACC,aAAa,IAAK,CAACvN,iBAAiB,CAAC,IAAI,CAAC4E,aAAa,CAAE,EAAE;YAChE,IAAI,CAAC4I,gBAAgB,CAAC,CAAC;UAC3B,CAAC,MACI;YACD,IAAI,CAAC/G,OAAO,CAACmQ,OAAO,CAAC,CAAC;UAC1B;UACA;QACJ,KAAK,QAAQ;UACT,IAAI,CAACC,SAAS,CAACR,OAAO,CAACnY,MAAM,CAAC;UAC9B;QACJ,KAAK,UAAU;UACX,IAAI,CAAC2H,iBAAiB,CAAC,CAAC;UACxB,IAAI,IAAI,CAACwD,OAAO,EAAE;YACd,IAAIyN,SAAS,GAAG,CAAC9W,iBAAiB,CAACsW,OAAO,CAAC/P,QAAQ,CAAC,IAAI,CAACvG,iBAAiB,CAACsW,OAAO,CAAC/P,QAAQ,CAACC,CAAC,CAAC,GAAG8P,OAAO,CAAC/P,QAAQ,CAACC,CAAC,GAAG,IAAI,CAACD,QAAQ,CAACC,CAAC;YACrI,IAAIuQ,SAAS,GAAG,CAAC/W,iBAAiB,CAACsW,OAAO,CAAC/P,QAAQ,CAAC,IAAI,CAACvG,iBAAiB,CAACsW,OAAO,CAAC/P,QAAQ,CAACI,CAAC,CAAC,GAAG2P,OAAO,CAAC/P,QAAQ,CAACI,CAAC,GAAG,IAAI,CAACJ,QAAQ,CAACI,CAAC;YACrI,IAAI,IAAI,CAAC+G,YAAY,CAACrG,SAAS,CAACC,QAAQ,CAAC,QAAQ,GAAGwP,SAAS,GAAG,GAAG,GAAGC,SAAS,CAAC,EAAE;cAC9E,IAAI,CAACrJ,YAAY,CAACrG,SAAS,CAAC8C,MAAM,CAAC,QAAQ,GAAG2M,SAAS,GAAG,GAAG,GAAGC,SAAS,CAAC;YAC9E;UACJ;UACA,IAAI,CAAC9H,cAAc,CAAC,CAAC;UACrB,IAAI,CAAC/I,iBAAiB,CAAC,CAAC;UACxB;QACJ,KAAK,WAAW;UACZ,IAAI,CAACgJ,YAAY,CAAC,CAAC;UACnB;QACJ,KAAK,cAAc;UACf,IAAI,CAAC9K,SAAS,CAAC,CAAC;UAChB;QACJ,KAAK,WAAW;UACZ,IAAI,IAAI,CAACF,SAAS,KAAK,EAAE,EAAE;YACvB,IAAI,CAACV,OAAO,CAACS,KAAK,CAACC,SAAS,GAAGjE,UAAU,CAAC,IAAI,CAACiE,SAAS,CAAC;UAC7D;UACA;MACR;IACJ;EACJ,CAAC;EACDZ,MAAM,CAACxF,SAAS,CAAC+Y,SAAS,GAAG,UAAU3Y,MAAM,EAAE;IAC3C,IAAI,CAACiQ,QAAQ,CAACC,QAAQ,GAAGlQ,MAAM;IAC/B,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACqL,SAAS,GAAK,OAAO,IAAI,CAACrL,MAAM,KAAM,QAAQ,GAC/C8H,QAAQ,CAACyB,aAAa,CAAC,IAAI,CAACvJ,MAAM,CAAC,GAAG,IAAI,CAACA,MAAM;IACrD,IAAI,IAAI,CAACuI,OAAO,EAAE;MACd,IAAI,CAACA,OAAO,CAAC2K,QAAQ,GAAG,IAAI,CAAC7H,SAAS;IAC1C;IACA,IAAI,CAACvI,YAAY,CAAC,CAAC;IACnB,IAAI,IAAI,CAACqI,OAAO,EAAE;MACd,IAAI,CAACqN,aAAa,CAAC,CAAC;IACxB;IACA,IAAI,IAAI,CAACvS,YAAY,EAAE;MACnB,IAAI,CAACC,SAAS,CAAC,CAAC;IACpB;EACJ,CAAC;EACDd,MAAM,CAACxF,SAAS,CAAC4Y,aAAa,GAAG,YAAY;IACzC,IAAI,CAAClT,OAAO,CAACsR,YAAY,CAAC,YAAY,EAAE,IAAI,CAACzL,OAAO,GAAG,MAAM,GAAG,OAAO,CAAC;IACxE,IAAI,IAAI,CAACA,OAAO,EAAE;MACd,IAAIrJ,iBAAiB,CAAC,IAAI,CAAC6N,UAAU,CAAC,EAAE;QACpC,IAAI,CAACJ,UAAU,CAAC,CAAC;QACjB,IAAI,CAACjK,OAAO,CAACS,KAAK,CAAC2C,GAAG,GAAG,KAAK;QAC9B,IAAI,CAACpD,OAAO,CAACS,KAAK,CAACyC,IAAI,GAAG,KAAK;QAC/B,IAAI,CAAC1G,iBAAiB,CAAC,IAAI,CAACuJ,SAAS,CAAC,EAAE;UACpC,IAAI,CAACA,SAAS,CAAC2E,WAAW,CAAC,IAAI,CAACR,YAAY,CAAC;QACjD;MACJ;IACJ,CAAC,MACI;MACDlO,WAAW,CAAC,CAAC,IAAI,CAACgE,OAAO,CAAC,EAAE9B,SAAS,CAAC;MACtClC,WAAW,CAAC,CAACwG,QAAQ,CAACC,IAAI,CAAC,EAAE,CAACnE,UAAU,EAAEE,eAAe,CAAC,CAAC;MAC3DvC,MAAM,CAAC,IAAI,CAACoO,UAAU,CAAC;MACvB,OAAO,IAAI,CAACH,YAAY,CAACsJ,UAAU,EAAE;QACjC,IAAI,CAACtJ,YAAY,CAACC,aAAa,CAACM,YAAY,CAAC,IAAI,CAACP,YAAY,CAACsJ,UAAU,EAAE,IAAI,CAACtJ,YAAY,CAAC;MACjG;MACA,IAAI,CAACA,YAAY,CAACC,aAAa,CAACsJ,WAAW,CAAC,IAAI,CAACvJ,YAAY,CAAC;IAClE;IACA,IAAI,IAAI,CAAC0B,OAAO,EAAE;MACd,IAAI,CAACC,IAAI,CAAC,CAAC;IACf;IACA,IAAI,CAACJ,cAAc,CAAC,CAAC;IACrB,IAAI,IAAI,CAAC5F,OAAO,IAAI,IAAI,CAACwE,UAAU,EAAE;MACjC1N,YAAY,CAACuI,GAAG,CAAC,IAAI,CAACmF,UAAU,EAAE,OAAO,EAAE,IAAI,CAACzI,2BAA2B,EAAE,IAAI,CAAC;IACtF;EACJ,CAAC;EACD9B,MAAM,CAACxF,SAAS,CAAC6O,SAAS,GAAG,UAAUuK,aAAa,EAAEC,cAAc,EAAE;IAClE,IAAIrR,YAAY,GAAG,IAAI,CAACC,mBAAmB;IAC3C,IAAI,CAACA,mBAAmB,GAAG,IAAI;IAC/B,IAAIqR,aAAa,GAAGzW,gBAAgB,CAACuW,aAAa,CAAC;IACnD,IAAI,CAACxK,MAAM,GAAG0K,aAAa,GAAG,IAAI,CAAC1K,MAAM,GAAG0K,aAAa,GAAG,IAAI,CAAC1K,MAAM;IACvE,IAAI,CAAC3G,mBAAmB,GAAGD,YAAY;IACvC,IAAIqR,cAAc,EAAE;MAChB,IAAI,CAAChJ,QAAQ,CAACzB,MAAM,GAAG,IAAI,CAACA,MAAM;IACtC;EACJ,CAAC;EACDpJ,MAAM,CAACxF,SAAS,CAACuZ,mBAAmB,GAAG,YAAY;IAC/CtW,WAAW,CAAC,IAAI,CAACwI,SAAS,CAACG,WAAW,CAAC;IACvC1I,YAAY,CAAC,IAAI,CAACuI,SAAS,CAACC,YAAY,CAAC;IACzC,IAAI,CAACxI,YAAY,CAAC,CAAC;EACvB,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIsC,MAAM,CAACxF,SAAS,CAACwZ,cAAc,GAAG,YAAY;IAC1C,OAAO,IAAI,CAACC,YAAY,CAAC,CAAC,OAAO,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;EAC7D,CAAC;EACDjU,MAAM,CAACxF,SAAS,CAAC0Z,iBAAiB,GAAG,UAAUhU,OAAO,EAAE;IACpD,OAAOA,OAAO,CAACoE,QAAQ,CAAC,CAAC,CAAC,EAAE;MACxB,IAAI,CAAC4P,iBAAiB,CAAChU,OAAO,CAACoE,QAAQ,CAAC,CAAC,CAAC,CAAC;MAC3CpE,OAAO,CAACyT,WAAW,CAACzT,OAAO,CAACoE,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC5C;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;EACItE,MAAM,CAACxF,SAAS,CAAC8Y,OAAO,GAAG,YAAY;IACnC,IAAI,IAAI,CAACa,WAAW,EAAE;MAClB;IACJ;IACA,IAAIC,UAAU,GAAG,CAACpW,GAAG,EAAEI,SAAS,EAAEmB,aAAa,EAAEC,uBAAuB,EAAET,UAAU,EAAED,MAAM,CAAC;IAC7F,IAAIuP,KAAK,GAAG,CAAC,MAAM,EAAE,YAAY,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,cAAc,EAAE,UAAU,EAAE,OAAO,CAAC;IAC9GnS,WAAW,CAAC,CAAC,IAAI,CAAC+J,SAAS,CAAC,EAAE,CAACzH,UAAU,EAAEE,eAAe,CAAC,CAAC;IAC5D,IAAI,CAAChC,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAAC,IAAI,IAAI,CAACA,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAACjF,UAAU,CAAC,EAAE;MACjF7C,WAAW,CAAC,CAACwG,QAAQ,CAACC,IAAI,CAAC,EAAE,CAACnE,UAAU,EAAEE,eAAe,CAAC,CAAC;IAC/D;IACA,IAAI,IAAI,CAACqH,OAAO,EAAE;MACd7J,WAAW,CAAC,CAAE,CAACQ,iBAAiB,CAAC,IAAI,CAACuJ,SAAS,CAAC,GAAG,IAAI,CAACA,SAAS,GAAGvD,QAAQ,CAACC,IAAI,CAAE,EAAEjE,eAAe,CAAC;IACzG;IACA,IAAI,CAAC2V,YAAY,CAAC,CAAC;IACnB,IAAI,CAAC3X,iBAAiB,CAAC,IAAI,CAAC0K,MAAM,CAAC,EAAE;MACjC,KAAK,IAAI9L,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC8L,MAAM,CAACnM,MAAM,EAAEK,CAAC,EAAE,EAAE;QACzC,IAAI,CAAC8L,MAAM,CAAC9L,CAAC,CAAC,CAACgY,OAAO,CAAC,CAAC;MAC5B;IACJ;IACA,IAAI,CAAC5W,iBAAiB,CAAC,IAAI,CAACyU,eAAe,CAAC,EAAE;MAC1C,IAAI,CAACA,eAAe,CAACmC,OAAO,CAAC,CAAC;IAClC;IACA,IAAI,CAAC5W,iBAAiB,CAAC,IAAI,CAACyG,OAAO,CAAC,EAAE;MAClC,IAAI,CAACA,OAAO,CAACmQ,OAAO,CAAC,CAAC;IAC1B;IACA,IAAI,CAAC5W,iBAAiB,CAAC,IAAI,CAACmO,QAAQ,CAAC3K,OAAO,CAAC,IAAI,IAAI,CAAC2K,QAAQ,CAAC3K,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAACnF,UAAU,CAAC,EAAE;MACnG,IAAI,CAACgM,QAAQ,CAACyI,OAAO,CAAC,CAAC;IAC3B;IACApX,WAAW,CAAC,CAAC,IAAI,CAACgE,OAAO,CAAC,EAAEkU,UAAU,CAAC;IACvC,IAAI,CAAC1X,iBAAiB,CAAC,IAAI,CAAC0R,QAAQ,CAAC,IAAI,IAAI,CAACA,QAAQ,KAAK,EAAE,EAAE;MAC3DlS,WAAW,CAAC,CAAC,IAAI,CAACgE,OAAO,CAAC,EAAE,IAAI,CAACkO,QAAQ,CAACsD,KAAK,CAAC,GAAG,CAAC,CAAC;IACzD;IACA,IAAI,CAAChV,iBAAiB,CAAC,IAAI,CAAC+N,UAAU,CAAC,IAAI,CAAC/N,iBAAiB,CAAC,IAAI,CAAC+N,UAAU,CAACJ,aAAa,CAAC,EAAE;MAC1F,IAAI,CAACI,UAAU,CAACJ,aAAa,CAACM,YAAY,CAAE,IAAI,CAAC5E,OAAO,GAAG,IAAI,CAACqE,YAAY,GAAG,IAAI,CAAClK,OAAO,EAAG,IAAI,CAACuK,UAAU,CAAC;MAC9GtO,MAAM,CAAC,IAAI,CAACsO,UAAU,CAAC;MACvB,IAAI,CAACA,UAAU,GAAG3G,SAAS;IAC/B;IACA,IAAI,IAAI,CAACiC,OAAO,IAAI,CAAC,IAAI,CAACZ,oBAAoB,CAAC,CAAC,EAAE;MAC9ChJ,MAAM,CAAC,IAAI,CAACoO,UAAU,CAAC;MACvB,IAAI,CAACH,YAAY,CAACuH,UAAU,CAAChH,YAAY,CAAC,IAAI,CAACzK,OAAO,EAAE,IAAI,CAACkK,YAAY,CAAC;MAC1EjO,MAAM,CAAC,IAAI,CAACiO,YAAY,CAAC;IAC7B;IACA,IAAI,CAAC,IAAI,CAACjF,oBAAoB,CAAC,CAAC,EAAE;MAC9B,IAAI,CAACjF,OAAO,CAAC0P,SAAS,GAAG,IAAI,CAACnO,SAAS,CAACmO,SAAS;IACrD;IACA,IAAI,IAAI,CAACzK,oBAAoB,CAAC,CAAC,EAAE;MAC7B,IAAI,CAACzI,iBAAiB,CAAC,IAAI,CAACwD,OAAO,CAACoE,QAAQ,CAAC,EAAE;QAC3C,KAAK,IAAIhJ,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,IAAI,CAAC4E,OAAO,CAACoE,QAAQ,CAACrJ,MAAM,EAAEK,CAAC,EAAE,EAAE;UACpDA,CAAC,GAAGA,CAAC,GAAGA,CAAC;UACTa,MAAM,CAAC,IAAI,CAAC+D,OAAO,CAACoE,QAAQ,CAAChJ,CAAC,CAAC,CAAC;QACpC;MACJ;IACJ;IACA,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+S,KAAK,CAACpT,MAAM,EAAEK,CAAC,EAAE,EAAE;MACnC,IAAI,CAAC4E,OAAO,CAACoU,eAAe,CAACjG,KAAK,CAAC/S,CAAC,CAAC,CAAC;IAC1C;IACA,IAAI,CAAC+L,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAAC/F,aAAa,GAAG,IAAI;IACzB,IAAI,CAAC,IAAI,CAACiT,OAAO,IAAI,CAAC,IAAI,CAAC5E,KAAK,IAAI,CAACjT,iBAAiB,CAAC,IAAI,CAAC4K,UAAU,CAAC,EAAE;MACrE,IAAI,CAAC4M,iBAAiB,CAAC,IAAI,CAAC5M,UAAU,CAAC;IAC3C;IACA,IAAI,CAACA,UAAU,GAAG,IAAI;IACtB,IAAI,CAAC,IAAI,CAACnC,oBAAoB,CAAC,CAAC,EAAE;MAC9BvH,MAAM,CAACpD,SAAS,CAAC8Y,OAAO,CAAClT,IAAI,CAAC,IAAI,CAAC;IACvC,CAAC,MACI;MACD,IAAI,CAAC+T,WAAW,GAAG,IAAI;IAC3B;IACA;IACA,IAAI,IAAI,CAACI,OAAO,EAAE;MACd,IAAI,CAACtB,aAAa,CAAC,CAAC;IACxB;EACJ,CAAC;EACDjT,MAAM,CAACxF,SAAS,CAACmM,qBAAqB,GAAG,YAAY;IACjD,IAAI,CAAC6N,wBAAwB,GAAG,IAAI,CAACT,mBAAmB,CAACxN,IAAI,CAAC,IAAI,CAAC;IACnE6F,MAAM,CAACqI,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACD,wBAAwB,CAAC;EACpE,CAAC;EACDxU,MAAM,CAACxF,SAAS,CAACoM,uBAAuB,GAAG,YAAY;IACnDwF,MAAM,CAACsI,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACF,wBAAwB,CAAC;IACnE,IAAI,CAACA,wBAAwB,GAAG,IAAI;EACxC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIxU,MAAM,CAACxF,SAAS,CAACiG,UAAU,GAAG,YAAY;IACtC,IAAI,IAAI,CAAC0E,oBAAoB,CAAC,CAAC,IAAI,IAAI,CAAC8L,aAAa,EAAE;MACnD,IAAI,CAACC,SAAS,GAAG,IAAI,CAAChR,OAAO,CAACqJ,sBAAsB,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;IAClF;IACA,IAAI,IAAI,CAAC0H,aAAa,EAAE;MACpBpU,YAAY,CAACuI,GAAG,CAAC,IAAI,CAAC8L,SAAS,EAAE,OAAO,EAAE,IAAI,CAACvP,0BAA0B,EAAE,IAAI,CAAC;IACpF;IACA,IAAI,IAAI,CAACoE,OAAO,IAAI,IAAI,CAACwE,UAAU,EAAE;MACjC1N,YAAY,CAACuI,GAAG,CAAC,IAAI,CAACmF,UAAU,EAAE,OAAO,EAAE,IAAI,CAACzI,2BAA2B,EAAE,IAAI,CAAC;IACtF;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI9B,MAAM,CAACxF,SAAS,CAAC6Z,YAAY,GAAG,YAAY;IACxC,IAAI,IAAI,CAACpD,aAAa,EAAE;MACpBpU,YAAY,CAACgK,MAAM,CAAC,IAAI,CAACqK,SAAS,EAAE,OAAO,EAAE,IAAI,CAACvP,0BAA0B,CAAC;IACjF;IACA,IAAI,IAAI,CAACoE,OAAO,EAAE;MACdlJ,YAAY,CAACgK,MAAM,CAAC,IAAI,CAAC0D,UAAU,EAAE,OAAO,EAAE,IAAI,CAACzI,2BAA2B,CAAC;IACnF;IACA,IAAI,IAAI,CAAC0G,OAAO,CAACvN,MAAM,GAAG,CAAC,IAAI,CAACyB,iBAAiB,CAAC,IAAI,CAAC8L,OAAO,CAAC,CAAC,CAAC,CAACI,WAAW,CAAC,IAAI,IAAI,CAACkB,cAAc,KAAK,EAAE,EAAE;MAC1G,KAAK,IAAIxO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACkN,OAAO,CAACvN,MAAM,EAAEK,CAAC,EAAE,EAAE;QAC1C,IAAI,OAAQ,IAAI,CAACkN,OAAO,CAAClN,CAAC,CAAC,CAACwN,KAAM,KAAK,UAAU,EAAE;UAC/CjM,YAAY,CAACgK,MAAM,CAAC,IAAI,CAACQ,kBAAkB,CAAC/C,QAAQ,CAAChJ,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAACkN,OAAO,CAAClN,CAAC,CAAC,CAACwN,KAAK,CAAC;QAC5F;MACJ;IACJ;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI9I,MAAM,CAACxF,SAAS,CAACma,eAAe,GAAG,YAAY;IAC3C,IAAI,CAAC9J,QAAQ,CAAC8J,eAAe,CAAC,CAAC;IAC/B,IAAI,IAAI,CAACzU,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAAC5F,SAAS,CAAC,EAAE;MAC5C,IAAI,CAACuN,cAAc,CAAC,CAAC;IACzB;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI3L,MAAM,CAACxF,SAAS,CAACoa,YAAY,GAAG,YAAY;IACxC,IAAIC,WAAW,GAAG,IAAI,CAAC3U,OAAO,CAAC4U,WAAW;IAC1C,IAAIC,YAAY,GAAG,IAAI,CAAC7U,OAAO,CAAC6M,YAAY;IAC5C,OAAO;MAAErM,KAAK,EAAEmU,WAAW;MAAE7R,MAAM,EAAE+R;IAAa,CAAC;EACvD,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI/U,MAAM,CAACxF,SAAS,CAACuR,IAAI,GAAG,UAAUiJ,YAAY,EAAE;IAC5C,IAAI7U,KAAK,GAAG,IAAI;IAChB,IAAI,CAAC,IAAI,CAACD,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAACjG,IAAI,CAAC,EAAE;MACxC;IACJ;IACA,IAAI,CAAC,IAAI,CAACmC,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAAC9E,QAAQ,CAAC,IAAK,CAACxC,iBAAiB,CAACsY,YAAY,CAAE,EAAE;MAClF,IAAI,CAACtY,iBAAiB,CAACsY,YAAY,CAAC,EAAE;QAClC,IAAI,CAACC,UAAU,CAACD,YAAY,CAAC;MACjC;MACA,IAAIE,WAAW,GAAGzY,QAAQ,CAAC,CAAC,GAAG;QAC3BuI,MAAM,EAAE,KAAK;QACb9E,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBgL,SAAS,EAAE,IAAI,CAACnF,OAAO,GAAG,IAAI,CAACqE,YAAY,GAAG,IAAI,CAAClK,OAAO;QAC1D8F,SAAS,EAAE,IAAI,CAAC9F,OAAO,CAACS,KAAK,CAACqF;MAClC,CAAC,GAAG;QACAhB,MAAM,EAAE,KAAK;QACb9E,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBgL,SAAS,EAAE,IAAI,CAACnF,OAAO,GAAG,IAAI,CAACqE,YAAY,GAAG,IAAI,CAAClK,OAAO;QAC1DtF,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBoL,SAAS,EAAE,IAAI,CAAC9F,OAAO,CAACS,KAAK,CAACqF;MAClC,CAAC;MACD,IAAI,CAAChE,OAAO,CAAC,YAAY,EAAEkT,WAAW,EAAE,UAAUC,cAAc,EAAE;QAC9D,IAAI,CAACA,cAAc,CAACnQ,MAAM,EAAE;UACxB,IAAI7E,KAAK,CAACD,OAAO,CAACS,KAAK,CAACqF,SAAS,KAAKkP,WAAW,CAAClP,SAAS,EAAE;YACzD7F,KAAK,CAACoB,cAAc,GAAG,KAAK;YAC5BpB,KAAK,CAACD,OAAO,CAACS,KAAK,CAACqF,SAAS,GAAGkP,WAAW,CAAClP,SAAS;UACzD;UACA,IAAI7F,KAAK,CAACU,YAAY,IAAIV,KAAK,CAACqU,wBAAwB,IAAI,IAAI,IAAI,CAACrU,KAAK,CAAC+I,aAAa,EAAE;YACtF/I,KAAK,CAACwG,qBAAqB,CAAC,CAAC;UACjC;UACAxG,KAAK,CAACuL,kBAAkB,GAAGhJ,QAAQ,CAAC6E,aAAa;UACjDpH,KAAK,CAACD,OAAO,CAAC6R,QAAQ,GAAG,CAAC,CAAC;UAC3B,IAAI5R,KAAK,CAAC4F,OAAO,IAAK,CAACrJ,iBAAiB,CAACyD,KAAK,CAACoK,UAAU,CAAE,EAAE;YACzDpK,KAAK,CAACoK,UAAU,CAAC5J,KAAK,CAAC2K,OAAO,GAAG,OAAO;YACxCnL,KAAK,CAACiK,YAAY,CAACzJ,KAAK,CAAC2K,OAAO,GAAG,MAAM;YACzCpP,WAAW,CAAC,CAACiE,KAAK,CAACoK,UAAU,CAAC,EAAE,QAAQ,CAAC;YACzC,IAAI,CAAC7N,iBAAiB,CAACyD,KAAK,CAAC8F,SAAS,CAAC,EAAE;cACrC,IAAI9F,KAAK,CAAC8F,SAAS,KAAKvD,QAAQ,CAACC,IAAI,EAAE;gBACnCxC,KAAK,CAACiK,YAAY,CAACzJ,KAAK,CAACsC,QAAQ,GAAG,OAAO;cAC/C,CAAC,MACI;gBACD9C,KAAK,CAACiK,YAAY,CAACzJ,KAAK,CAACsC,QAAQ,GAAG,UAAU;cAClD;cACA9C,KAAK,CAACoK,UAAU,CAAC5J,KAAK,CAACsC,QAAQ,GAAG,UAAU;cAC5C,IAAI+I,UAAU,GAAG7L,KAAK,CAAC8L,kBAAkB,CAAC9L,KAAK,CAACvF,MAAM,CAAC;cACvD,IAAIoR,UAAU,YAAYE,OAAO,EAAE;gBAC/B,IAAIC,aAAa,GAAGC,MAAM,CAAChI,gBAAgB,CAAC4H,UAAU,CAAC;gBACvD,IAAIG,aAAa,CAACE,gBAAgB,CAAC,WAAW,CAAC,KAAK,KAAK,EAAE;kBACvDlM,KAAK,CAACD,OAAO,CAACS,KAAK,CAACsC,QAAQ,GAAG,UAAU;gBAC7C,CAAC,MACI;kBACD9C,KAAK,CAACD,OAAO,CAACS,KAAK,CAACsC,QAAQ,GAAG,UAAU;gBAC7C;cACJ,CAAC,MACI;gBACD9C,KAAK,CAACD,OAAO,CAACS,KAAK,CAACsC,QAAQ,GAAG,UAAU;cAC7C;cACAhH,QAAQ,CAAC,CAACkE,KAAK,CAAC8F,SAAS,CAAC,EAAE,CAACzH,UAAU,EAAEE,eAAe,CAAC,CAAC;YAC9D,CAAC,MACI;cACDzC,QAAQ,CAAC,CAACyG,QAAQ,CAACC,IAAI,CAAC,EAAE,CAACnE,UAAU,EAAEE,eAAe,CAAC,CAAC;YAC5D;UACJ;UACA,IAAI0W,aAAa,GAAG;YAChBC,IAAI,EAAGlV,KAAK,CAACY,iBAAiB,CAACC,MAAM,KAAK,MAAM,IAAIhF,aAAa,KAAK,QAAQ,GAAI,MAAM,GAAG,IAAI,GAAGmE,KAAK,CAACY,iBAAiB,CAACC,MAAM,GAAG,IAAI;YACvIsU,QAAQ,EAAEnV,KAAK,CAACY,iBAAiB,CAACuU,QAAQ;YAC1CC,KAAK,EAAEpV,KAAK,CAACY,iBAAiB,CAACwU;UACnC,CAAC;UACD,IAAI3B,aAAa,GAAIzT,KAAK,CAAC4F,OAAO,GAAI5F,KAAK,CAACD,OAAO,CAACmK,aAAa,GAAGlK,KAAK,CAACD,OAAO;UACjF,IAAIC,KAAK,CAACmJ,eAAe,EAAE;YACvBnJ,KAAK,CAACkJ,SAAS,CAACuK,aAAa,EAAE,IAAI,CAAC;YACpCtX,iBAAiB,CAAC6D,KAAK,CAACD,OAAO,EAAE;cAAE,QAAQ,EAAEC,KAAK,CAACiJ;YAAO,CAAC,CAAC;YAC5D,IAAIjJ,KAAK,CAAC4F,OAAO,EAAE;cACf5F,KAAK,CAAC0L,gBAAgB,CAAC1L,KAAK,CAACiJ,MAAM,CAAC;YACxC;UACJ;UACA;UACCjJ,KAAK,CAACY,iBAAiB,CAACC,MAAM,KAAK,MAAM,IAAIhF,aAAa,KAAK,QAAQ,GAAImE,KAAK,CAAC0K,QAAQ,CAACkB,IAAI,CAACqJ,aAAa,CAAC,GAAKjV,KAAK,CAACY,iBAAiB,CAACC,MAAM,KAAK,MAAM,GAAIb,KAAK,CAAC0K,QAAQ,CAACkB,IAAI,CAAC,CAAC,GAAG5L,KAAK,CAAC0K,QAAQ,CAACkB,IAAI,CAACqJ,aAAa,CAAE;UAC3NjV,KAAK,CAACqV,UAAU,GAAG,IAAI;UACvB,IAAIhT,YAAY,GAAGrC,KAAK,CAACsC,mBAAmB;UAC5CtC,KAAK,CAACsC,mBAAmB,GAAG,IAAI;UAChCtC,KAAK,CAAC2L,OAAO,GAAG,IAAI;UACpB3L,KAAK,CAACqB,iBAAiB,GAAG,IAAI;UAC9BrB,KAAK,CAACsC,mBAAmB,GAAGD,YAAY;QAC5C;MACJ,CAAC,CAAC;IACN;IACA;IACA,IAAI,IAAI,CAAC+R,OAAO,EAAE;MACd,IAAI,CAACkB,oBAAoB,CAAC,CAAC;IAC/B;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIzV,MAAM,CAACxF,SAAS,CAACqH,IAAI,GAAG,UAAUD,KAAK,EAAE;IACrC,IAAIzB,KAAK,GAAG,IAAI;IAChB,IAAI,CAAC,IAAI,CAACD,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAACjG,IAAI,CAAC,EAAE;MACxC;IACJ;IACA,IAAI,IAAI,CAACyD,iBAAiB,EAAE;MACxB,IAAIyJ,SAAS,GAAGxO,QAAQ,CAAC,CAAC,GAAG;QACzBuI,MAAM,EAAE,KAAK;QACb0Q,YAAY,EAAE9T,KAAK,GAAG,IAAI,GAAG,KAAK;QAClC1B,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBgL,SAAS,EAAE,IAAI,CAACnF,OAAO,GAAG,IAAI,CAACqE,YAAY,GAAG,IAAI,CAAClK,OAAO;QAC1D0B,KAAK,EAAEA;MACX,CAAC,GAAG;QACAoD,MAAM,EAAE,KAAK;QACb0Q,YAAY,EAAE9T,KAAK,GAAG,IAAI,GAAG,KAAK;QAClC1B,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBtF,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBsQ,SAAS,EAAE,IAAI,CAACnF,OAAO,GAAG,IAAI,CAACqE,YAAY,GAAG,IAAI,CAAClK,OAAO;QAC1D0B,KAAK,EAAEA,KAAK;QACZ+T,QAAQ,EAAE,IAAI,CAACvU;MACnB,CAAC;MACD,IAAI,CAACmK,SAAS,GAAGN,SAAS;MAC1B,IAAI,CAACjJ,OAAO,CAAC,aAAa,EAAEiJ,SAAS,EAAE,UAAU2K,eAAe,EAAE;QAC9D,IAAI,CAACA,eAAe,CAAC5Q,MAAM,EAAE;UACzB,IAAI7E,KAAK,CAAC4F,OAAO,EAAE;YACf,IAAI,CAACrJ,iBAAiB,CAACyD,KAAK,CAAC8F,SAAS,CAAC,EAAE;cACrC/J,WAAW,CAAC,CAACiE,KAAK,CAAC8F,SAAS,CAAC,EAAE,CAACzH,UAAU,EAAEE,eAAe,CAAC,CAAC;YACjE;UACJ;UACA,IAAIyB,KAAK,CAACU,YAAY,EAAE;YACpBV,KAAK,CAACyG,uBAAuB,CAAC,CAAC;UACnC;UACA,IAAIlE,QAAQ,CAACC,IAAI,CAACoB,SAAS,CAACC,QAAQ,CAACxF,UAAU,CAAC,IAC5CkE,QAAQ,CAACC,IAAI,CAACoB,SAAS,CAACC,QAAQ,CAACtF,eAAe,CAAC,EAAE;YACnDxC,WAAW,CAAC,CAACwG,QAAQ,CAACC,IAAI,CAAC,EAAE,CAACnE,UAAU,EAAEE,eAAe,CAAC,CAAC;UAC/D;UACA,IAAImX,cAAc,GAAG;YACjBR,IAAI,EAAGlV,KAAK,CAACY,iBAAiB,CAACC,MAAM,KAAK,MAAM,IAAIhF,aAAa,KAAK,QAAQ,GAAI,MAAM,GAAG,KAAK,GAAGmE,KAAK,CAACY,iBAAiB,CAACC,MAAM,GAAG,KAAK;YACzIsU,QAAQ,EAAEnV,KAAK,CAACY,iBAAiB,CAACuU,QAAQ;YAC1CC,KAAK,EAAEpV,KAAK,CAACY,iBAAiB,CAACwU;UACnC,CAAC;UACD;UACCpV,KAAK,CAACY,iBAAiB,CAACC,MAAM,KAAK,MAAM,IAAIhF,aAAa,KAAK,QAAQ,GAAImE,KAAK,CAAC0K,QAAQ,CAAChJ,IAAI,CAACgU,cAAc,CAAC,GAAK1V,KAAK,CAACY,iBAAiB,CAACC,MAAM,KAAK,MAAM,GAAIb,KAAK,CAAC0K,QAAQ,CAAChJ,IAAI,CAAC,CAAC,GAAG1B,KAAK,CAAC0K,QAAQ,CAAChJ,IAAI,CAACgU,cAAc,CAAE;UAC7N1V,KAAK,CAACqV,UAAU,GAAG,KAAK;UACxB,IAAIhT,YAAY,GAAGrC,KAAK,CAACsC,mBAAmB;UAC5CtC,KAAK,CAACsC,mBAAmB,GAAG,IAAI;UAChCtC,KAAK,CAAC2L,OAAO,GAAG,KAAK;UACrB3L,KAAK,CAACqB,iBAAiB,GAAG,KAAK;UAC/BrB,KAAK,CAACsC,mBAAmB,GAAGD,YAAY;QAC5C;QACArC,KAAK,CAACiB,WAAW,GAAGzB,sBAAsB;MAC9C,CAAC,CAAC;IACN;EACJ,CAAC;EACD;EACA;AACJ;AACA;AACA;AACA;AACA;EACIK,MAAM,CAACxF,SAAS,CAACya,UAAU,GAAG,UAAUnQ,IAAI,EAAE;IAC1C;IACA,IAAIxB,GAAG,GAAG,IAAI,CAACpD,OAAO,CAAC4V,SAAS;IAChC,IAAI1S,IAAI,GAAG,IAAI,CAAClD,OAAO,CAAC6V,UAAU;IAClC;IACA,IAAIjR,IAAI,EAAE;MACN,IAAI,CAAC,IAAI,CAACiB,OAAO,EAAE;QACf,IAAI,CAAC7F,OAAO,CAACS,KAAK,CAAC2C,GAAG,GAAGZ,QAAQ,CAACsT,gBAAgB,CAACC,SAAS,GAAG,IAAI;MACvE;MACAha,QAAQ,CAAC,CAAC,IAAI,CAACiE,OAAO,CAAC,EAAEnB,UAAU,CAAC;MACpC,IAAIuM,OAAO,GAAG,IAAI,CAACpL,OAAO,CAACS,KAAK,CAAC2K,OAAO;MACxC,IAAI,CAACpL,OAAO,CAACS,KAAK,CAAC2K,OAAO,GAAG,MAAM;MACnC,IAAI,CAACpL,OAAO,CAACS,KAAK,CAACqF,SAAS,GAAI,CAACtJ,iBAAiB,CAAC,IAAI,CAAC9B,MAAM,CAAC,GAC1D,IAAI,CAACqL,SAAS,CAAC8G,YAAY,GAAI,IAAI,GAAIX,MAAM,CAACoE,WAAW,GAAI,IAAI;MACtE,IAAI,CAACtQ,OAAO,CAACS,KAAK,CAAC2K,OAAO,GAAGA,OAAO;MACpCrP,QAAQ,CAAC,CAACyG,QAAQ,CAACC,IAAI,CAAC,EAAE,CAACnE,UAAU,EAAEE,eAAe,CAAC,CAAC;MACxD,IAAI,IAAI,CAACuL,aAAa,IAAI,CAACvN,iBAAiB,CAAC,IAAI,CAACyG,OAAO,CAAC,EAAE;QACxD,IAAI,CAACA,OAAO,CAACmQ,OAAO,CAAC,CAAC;MAC1B;IACJ,CAAC,MACI;MACDpX,WAAW,CAAC,CAAC,IAAI,CAACgE,OAAO,CAAC,EAAEnB,UAAU,CAAC;MACvC7C,WAAW,CAAC,CAACwG,QAAQ,CAACC,IAAI,CAAC,EAAE,CAACnE,UAAU,EAAEE,eAAe,CAAC,CAAC;MAC3D,IAAI,IAAI,CAACuL,aAAa,IAAK,CAACvN,iBAAiB,CAAC,IAAI,CAAC4E,aAAa,CAAE,EAAE;QAChE,IAAI,CAAC4I,gBAAgB,CAAC,CAAC;MAC3B;IACJ;IACA,OAAOpF,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI9E,MAAM,CAACxF,SAAS,CAAC0b,UAAU,GAAG,UAAUvN,KAAK,EAAE;IAC3C,IAAI,CAACjM,iBAAiB,CAACiM,KAAK,CAAC,EAAE;MAC3B,OAAO,IAAI,CAACvB,MAAM,CAACuB,KAAK,CAAC;IAC7B;IACA,OAAO,IAAI,CAACvB,MAAM;EACtB,CAAC;EACD1M,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAE,CAAC,CACf,EAAEuE,MAAM,CAACxF,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;EACvCE,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAI,CAAC,CACjB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,qBAAqB,EAAE,KAAK,CAAC,CAAC;EACnDE,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAK,CAAC,CAClB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,mBAAmB,EAAE,KAAK,CAAC,CAAC;EACjDE,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAK,CAAC,CAClB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;EAC7CE,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAK,CAAC,CAClB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;EACvCE,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAE,CAAC,CACf,EAAEuE,MAAM,CAACxF,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;EACtCE,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAI,CAAC,CACjB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;EACvCE,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAK,CAAC,CAClB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;EAC5CE,UAAU,CAAC,CACPe,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAC3B,EAAEuE,MAAM,CAACxF,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;EAC7CE,UAAU,CAAC,CACPe,QAAQ,CAAC,MAAM,CAAC,CACnB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;EACtCE,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAE,CAAC,CACf,EAAEuE,MAAM,CAACxF,SAAS,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;EACzCE,UAAU,CAAC,CACPe,QAAQ,CAAC,MAAM,CAAC,CACnB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;EACrCE,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAE,CAAC,CACf,EAAEuE,MAAM,CAACxF,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;EACxCE,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAI,CAAC,CACjB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;EACtCE,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAI,CAAC,CACjB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;EACtCE,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAE,CAAC,CACf,EAAEuE,MAAM,CAACxF,SAAS,EAAE,gBAAgB,EAAE,KAAK,CAAC,CAAC;EAC9CE,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAK,CAAC,CAClB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;EAC7CE,UAAU,CAAC,CACPiB,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEgC,WAAW,CAAC,CAChC,EAAEqC,MAAM,CAACxF,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;EACvCE,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAI,CAAC,CACjB,EAAEuE,MAAM,CAACxF,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;EAC7CE,UAAU,CAAC,CACPmB,OAAO,CAAC,CAAC,CAAC,EAAEiC,iBAAiB,CAAC,CACjC,EAAEkC,MAAM,CAACxF,SAAS,EAAE,mBAAmB,EAAE,KAAK,CAAC,CAAC;EACjDE,UAAU,CAAC,CACPmB,OAAO,CAAC;IAAEqH,CAAC,EAAE,QAAQ;IAAEG,CAAC,EAAE;EAAS,CAAC,EAAEjG,YAAY,CAAC,CACtD,EAAE4C,MAAM,CAACxF,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;EACxCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;EACvCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;EACpCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,oBAAoB,EAAE,KAAK,CAAC,CAAC;EAClDE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;EAC1CE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;EACrCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;EAC3CE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;EACzCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;EACxCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;EACpCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;EAC5CE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;EAC3CE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;EACxCE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;EAC1CE,UAAU,CAAC,CACPgB,KAAK,CAAC,CAAC,CACV,EAAEsE,MAAM,CAACxF,SAAS,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;EACzCwF,MAAM,GAAGtF,UAAU,CAAC,CAChB6B,qBAAqB,CACxB,EAAEyD,MAAM,CAAC;EACV,OAAOA,MAAM;AACjB,CAAC,CAACxE,SAAS,CAAE;AACb,SAASwE,MAAM;AACf;AACA;AACA;AACA;AACA,OAAO,IAAImW,aAAa;AACxB,CAAC,UAAUA,aAAa,EAAE;EACtB;AACJ;AACA;AACA;AACA;AACA;AACA;EACI;EACA;AACJ;AACA;AACA;AACA;EACI,SAASC,KAAKA,CAACtR,IAAI,EAAE;IACjB;IACA,IAAIuR,eAAe;IACnB,IAAIC,aAAa,GAAGva,aAAa,CAAC,KAAK,EAAE;MAAE,WAAW,EAAEsD;IAAe,CAAC,CAAC;IACzEqD,QAAQ,CAACC,IAAI,CAACiI,WAAW,CAAC0L,aAAa,CAAC;IACxC,IAAIC,cAAc;IAClB,IAAIC,aAAa,GAAG,CAAC;MACb5N,WAAW,EAAE;QAAEC,SAAS,EAAE,IAAI;QAAEiG,OAAO,EAAE;MAAK,CAAC;MAC/ChG,KAAK,EAAE,SAAAA,CAAA,EAAY;QACf,IAAI,CAACjH,IAAI,CAAC,CAAC;MACf;IACJ,CAAC,CAAC;IACN,IAAI,OAAQiD,IAAK,KAAK,QAAQ,EAAE;MAC5ByR,cAAc,GAAGE,YAAY,CAAC;QAAE3H,OAAO,EAAEhK,IAAI;QACzC7B,QAAQ,EAAE;UAAEC,CAAC,EAAE,QAAQ;UAAEG,CAAC,EAAE;QAAM,CAAC;QACnC0C,OAAO,EAAE,IAAI;QAAE2D,MAAM,EAAEvK,sBAAsB;QAC7CqJ,OAAO,EAAEgO;MAAc,CAAC,EAAEF,aAAa,CAAC;IAChD,CAAC,MACI;MACDC,cAAc,GAAGE,YAAY,CAACC,YAAY,CAAC5R,IAAI,CAAC,EAAEwR,aAAa,CAAC;IACpE;IACAC,cAAc,CAACnU,KAAK,GAAG,YAAY;MAC/B,IAAI0C,IAAI,IAAIA,IAAI,CAAC1C,KAAK,EAAE;QACpB0C,IAAI,CAAC1C,KAAK,CAACvE,KAAK,CAAC0Y,cAAc,CAAC;MACpC;MACAA,cAAc,CAACjD,OAAO,CAAC,CAAC;MACxB,IAAIiD,cAAc,CAACrW,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAE;QAC1DuS,cAAc,CAACrW,OAAO,CAACmK,aAAa,CAACxD,MAAM,CAAC,CAAC;QAC7C0P,cAAc,CAAC3b,MAAM,CAACmJ,SAAS,CAAC8C,MAAM,CAACzH,aAAa,CAAC;MACzD,CAAC,MACI;QACDmX,cAAc,CAACrW,OAAO,CAAC2G,MAAM,CAAC,CAAC;MACnC;IACJ,CAAC;IACD,OAAO0P,cAAc;EACzB;EACAJ,aAAa,CAACC,KAAK,GAAGA,KAAK;EAC3B;AACJ;AACA;AACA;AACA;AACA;AACA;EACI;EACA;AACJ;AACA;AACA;AACA;EACI,SAASO,OAAOA,CAAC7R,IAAI,EAAE;IACnB;IACA,IAAIuR,eAAe;IACnB,IAAIC,aAAa,GAAGva,aAAa,CAAC,KAAK,EAAE;MAAE,WAAW,EAAEuD;IAAiB,CAAC,CAAC;IAC3EoD,QAAQ,CAACC,IAAI,CAACiI,WAAW,CAAC0L,aAAa,CAAC;IACxC,IAAIM,gBAAgB;IACpB,IAAIC,mBAAmB,GAAG,CAAC;MACnBjO,WAAW,EAAE;QAAEC,SAAS,EAAE,IAAI;QAAEiG,OAAO,EAAE;MAAK,CAAC;MAC/ChG,KAAK,EAAE,SAAAA,CAAA,EAAY;QACf,IAAI,CAACjH,IAAI,CAAC,CAAC;MACf;IACJ,CAAC,EAAE;MACC+G,WAAW,EAAE;QAAEkG,OAAO,EAAE;MAAS,CAAC;MAClChG,KAAK,EAAE,SAAAA,CAAA,EAAY;QACf,IAAI,CAACjH,IAAI,CAAC,CAAC;MACf;IACJ,CAAC,CAAC;IACN,IAAI,OAAQiD,IAAK,KAAK,QAAQ,EAAE;MAC5B8R,gBAAgB,GAAGH,YAAY,CAAC;QAAExT,QAAQ,EAAE;UAAEC,CAAC,EAAE,QAAQ;UAAEG,CAAC,EAAE;QAAM,CAAC;QAAEyL,OAAO,EAAEhK,IAAI;QAAEiB,OAAO,EAAE,IAAI;QAC/F2D,MAAM,EAAEvK,sBAAsB;QAAEqJ,OAAO,EAAEqO;MAC7C,CAAC,EAAEP,aAAa,CAAC;IACrB,CAAC,MACI;MACDM,gBAAgB,GAAGH,YAAY,CAACK,cAAc,CAAChS,IAAI,CAAC,EAAEwR,aAAa,CAAC;IACxE;IACAM,gBAAgB,CAACxU,KAAK,GAAG,YAAY;MACjC,IAAI0C,IAAI,IAAIA,IAAI,CAAC1C,KAAK,EAAE;QACpB0C,IAAI,CAAC1C,KAAK,CAACvE,KAAK,CAAC+Y,gBAAgB,CAAC;MACtC;MACAA,gBAAgB,CAACtD,OAAO,CAAC,CAAC;MAC1B,IAAIsD,gBAAgB,CAAC1W,OAAO,CAAC6D,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAE;QAC5D4S,gBAAgB,CAAC1W,OAAO,CAACmK,aAAa,CAACxD,MAAM,CAAC,CAAC;QAC/C+P,gBAAgB,CAAChc,MAAM,CAACmJ,SAAS,CAAC8C,MAAM,CAACzH,aAAa,CAAC;MAC3D,CAAC,MACI;QACDwX,gBAAgB,CAAC1W,OAAO,CAAC2G,MAAM,CAAC,CAAC;MACrC;IACJ,CAAC;IACD,OAAO+P,gBAAgB;EAC3B;EACAT,aAAa,CAACQ,OAAO,GAAGA,OAAO;EAC/B;EACA,SAASF,YAAYA,CAACxW,OAAO,EAAEC,OAAO,EAAE;IACpC,IAAI6W,YAAY,GAAG,IAAI/W,MAAM,CAACC,OAAO,CAAC;IACtC8W,YAAY,CAACrI,QAAQ,CAACxO,OAAO,CAAC;IAC9B,OAAO6W,YAAY;EACvB;EACA;EACA,SAASL,YAAYA,CAACM,MAAM,EAAE;IAC1B,IAAI/W,OAAO,GAAG,CAAC,CAAC;IAChBA,OAAO,CAACuI,OAAO,GAAG,EAAE;IACpBvI,OAAO,GAAGgX,WAAW,CAAChX,OAAO,EAAE+W,MAAM,CAAC;IACtC/W,OAAO,GAAGiX,mBAAmB,CAACjX,OAAO,EAAE+W,MAAM,CAAC;IAC9C,OAAO/W,OAAO;EAClB;EACA;EACA,SAAS6W,cAAcA,CAACE,MAAM,EAAE;IAC5B,IAAI/W,OAAO,GAAG,CAAC,CAAC;IAChBA,OAAO,CAACuI,OAAO,GAAG,EAAE;IACpBvI,OAAO,GAAGgX,WAAW,CAAChX,OAAO,EAAE+W,MAAM,CAAC;IACtC/W,OAAO,GAAGkX,qBAAqB,CAAClX,OAAO,EAAE+W,MAAM,CAAC;IAChD,OAAO/W,OAAO;EAClB;EACA;EACA,SAASgX,WAAWA,CAAChX,OAAO,EAAE+W,MAAM,EAAE;IAClC/W,OAAO,CAACyJ,MAAM,GAAG,CAAChN,iBAAiB,CAACsa,MAAM,CAACI,KAAK,CAAC,GAAGJ,MAAM,CAACI,KAAK,GAAG,IAAI;IACvEnX,OAAO,CAAC6O,OAAO,GAAG,CAACpS,iBAAiB,CAACsa,MAAM,CAAClI,OAAO,CAAC,GAAGkI,MAAM,CAAClI,OAAO,GAAG,EAAE;IAC1E7O,OAAO,CAAC8F,OAAO,GAAG,CAACrJ,iBAAiB,CAACsa,MAAM,CAACjR,OAAO,CAAC,GAAGiR,MAAM,CAACjR,OAAO,GAAG,IAAI;IAC5E9F,OAAO,CAACgR,aAAa,GAAG,CAACvU,iBAAiB,CAACsa,MAAM,CAAC/F,aAAa,CAAC,GAAG+F,MAAM,CAAC/F,aAAa,GAAG,KAAK;IAC/FhR,OAAO,CAACgK,aAAa,GAAG,CAACvN,iBAAiB,CAACsa,MAAM,CAACK,WAAW,CAAC,GAAGL,MAAM,CAACK,WAAW,GAAG,KAAK;IAC3FpX,OAAO,CAACiI,aAAa,GAAG,CAACxL,iBAAiB,CAACsa,MAAM,CAAC9O,aAAa,CAAC,GAAG8O,MAAM,CAAC9O,aAAa,GAAG,KAAK;IAC/FjI,OAAO,CAACgD,QAAQ,GAAG,CAACvG,iBAAiB,CAACsa,MAAM,CAAC/T,QAAQ,CAAC,GAAG+T,MAAM,CAAC/T,QAAQ,GAAG;MAAEC,CAAC,EAAE,QAAQ;MAAEG,CAAC,EAAE;IAAM,CAAC;IACpGpD,OAAO,CAACc,iBAAiB,GAAG,CAACrE,iBAAiB,CAACsa,MAAM,CAACjW,iBAAiB,CAAC,GAAGiW,MAAM,CAACjW,iBAAiB,GAC/F;MAAEC,MAAM,EAAE,MAAM;MAAEsU,QAAQ,EAAE,GAAG;MAAEC,KAAK,EAAE;IAAE,CAAC;IAC/CtV,OAAO,CAACmO,QAAQ,GAAG,CAAC1R,iBAAiB,CAACsa,MAAM,CAAC5I,QAAQ,CAAC,GAAG4I,MAAM,CAAC5I,QAAQ,GAAG,EAAE;IAC7EnO,OAAO,CAACmJ,MAAM,GAAG,CAAC1M,iBAAiB,CAACsa,MAAM,CAAC5N,MAAM,CAAC,GAAG4N,MAAM,CAAC5N,MAAM,GAAG,IAAI;IACzEnJ,OAAO,CAAC+K,IAAI,GAAG,CAACtO,iBAAiB,CAACsa,MAAM,CAAChM,IAAI,CAAC,GAAGgM,MAAM,CAAChM,IAAI,GAAG,IAAI;IACnE/K,OAAO,CAACS,KAAK,GAAG,CAAChE,iBAAiB,CAACsa,MAAM,CAACtW,KAAK,CAAC,GAAGsW,MAAM,CAACtW,KAAK,GAAG,MAAM;IACxET,OAAO,CAAC+C,MAAM,GAAG,CAACtG,iBAAiB,CAACsa,MAAM,CAAChU,MAAM,CAAC,GAAGgU,MAAM,CAAChU,MAAM,GAAG,MAAM;IAC3E,OAAO/C,OAAO;EAClB;EACA;EACA,SAASiX,mBAAmBA,CAACjX,OAAO,EAAE+W,MAAM,EAAE;IAC1C,IAAIM,gBAAgB,GAAG,CAAC;MAChB1O,WAAW,EAAE;QAAEC,SAAS,EAAE,IAAI;QAAEiG,OAAO,EAAE;MAAK,CAAC;MAC/ChG,KAAK,EAAE,SAAAA,CAAA,EAAY;QACf,IAAI,CAACjH,IAAI,CAAC,CAAC;MACf;IACJ,CAAC,CAAC;IACN,IAAI,CAACnF,iBAAiB,CAACsa,MAAM,CAACO,QAAQ,CAAC,EAAE;MACrCtX,OAAO,CAACuI,OAAO,CAAC,CAAC,CAAC,GAAGgP,eAAe,CAACvX,OAAO,CAACuI,OAAO,CAAC,CAAC,CAAC,EAAEwO,MAAM,CAACO,QAAQ,EAAED,gBAAgB,CAAC,CAAC,CAAC,CAAC;IAClG,CAAC,MACI;MACDrX,OAAO,CAACuI,OAAO,GAAG8O,gBAAgB;IACtC;IACA,OAAOrX,OAAO;EAClB;EACA;EACA,SAASkX,qBAAqBA,CAAClX,OAAO,EAAE+W,MAAM,EAAE;IAC5C,IAAIR,aAAa,GAAG;MAChB5N,WAAW,EAAE;QAAEC,SAAS,EAAE,IAAI;QAAEiG,OAAO,EAAE;MAAK,CAAC;MAC/ChG,KAAK,EAAE,SAAAA,CAAA,EAAY;QACf,IAAI,CAACjH,IAAI,CAAC,CAAC;MACf;IACJ,CAAC;IACD,IAAI4V,iBAAiB,GAAG;MACpB7O,WAAW,EAAE;QAAEkG,OAAO,EAAE;MAAS,CAAC;MAClChG,KAAK,EAAE,SAAAA,CAAA,EAAY;QACf,IAAI,CAACjH,IAAI,CAAC,CAAC;MACf;IACJ,CAAC;IACD,IAAI,CAACnF,iBAAiB,CAACsa,MAAM,CAACO,QAAQ,CAAC,EAAE;MACrCtX,OAAO,CAACuI,OAAO,CAAC,CAAC,CAAC,GAAGgP,eAAe,CAACvX,OAAO,CAACuI,OAAO,CAAC,CAAC,CAAC,EAAEwO,MAAM,CAACO,QAAQ,EAAEf,aAAa,CAAC;IAC5F,CAAC,MACI;MACDvW,OAAO,CAACuI,OAAO,CAAC,CAAC,CAAC,GAAGgO,aAAa;IACtC;IACA,IAAI,CAAC9Z,iBAAiB,CAACsa,MAAM,CAACU,YAAY,CAAC,EAAE;MACzCzX,OAAO,CAACuI,OAAO,CAAC,CAAC,CAAC,GAAGgP,eAAe,CAACvX,OAAO,CAACuI,OAAO,CAAC,CAAC,CAAC,EAAEwO,MAAM,CAACU,YAAY,EAAED,iBAAiB,CAAC;IACpG,CAAC,MACI;MACDxX,OAAO,CAACuI,OAAO,CAAC,CAAC,CAAC,GAAGiP,iBAAiB;IAC1C;IACA,OAAOxX,OAAO;EAClB;EACA;EACA,SAASuX,eAAeA,CAAC5O,WAAW,EAAEoO,MAAM,EAAEW,eAAe,EAAE;IAC3D,IAAIC,WAAW,GAAGD,eAAe;IACjC,IAAI,CAACjb,iBAAiB,CAACsa,MAAM,CAACa,IAAI,CAAC,EAAE;MACjCD,WAAW,CAAChP,WAAW,CAACkG,OAAO,GAAGkI,MAAM,CAACa,IAAI;IACjD;IACA,IAAI,CAACnb,iBAAiB,CAACsa,MAAM,CAACc,IAAI,CAAC,EAAE;MACjCF,WAAW,CAAChP,WAAW,CAACwI,OAAO,GAAG4F,MAAM,CAACc,IAAI;IACjD;IACA,IAAI,CAACpb,iBAAiB,CAACsa,MAAM,CAAC5I,QAAQ,CAAC,EAAE;MACrCwJ,WAAW,CAAChP,WAAW,CAACwF,QAAQ,GAAG4I,MAAM,CAAC5I,QAAQ;IACtD;IACA,IAAI,CAAC1R,iBAAiB,CAACsa,MAAM,CAAClO,KAAK,CAAC,EAAE;MAClC8O,WAAW,CAAC9O,KAAK,GAAGkO,MAAM,CAAClO,KAAK;IACpC;IACA,IAAI,CAACpM,iBAAiB,CAACsa,MAAM,CAACrI,MAAM,CAAC,EAAE;MACnCiJ,WAAW,CAACjJ,MAAM,GAAGqI,MAAM,CAACrI,MAAM;IACtC;IACA,OAAOiJ,WAAW;EACtB;AACJ,CAAC,EAAEzB,aAAa,KAAKA,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}