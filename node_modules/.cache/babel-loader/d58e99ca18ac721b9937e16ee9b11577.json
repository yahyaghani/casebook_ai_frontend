{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */function () {\n  /**\n   * Constructor for the logerithmic module.\n   *\n   * @private\n   */\n  function MultiLevelLabel(chart) {\n    /** @private */\n    this.xAxisPrevHeight = [];\n    /** @private */\n    this.xAxisMultiLabelHeight = [];\n    /** @private */\n    this.yAxisPrevHeight = [];\n    /** @private */\n    this.yAxisMultiLabelHeight = [];\n    /** @private */\n    this.multiLevelLabelRectXRegion = [];\n    /** @private */\n    this.xLabelCollection = [];\n    this.chart = chart;\n    this.addEventListener();\n  }\n  /**\n   * Binding events for multi level module.\n   */\n  MultiLevelLabel.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n    this.chart.on('click', this.click, this);\n  };\n  /**\n   * Finds multilevel label height.\n   *\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n    var _this = this;\n    var value = 0;\n    var multiLevelLabelsHeight = [];\n    var prevHeight = [];\n    var isVertical = axis.orientation === 'Vertical';\n    var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n    var labelSize;\n    var height;\n    var padding = 10;\n    var gap;\n    axis.multiLevelLabels.map(function (multiLevel, index) {\n      multiLevel.categories.map(function (categoryLabel, i) {\n        if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n          labelSize = measureText(categoryLabel.text, multiLevel.textStyle, _this.chart.themeStyle.axisLabelFont);\n          height = isVertical ? labelSize.width : labelSize.height;\n          height += 2 * multiLevel.border.width + (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n          gap = categoryLabel.maximumTextWidth !== null ? categoryLabel.maximumTextWidth : valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end, axis) * axisValue - valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start, axis) * axisValue;\n          var len = axis.multiLevelLabels[index].categories.length;\n          gap = (i === 0 || i === len - 1) && axis.labelPlacement === 'OnTicks' && axis.edgeLabelPlacement === 'Shift' ? gap / 2 : gap;\n          if (labelSize.width > gap - padding && gap > 0 && multiLevel.overflow === 'Wrap' && !isVertical) {\n            height = height * textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle, _this.chart.enableRtl, null, null, _this.chart.themeStyle.axisLabelFont).length;\n          }\n          multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height : multiLevelLabelsHeight[index] < height ? height : multiLevelLabelsHeight[index];\n        }\n      });\n      prevHeight[index] = value;\n      value += multiLevelLabelsHeight[index] ? multiLevelLabelsHeight[index] + padding : 0;\n    });\n    axis.multiLevelLabelHeight = value + (axis.title !== '' || this.chart.legendModule && this.chart.legendSettings.visible ? padding / 2 : 0);\n    if (isVertical) {\n      this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.yAxisPrevHeight = prevHeight;\n    } else {\n      this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.xAxisPrevHeight = prevHeight;\n    }\n  };\n  /**\n   * render x axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n    var _this = this;\n    var x;\n    var y;\n    var padding = 10;\n    var startX;\n    var pointIndex;\n    var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.height + padding;\n    var endX;\n    var pathRect = '';\n    var start;\n    var end;\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var gap;\n    var anchor;\n    var isInversed = axis.isAxisInverse;\n    var argsData;\n    var opposedPosition = axis.isAxisOpposedPosition;\n    var len;\n    var scrollBarHeight = axis.scrollbarSettings.enable || isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    var clipY = opposedPosition && !isOutside || !opposedPosition && isOutside ? axisRect.y + startY - axis.majorTickLines.width : axisRect.y - startY - axis.multiLevelLabelHeight;\n    this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      pointIndex = 0;\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      multiLevel.categories.map(function (categoryLabel, i) {\n        len = multiLevel.categories.length;\n        pathRect = '';\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n        if (!argsData.cancel) {\n          startX = valueToCoefficient(start, axis) * axisRect.width;\n          endX = valueToCoefficient(end, axis) * axisRect.width;\n          endX = isInversed ? [startX, startX = endX][0] : endX;\n          labelSize = measureText(argsData.text, argsData.textStyle, _this.chart.themeStyle.axisLabelFont);\n          gap = (categoryLabel.maximumTextWidth === null ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n          x = startX + axisRect.x + padding;\n          y = (opposedPosition && !isOutside || !opposedPosition && isOutside ? startY + axisRect.y + labelSize.height / 2 + padding + _this.xAxisPrevHeight[level] : axisRect.y - startY + labelSize.height / 2 - _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level]) + scrollBarHeight;\n          if (argsData.alignment === 'Center') {\n            x += (endX - startX - padding) / 2;\n            anchor = 'middle';\n          } else if (argsData.alignment === 'Far') {\n            x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n            if (axis.labelPlacement === 'OnTicks' && (i === 0 || i === len - 1)) {\n              x += (endX - startX - padding) / 2;\n              x = x - labelSize.width / 2;\n            }\n            anchor = 'end';\n          } else {\n            anchor = 'start';\n            x += multiLevel.border.width / 2;\n          }\n          y = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? y + padding : y - padding / 2 : y;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n          if (multiLevel.overflow !== 'None') {\n            if (axis.edgeLabelPlacement && axis.labelPlacement === 'OnTicks') {\n              switch (axis.edgeLabelPlacement) {\n                case 'None':\n                  break;\n                case 'Shift':\n                  if (i === 0 || isInversed && i === len - 1) {\n                    if (argsData.alignment === 'Center' && (options.x < axisRect.x + padding || options.x - labelSize.width / 2) < axis.rect.x) {\n                      options.x += axisRect.x / 2;\n                      if (options.x / 2 < axisRect.x) {\n                        options.x = axisRect.x + padding / 2;\n                        options.anchor = 'start';\n                      }\n                    } else if (argsData.alignment === 'Far' && (options.x < axisRect.x + padding || options.x > axisRect.x + padding)) {\n                      options.x += labelSize.width / 2 - gap / 2;\n                    } else if (argsData.alignment === 'Near' && (options.x < axisRect.x + padding || options.x > axisRect.x + padding)) {\n                      options.x = axisRect.x + padding;\n                    }\n                    gap = gap / 2;\n                  } else if (i === len - 1 || isInversed && i === 0) {\n                    if (argsData.alignment === 'Center' && options.x > axisRect.x + axisRect.width) {\n                      options.x -= padding;\n                      if (options.x > axisRect.width) {\n                        options.x = axisRect.width + axisRect.x;\n                        options.anchor = 'end';\n                      }\n                    } else if (argsData.alignment === 'Far') {\n                      options.x = axisRect.width + axisRect.x;\n                    } else {\n                      options.x = options.x;\n                    }\n                    gap = gap / 2;\n                  }\n                  break;\n              }\n            }\n            options.text = multiLevel.overflow === 'Wrap' ? textWrap(argsData.text, gap, argsData.textStyle, _this.chart.enableRtl, null, null, _this.chart.themeStyle.axisLabelFont) : textTrim(gap, argsData.text, argsData.textStyle, _this.chart.enableRtl, _this.chart.themeStyle.axisLabelFont);\n            options.x = options.x - padding / 2;\n          }\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabelFont.color, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas, null, _this.chart.themeStyle.axisLabelFont);\n          if (_this.chart.enableCanvas) {\n            var textSize = measureText(argsData.text, argsData.textStyle, _this.chart.themeStyle.axisLabelFont);\n            _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n            _this.xLabelCollection.push(options);\n          }\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex);\n            // fix for generating seperate rect\n            if (pathRect !== '') {\n              _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n              pointIndex++;\n            }\n          }\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render x axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var value;\n    var value1;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var width = gap + padding;\n    var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n    var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n    var x = startX + axisRect.x;\n    var y = !opposedPosition && isOutside || opposedPosition && !isOutside ? startY + axisRect.y + this.xAxisPrevHeight[labelIndex] + scrollBarHeight : axisRect.y - startY - this.xAxisPrevHeight[labelIndex] - scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        var len = axis.multiLevelLabels[labelIndex].categories.length;\n        var lastX = categoryIndex === len - 1 && x + width > axisRect.width ? axisRect.width + axisRect.x : x + width;\n        var initialX = categoryIndex === 0 && axis.multiLevelLabels[labelIndex].categories[0].start <= 0 ? axisRect.x : x;\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + initialX + ' ' + y + ' L ' + initialX + ' ' + (y + height) + ' M ' + lastX + ' ' + y + ' L ' + lastX + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + initialX + ' ' + (y + height) + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + initialX + ' ' + y + ' L ' + lastX + ' ' + y : ' ';\n        break;\n      case 'Brace':\n        if (alignment === 'Near') {\n          value = textOptions.x;\n          value1 = textOptions.x + labelSize.width + 2;\n        } else if (alignment === 'Center') {\n          value = textOptions.x - labelSize.width / 2 - 2;\n          value1 = textOptions.x + labelSize.width / 2 + 2;\n        } else {\n          value = textOptions.x - labelSize.width - 2;\n          value1 = textOptions.x;\n        }\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) + ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) + ' M ' + value1 + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) + ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + y;\n        break;\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        } else {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        }\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) + ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else if (alignment === 'Near') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        }\n        break;\n    }\n    return path;\n  };\n  /**\n   * render y axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n    var _this = this;\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var x;\n    var y;\n    var padding = 10;\n    var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.width + padding;\n    var startY;\n    var path = '';\n    var endY;\n    var argsData;\n    var pointIndex;\n    var isInversed = axis.isAxisInverse;\n    var start;\n    var end;\n    var gap;\n    var anchor = 'middle';\n    var opposedPosition = axis.isAxisOpposedPosition;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var clipX = opposedPosition && !isOutside || !opposedPosition && isOutside ? rect.x - axis.multiLevelLabelHeight - startX - padding : rect.x + startX;\n    this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id + 'YAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      pointIndex = 0;\n      multiLevel.categories.map(function (categoryLabel, i) {\n        path = '';\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        startY = valueToCoefficient(start, axis) * rect.height;\n        endY = valueToCoefficient(end, axis) * rect.height;\n        endY = isInversed ? [startY, startY = endY][0] : endY;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n        if (!argsData.cancel) {\n          var maximumWidth = categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] / 2 : categoryLabel.maximumTextWidth / 2;\n          labelSize = measureText(argsData.text, argsData.textStyle, _this.chart.themeStyle.axisLabelFont);\n          gap = endY - startY;\n          x = rect.x - startX - _this.yAxisPrevHeight[level] - maximumWidth - padding / 2;\n          y = rect.height + rect.y - startY - gap / 2;\n          if (opposedPosition) {\n            x = isOutside ? rect.x + startX + padding / 2 + maximumWidth + _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - maximumWidth - _this.yAxisPrevHeight[level] - padding / 2;\n          } else {\n            x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + maximumWidth + _this.yAxisPrevHeight[level];\n          }\n          if (argsData.alignment === 'Center') {\n            y += labelSize.height / 4;\n          } else if (argsData.alignment === 'Far') {\n            y += gap / 2 - labelSize.height / 2;\n          } else {\n            y = y - gap / 2 + labelSize.height;\n          }\n          x = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? x - padding : x + padding : x;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n          options.text = multiLevel.overflow === 'Trim' ? textTrim(categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] : categoryLabel.maximumTextWidth, argsData.text, argsData.textStyle, _this.chart.enableRtl, _this.chart.themeStyle.axisLabelFont) : options.text;\n          options.text = multiLevel.overflow === 'Wrap' ? textWrap(argsData.text, categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] : categoryLabel.maximumTextWidth, argsData.textStyle, _this.chart.enableRtl, null, null, _this.chart.themeStyle.axisLabelFont) : options.text;\n          if (typeof options.text !== 'string' && options.text.length > 1) {\n            options.y -= padding * options.text.length / 2;\n          }\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabelFont.color, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas, null, _this.chart.themeStyle.axisLabelFont);\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n            if (path !== '') {\n              _this.createBorderElement(level, index, axis, path, pointIndex);\n              pointIndex++;\n            }\n          }\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render y axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var height = endY - startY;\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var y = rect.y + rect.height - endY;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var width = (groupLabel.categories[categoryIndex].maximumTextWidth === null ? this.yAxisMultiLabelHeight[labelIndex] : groupLabel.categories[categoryIndex].maximumTextWidth) + padding;\n    var x = (!opposedPosition && isOutside || opposedPosition && !isOutside ? rect.x - startX - this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? -width : width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y + ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + (x + width) + ' ' + y + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + x + ' ' + (y + height) + 'L' + ' ' + x + ' ' + y + ' ' : ' ';\n        break;\n      case 'Brace':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? width : -width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' + (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' + (textOptions.y + labelSize.height / 4 + 2) + ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + x + ' ' + (y + height);\n        break;\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        } else {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        }\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else if (alignment === 'Far') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding1) + ' ' + (y + 15) + ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        }\n        break;\n    }\n    return path;\n  };\n  /**\n   * create cliprect\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n    this.multiElements = this.chart.renderer.createGroup({\n      'id': axisId,\n      'clip-path': 'url(#' + clipId + ')'\n    });\n    if (!this.chart.enableCanvas) {\n      this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n        'id': clipId,\n        'x': x,\n        'y': y,\n        'width': width,\n        'height': height,\n        'fill': 'white',\n        'stroke-width': 1,\n        'stroke': 'Gray'\n      }, this.chart.renderer));\n    }\n  };\n  /**\n   * create borer element\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n    var direction = path;\n    var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n    borderElement.style.pointerEvents = 'none';\n    appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n    var argsData = {\n      cancel: false,\n      name: axisMultiLabelRender,\n      axis: axis,\n      text: text,\n      textStyle: textStyle,\n      alignment: textAlignment,\n      customAttributes: customAttributes\n    };\n    this.chart.trigger(axisMultiLabelRender, argsData);\n    return argsData;\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n    var level = parseInt(labelIndex.substr(0, 1), 10);\n    var textElement = parseInt(labelIndex.substr(7), 10);\n    var chart = this.chart;\n    var axis = chart.axisCollections[axisIndex];\n    var categories = axis.multiLevelLabels[level].categories;\n    var text = categories[textElement].text;\n    var start = categories[textElement].start;\n    var end = categories[textElement].end;\n    var customAttributes = categories[textElement].customAttributes;\n    var multilevelclickArgs = {\n      axis: axis,\n      level: level,\n      text: text,\n      customAttributes: customAttributes,\n      start: start,\n      end: end,\n      name: multiLevelLabelClick,\n      cancel: false\n    };\n    this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n    return multilevelclickArgs;\n  };\n  /**\n   * To click the multi level label\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.click = function (event) {\n    var targetId = event.target.id;\n    var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n    var textId;\n    var elementId;\n    var axisIndex;\n    if (this.chart.enableCanvas) {\n      for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n        if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n          targetId = this.xLabelCollection[i].id;\n        }\n      }\n    }\n    if (targetId.indexOf(multiLevelID) > -1) {\n      textId = targetId.split(multiLevelID)[1];\n      elementId = targetId.split(multiLevelID)[0];\n      axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n      this.MultiLevelLabelClick(textId, axisIndex);\n    }\n  };\n  /**\n   * To get the module name for `MultiLevelLabel`.\n   *\n   * @private\n   */\n  MultiLevelLabel.prototype.getModuleName = function () {\n    return 'MultiLevelLabel';\n  };\n  /**\n   * To destroy the `MultiLevelLabel` module.\n   *\n   * @private\n   */\n  MultiLevelLabel.prototype.destroy = function () {\n    // destroy peform here\n  };\n  return MultiLevelLabel;\n}();\nexport { MultiLevelLabel };","map":{"version":3,"names":["isNullOrUndefined","textWrap","appendClipElement","appendChildElement","valueToCoefficient","textTrim","textElement","withInBounds","measureText","TextOption","PathOption","Rect","axisMultiLabelRender","multiLevelLabelClick","MultiLevelLabel","chart","xAxisPrevHeight","xAxisMultiLabelHeight","yAxisPrevHeight","yAxisMultiLabelHeight","multiLevelLabelRectXRegion","xLabelCollection","addEventListener","prototype","isDestroyed","on","click","getMultilevelLabelsHeight","axis","_this","value","multiLevelLabelsHeight","prevHeight","isVertical","orientation","axisValue","rect","height","width","labelSize","padding","gap","multiLevelLabels","map","multiLevel","index","categories","categoryLabel","i","text","start","end","textStyle","themeStyle","axisLabelFont","border","type","maximumTextWidth","Number","Date","len","length","labelPlacement","edgeLabelPlacement","overflow","enableRtl","multiLevelLabelHeight","title","legendModule","legendSettings","visible","renderXAxisMultiLevelLabels","parent","axisRect","x","y","startX","pointIndex","startY","labelPosition","tickPosition","majorTickLines","maxLabelSize","endX","pathRect","isOutside","anchor","isInversed","isAxisInverse","argsData","opposedPosition","isAxisOpposedPosition","scrollBarHeight","scrollbarSettings","enable","crossesAt","clipY","createClipRect","element","id","level","labelElement","renderer","createGroup","triggerMultiLabelRender","alignment","customAttributes","cancel","options","color","redraw","enableCanvas","textSize","push","renderXAxisLabelBorder","createBorderElement","multiElements","appendChild","labelIndex","textOptions","path","categoryIndex","padding1","padding2","value1","groupLabel","categoryType","borderType","lastX","initialX","renderYAxisMultiLevelLabels","endY","clipX","maximumWidth","renderYAxisLabelBorder","clipId","axisId","borderIndex","axisIndex","direction","borderElement","drawPath","axisLine","style","pointerEvents","textAlignment","name","trigger","MultiLevelLabelClick","parseInt","substr","axisCollections","multilevelclickArgs","event","targetId","target","multiLevelID","textId","elementId","indexOf","split","charAt","getModuleName","destroy"],"sources":["/home/taymur/Documents/legal2/DATA/Highlight/newmerged/CASEFRONTt/node_modules/@syncfusion/ej2-charts/src/chart/axis/multi-level-labels.js"],"sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */ (function () {\n    /**\n     * Constructor for the logerithmic module.\n     *\n     * @private\n     */\n    function MultiLevelLabel(chart) {\n        /** @private */\n        this.xAxisPrevHeight = [];\n        /** @private */\n        this.xAxisMultiLabelHeight = [];\n        /** @private */\n        this.yAxisPrevHeight = [];\n        /** @private */\n        this.yAxisMultiLabelHeight = [];\n        /** @private */\n        this.multiLevelLabelRectXRegion = [];\n        /** @private */\n        this.xLabelCollection = [];\n        this.chart = chart;\n        this.addEventListener();\n    }\n    /**\n     * Binding events for multi level module.\n     */\n    MultiLevelLabel.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on('click', this.click, this);\n    };\n    /**\n     * Finds multilevel label height.\n     *\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n        var _this = this;\n        var value = 0;\n        var multiLevelLabelsHeight = [];\n        var prevHeight = [];\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n        var labelSize;\n        var height;\n        var padding = 10;\n        var gap;\n        axis.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel, i) {\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle, _this.chart.themeStyle.axisLabelFont);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    height += 2 * multiLevel.border.width +\n                        (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n                    gap = (categoryLabel.maximumTextWidth !== null) ? categoryLabel.maximumTextWidth :\n                        (valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) :\n                            categoryLabel.end, axis) * axisValue) -\n                            (valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) :\n                                categoryLabel.start, axis) * axisValue);\n                    var len = axis.multiLevelLabels[index].categories.length;\n                    gap = ((i === 0 || i === len - 1) && axis.labelPlacement === 'OnTicks' && axis.edgeLabelPlacement === 'Shift') ? gap / 2 : gap;\n                    if ((labelSize.width > gap - padding) && gap > 0 && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle, _this.chart.enableRtl, null, null, _this.chart.themeStyle.axisLabelFont).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height :\n                        ((multiLevelLabelsHeight[index] < height) ? height : multiLevelLabelsHeight[index]);\n                }\n            });\n            prevHeight[index] = value;\n            value += multiLevelLabelsHeight[index] ? (multiLevelLabelsHeight[index] + padding) : 0;\n        });\n        axis.multiLevelLabelHeight = value + ((axis.title !== '' || (this.chart.legendModule && this.chart.legendSettings.visible))\n            ? padding / 2 : 0);\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.yAxisPrevHeight = prevHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.xAxisPrevHeight = prevHeight;\n        }\n    };\n    /**\n     * render x axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n        var _this = this;\n        var x;\n        var y;\n        var padding = 10;\n        var startX;\n        var pointIndex;\n        var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.height) + padding;\n        var endX;\n        var pathRect = '';\n        var start;\n        var end;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var gap;\n        var anchor;\n        var isInversed = axis.isAxisInverse;\n        var argsData;\n        var opposedPosition = axis.isAxisOpposedPosition;\n        var len;\n        var scrollBarHeight = axis.scrollbarSettings.enable || (isOutside && isNullOrUndefined(axis.crossesAt)) ?\n            axis.scrollBarHeight : 0;\n        var clipY = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (axisRect.y + startY - axis.majorTickLines.width) : (axisRect.y - startY - axis.multiLevelLabelHeight);\n        this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            pointIndex = 0;\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                len = multiLevel.categories.length;\n                pathRect = '';\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    startX = valueToCoefficient(start, axis) * axisRect.width;\n                    endX = valueToCoefficient(end, axis) * axisRect.width;\n                    endX = isInversed ? [startX, startX = endX][0] : endX;\n                    labelSize = measureText(argsData.text, argsData.textStyle, _this.chart.themeStyle.axisLabelFont);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n                    x = startX + axisRect.x + padding;\n                    y = (((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ? (startY + axisRect.y +\n                        labelSize.height / 2 + padding + _this.xAxisPrevHeight[level]) : (axisRect.y - startY + labelSize.height / 2 -\n                        _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level])) + scrollBarHeight;\n                    if (argsData.alignment === 'Center') {\n                        x += (endX - startX - padding) / 2;\n                        anchor = 'middle';\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n                        if (axis.labelPlacement === 'OnTicks' && (i === 0 || i === len - 1)) {\n                            x += (endX - startX - padding) / 2;\n                            x = x - labelSize.width / 2;\n                        }\n                        anchor = 'end';\n                    }\n                    else {\n                        anchor = 'start';\n                        x += multiLevel.border.width / 2;\n                    }\n                    y = multiLevel.border.type === 'CurlyBrace' ?\n                        (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? y + padding : y - padding / 2) : y;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    if (multiLevel.overflow !== 'None') {\n                        if (axis.edgeLabelPlacement && axis.labelPlacement === 'OnTicks') {\n                            switch (axis.edgeLabelPlacement) {\n                                case 'None':\n                                    break;\n                                case 'Shift':\n                                    if ((i === 0 || (isInversed && i === len - 1))) {\n                                        if (argsData.alignment === 'Center' && ((options.x < axisRect.x + padding) || (options.x - labelSize.width / 2)) < axis.rect.x) {\n                                            options.x += axisRect.x / 2;\n                                            if ((options.x / 2) < axisRect.x) {\n                                                options.x = axisRect.x + padding / 2;\n                                                options.anchor = 'start';\n                                            }\n                                        }\n                                        else if (argsData.alignment === 'Far' && ((options.x < axisRect.x + padding) || (options.x > axisRect.x + padding))) {\n                                            options.x += labelSize.width / 2 - gap / 2;\n                                        }\n                                        else if (argsData.alignment === 'Near' && ((options.x < axisRect.x + padding) || (options.x > axisRect.x + padding))) {\n                                            options.x = axisRect.x + padding;\n                                        }\n                                        gap = gap / 2;\n                                    }\n                                    else if ((i === len - 1 || (isInversed && i === 0))) {\n                                        if (argsData.alignment === 'Center' && (options.x) > axisRect.x + axisRect.width) {\n                                            options.x -= padding;\n                                            if (options.x > axisRect.width) {\n                                                options.x = axisRect.width + axisRect.x;\n                                                options.anchor = 'end';\n                                            }\n                                        }\n                                        else if (argsData.alignment === 'Far') {\n                                            options.x = axisRect.width + axisRect.x;\n                                        }\n                                        else {\n                                            options.x = options.x;\n                                        }\n                                        gap = gap / 2;\n                                    }\n                                    break;\n                            }\n                        }\n                        options.text = (multiLevel.overflow === 'Wrap') ?\n                            textWrap(argsData.text, gap, argsData.textStyle, _this.chart.enableRtl, null, null, _this.chart.themeStyle.axisLabelFont) : textTrim(gap, argsData.text, argsData.textStyle, _this.chart.enableRtl, _this.chart.themeStyle.axisLabelFont);\n                        options.x = options.x - padding / 2;\n                    }\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabelFont.color, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas, null, _this.chart.themeStyle.axisLabelFont);\n                    if (_this.chart.enableCanvas) {\n                        var textSize = measureText(argsData.text, argsData.textStyle, _this.chart.themeStyle.axisLabelFont);\n                        _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n                        _this.xLabelCollection.push(options);\n                    }\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex);\n                        // fix for generating seperate rect\n                        if (pathRect !== '') {\n                            _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var value;\n        var value1;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var width = gap + padding;\n        var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n        var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n        var x = startX + axisRect.x;\n        var y = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? (startY + axisRect.y +\n            this.xAxisPrevHeight[labelIndex] + scrollBarHeight) : (axisRect.y - startY -\n            this.xAxisPrevHeight[labelIndex] - scrollBarHeight);\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                var len = axis.multiLevelLabels[labelIndex].categories.length;\n                var lastX = (categoryIndex === len - 1 && (x + width > axisRect.width)) ? axisRect.width + axisRect.x : x + width;\n                var initialX = (categoryIndex === 0 && axis.multiLevelLabels[labelIndex].categories[0].start <= 0) ? axisRect.x : x;\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + initialX + ' ' + y + ' L ' + initialX + ' ' + (y + height) + ' M ' + (lastX) + ' '\n                    + y + ' L ' + (lastX) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (initialX) + ' ' + (y + height) + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + initialX + ' ' + y + ' L ' + (lastX) + ' ' + y) : ' ';\n                break;\n            case 'Brace':\n                if (alignment === 'Near') {\n                    value = textOptions.x;\n                    value1 = textOptions.x + labelSize.width + 2;\n                }\n                else if (alignment === 'Center') {\n                    value = textOptions.x - labelSize.width / 2 - 2;\n                    value1 = textOptions.x + labelSize.width / 2 + 2;\n                }\n                else {\n                    value = textOptions.x - labelSize.width - 2;\n                    value1 = textOptions.x;\n                }\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) +\n                    ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) +\n                    ' M ' + (value1) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) +\n                    ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                else {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) +\n                        ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else if (alignment === 'Near') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' '\n                        + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) +\n                        ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C '\n                        + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n        var _this = this;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var x;\n        var y;\n        var padding = 10;\n        var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.width) + padding;\n        var startY;\n        var path = '';\n        var endY;\n        var argsData;\n        var pointIndex;\n        var isInversed = axis.isAxisInverse;\n        var start;\n        var end;\n        var gap;\n        var anchor = 'middle';\n        var opposedPosition = axis.isAxisOpposedPosition;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var clipX = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (rect.x - axis.multiLevelLabelHeight - startX - padding) : (rect.x + startX);\n        this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id\n            + 'YAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            pointIndex = 0;\n            multiLevel.categories.map(function (categoryLabel, i) {\n                path = '';\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                startY = valueToCoefficient((start), axis) * (rect.height);\n                endY = valueToCoefficient((end), axis) * (rect.height);\n                endY = isInversed ? [startY, startY = endY][0] : endY;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    var maximumWidth = ((categoryLabel.maximumTextWidth === null ? (_this.yAxisMultiLabelHeight[level] / 2) : categoryLabel.maximumTextWidth / 2));\n                    labelSize = measureText(argsData.text, argsData.textStyle, _this.chart.themeStyle.axisLabelFont);\n                    gap = endY - startY;\n                    x = rect.x - startX - _this.yAxisPrevHeight[level] -\n                        (maximumWidth) - padding / 2;\n                    y = rect.height + rect.y - startY - (gap / 2);\n                    if (opposedPosition) {\n                        x = isOutside ? rect.x + startX + padding / 2 + (maximumWidth) +\n                            _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - (maximumWidth) -\n                            _this.yAxisPrevHeight[level] - padding / 2;\n                    }\n                    else {\n                        x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + (maximumWidth) +\n                            _this.yAxisPrevHeight[level];\n                    }\n                    if (argsData.alignment === 'Center') {\n                        y += labelSize.height / 4;\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        y += gap / 2 - labelSize.height / 2;\n                    }\n                    else {\n                        y = y - gap / 2 + labelSize.height;\n                    }\n                    x = multiLevel.border.type === 'CurlyBrace' ? (((!opposedPosition && isOutside) ||\n                        (opposedPosition && !isOutside)) ? x - padding : x + padding) : x;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    options.text = (multiLevel.overflow === 'Trim') ?\n                        textTrim((categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] :\n                            categoryLabel.maximumTextWidth), argsData.text, argsData.textStyle, _this.chart.enableRtl, _this.chart.themeStyle.axisLabelFont) : options.text;\n                    options.text = (multiLevel.overflow === 'Wrap') ?\n                        textWrap(argsData.text, (categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] :\n                            categoryLabel.maximumTextWidth), argsData.textStyle, _this.chart.enableRtl, null, null, _this.chart.themeStyle.axisLabelFont) : options.text;\n                    if (typeof options.text !== 'string' && options.text.length > 1) {\n                        options.y -= (padding * options.text.length / 2);\n                    }\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabelFont.color, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas, null, _this.chart.themeStyle.axisLabelFont);\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n                        if (path !== '') {\n                            _this.createBorderElement(level, index, axis, path, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render y axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var height = endY - startY;\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var y = rect.y + rect.height - endY;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var width = (groupLabel.categories[categoryIndex].maximumTextWidth === null ? this.yAxisMultiLabelHeight[labelIndex] :\n            (groupLabel.categories[categoryIndex].maximumTextWidth)) + padding;\n        var x = (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? rect.x - startX -\n            this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? -width : width;\n                path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y +\n                    ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (x + width) + ' ' + y + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + (x) + ' ' + (y + height) + 'L' + ' ' + (x) + ' ' + y + ' ') : ' ';\n                break;\n            case 'Brace':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? width : -width;\n                path += 'M ' + (x) + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' +\n                    (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' +\n                    (textOptions.y + labelSize.height / 4 + 2) +\n                    ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + (x) + ' ' + (y + height);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                else {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' '\n                        + x + ' ' + (y + height);\n                }\n                else if (alignment === 'Far') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) +\n                        ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' '\n                        + (y + height);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding1) + ' ' + (y + 15) +\n                        ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x +\n                        ' ' + (y + height);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * create cliprect\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n        this.multiElements = this.chart.renderer.createGroup({\n            'id': axisId,\n            'clip-path': 'url(#' + clipId + ')'\n        });\n        if (!this.chart.enableCanvas) {\n            this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n                'id': clipId,\n                'x': x,\n                'y': y,\n                'width': width,\n                'height': height,\n                'fill': 'white',\n                'stroke-width': 1, 'stroke': 'Gray'\n            }, this.chart.renderer));\n        }\n    };\n    /**\n     * create borer element\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n        var direction = path;\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n        borderElement.style.pointerEvents = 'none';\n        appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n        var argsData = {\n            cancel: false, name: axisMultiLabelRender, axis: axis,\n            text: text, textStyle: textStyle, alignment: textAlignment, customAttributes: customAttributes\n        };\n        this.chart.trigger(axisMultiLabelRender, argsData);\n        return argsData;\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n        var level = parseInt(labelIndex.substr(0, 1), 10);\n        var textElement = parseInt(labelIndex.substr(7), 10);\n        var chart = this.chart;\n        var axis = chart.axisCollections[axisIndex];\n        var categories = axis.multiLevelLabels[level].categories;\n        var text = categories[textElement].text;\n        var start = categories[textElement].start;\n        var end = categories[textElement].end;\n        var customAttributes = categories[textElement].customAttributes;\n        var multilevelclickArgs = {\n            axis: axis, level: level, text: text, customAttributes: customAttributes,\n            start: start, end: end, name: multiLevelLabelClick, cancel: false\n        };\n        this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n        return multilevelclickArgs;\n    };\n    /**\n     * To click the multi level label\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n        var textId;\n        var elementId;\n        var axisIndex;\n        if (this.chart.enableCanvas) {\n            for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n                if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n                    targetId = this.xLabelCollection[i].id;\n                }\n            }\n        }\n        if (targetId.indexOf(multiLevelID) > -1) {\n            textId = targetId.split(multiLevelID)[1];\n            elementId = targetId.split(multiLevelID)[0];\n            axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n            this.MultiLevelLabelClick(textId, axisIndex);\n        }\n    };\n    /**\n     * To get the module name for `MultiLevelLabel`.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.getModuleName = function () {\n        return 'MultiLevelLabel';\n    };\n    /**\n     * To destroy the `MultiLevelLabel` module.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return MultiLevelLabel;\n}());\nexport { MultiLevelLabel };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}